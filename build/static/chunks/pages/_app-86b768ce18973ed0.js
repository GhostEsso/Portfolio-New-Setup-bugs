(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888],{5193:function(a,b,c){"use strict";c.d(b,{zx:function(){return x},hU:function(){return A}});var d=c(7375),e=c(6052),f=c(5031),g=c(8554),h=c.n(g),i=c(7294),j=c(6450),k=c(9238);function l(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||(e[c]=a[c]);return e}function m(){return(m=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}var n=["size","colorScheme","variant","className","spacing","isAttached","isDisabled"],o=(0,j.kr)({strict:!1,name:"ButtonGroupContext"}),p=o[0],q=o[1],r=(0,e.Gp)(function(a,b){var c=a.size,d=a.colorScheme,g=a.variant,h=a.className,j=a.spacing,k=a.isAttached,o=a.isDisabled,q=l(a,n),r=(0,f.cx)("chakra-button__group",h),s=i.useMemo(function(){return{size:c,colorScheme:d,variant:g,isDisabled:o}},[c,d,g,o]),t={display:"inline-flex"};return t=k?m({},t,{"> *:first-of-type:not(:last-of-type)":{borderEndRadius:0},"> *:not(:first-of-type):not(:last-of-type)":{borderRadius:0},"> *:not(:first-of-type):last-of-type":{borderStartRadius:0}}):m({},t,{"& > *:not(style) ~ *:not(style)":{marginStart:void 0===j?"0.5rem":j}}),i.createElement(p,{value:s},i.createElement(e.m$.div,m({ref:b,role:"group",__css:t,className:r},q)))});f.Ts&&(r.displayName="ButtonGroup");var s=["label","placement","spacing","children","className","__css"],t=function(a){var b=a.label,c=a.placement;a.spacing;var d=a.children,g=void 0===d?i.createElement(k.$,{color:"currentColor",width:"1em",height:"1em"}):d,h=a.className,j=a.__css,n=l(a,s),o=(0,f.cx)("chakra-button__spinner",h),p="start"===c?"marginEnd":"marginStart",q=i.useMemo(function(){var a;return m(((a={display:"flex",alignItems:"center",position:b?"relative":"absolute"})[p]=b?"0.5rem":0,a.fontSize="1em",a.lineHeight="normal",a),j)},[j,b,p]);return i.createElement(e.m$.div,m({className:o},n,{__css:q}),g)};f.Ts&&(t.displayName="ButtonSpinner");var u=["children","className"],v=function(a){var b=a.children,c=a.className,d=l(a,u),g=i.isValidElement(b)?i.cloneElement(b,{"aria-hidden":!0,focusable:!1}):b,h=(0,f.cx)("chakra-button__icon",c);return i.createElement(e.m$.span,m({display:"inline-flex",alignSelf:"center",flexShrink:0},d,{className:h}),g)};f.Ts&&(v.displayName="ButtonIcon");var w=["isDisabled","isLoading","isActive","isFullWidth","children","leftIcon","rightIcon","loadingText","iconSpacing","type","spinner","spinnerPlacement","className","as"],x=(0,e.Gp)(function(a,b){var c,g,j,k,n,o=q(),p=(0,e.mq)("Button",m({},o,a)),r=(0,e.Lr)(a),s=r.isDisabled,u=void 0===s?null==o?void 0:o.isDisabled:s,v=r.isLoading,x=r.isActive,z=r.isFullWidth,A=r.children,B=r.leftIcon,C=r.rightIcon,D=r.loadingText,E=r.iconSpacing,F=r.type,G=r.spinner,H=r.spinnerPlacement,I=void 0===H?"start":H,J=r.className,K=r.as,L=l(r,w),M=i.useMemo(function(){var a,b=h()({},null!=(a=null==p?void 0:p["_focus"])?a:{},{zIndex:1});return m({display:"inline-flex",appearance:"none",alignItems:"center",justifyContent:"center",userSelect:"none",position:"relative",whiteSpace:"nowrap",verticalAlign:"middle",outline:"none",width:z?"100%":"auto"},p,!!o&&{_focus:b})},[p,o,z]),N=(c=K,j=(g=i.useState(!c))[0],k=g[1],n=i.useCallback(function(a){a&&k("BUTTON"===a.tagName)},[]),{ref:n,type:j?"button":void 0}),O=N.ref,P=N.type,Q={rightIcon:C,leftIcon:B,iconSpacing:void 0===E?"0.5rem":E,children:A};return i.createElement(e.m$.button,m({disabled:u||v,ref:(0,d.qq)(b,O),as:K,type:null!=F?F:P,"data-active":(0,f.PB)(x),"data-loading":(0,f.PB)(v),__css:M,className:(0,f.cx)("chakra-button",J)},L),v&&"start"===I&&i.createElement(t,{className:"chakra-button__spinner--start",label:D,placement:"start"},G),v?D||i.createElement(e.m$.span,{opacity:0},i.createElement(y,Q)):i.createElement(y,Q),v&&"end"===I&&i.createElement(t,{className:"chakra-button__spinner--end",label:D,placement:"end"},G))});function y(a){var b=a.leftIcon,c=a.rightIcon,d=a.children,e=a.iconSpacing;return i.createElement(i.Fragment,null,b&&i.createElement(v,{marginEnd:e},b),d,c&&i.createElement(v,{marginStart:e},c))}f.Ts&&(x.displayName="Button");var z=["icon","children","isRound","aria-label"],A=(0,e.Gp)(function(a,b){var c=a.icon,d=a.children,e=a.isRound,f=a["aria-label"],g=l(a,z),h=c||d,j=i.isValidElement(h)?i.cloneElement(h,{"aria-hidden":!0,focusable:!1}):null;return i.createElement(x,m({padding:"0",borderRadius:e?"full":void 0,ref:b,"aria-label":f},g),j)});f.Ts&&(A.displayName="IconButton")},949:function(a,b,c){"use strict";c.d(b,{SG:function(){return p},If:function(){return o},ff:function(){return s}});var d=c(5393),e=c(5031),f=c(7294);function g(){return(g=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}var h={classList:{add:e.ZT,remove:e.ZT}},i={light:"(prefers-color-scheme: light)",dark:"(prefers-color-scheme: dark)"},j={get:function(){return document.documentElement.style.getPropertyValue("--chakra-ui-color-mode")},set:function(a){e.jU&&document.documentElement.style.setProperty("--chakra-ui-color-mode",a)}},k=function(){return"undefined"!=typeof Storage},l="chakra-ui-color-mode",m={get:function(a){if(!k())return a;try{var b=localStorage.getItem(l);return null!=b?b:a}catch(c){return e.Ts&&console.log(c),a}},set:function(a){if(k())try{localStorage.setItem(l,a)}catch(b){e.Ts&&console.log(b)}},type:"localStorage"},n=f.createContext({});e.Ts&&(n.displayName="ColorModeContext");var o=function(){var a=f.useContext(n);if(void 0===a)throw new Error("useColorMode must be used within a ColorModeProvider");return a};function p(a){var b=a.value,c=a.children,g=a.options,k=g.useSystemColorMode,l=g.initialColorMode,o=a.colorModeManager,p=void 0===o?m:o,q="dark"===l?"dark":"light",r=f.useState("cookie"===p.type?p.get(q):q),s=r[0],t=r[1],u=(0,d.O)(),v=u.document;f.useEffect(function(){if(e.jU&&"localStorage"===p.type){var a,b,c=(a=q,(null!=(b=function(a){var b=null==window.matchMedia?void 0:window.matchMedia(a);if(b)return!!b.media===b.matches}(i.dark))?b:"dark"===a)?"dark":"light");if(k)return t(c);var d=j.get(),f=p.get();return d?t(d):f?t(f):"system"===l?t(c):t(q)}},[p,k,q,l]),f.useEffect(function(){var a,b,c,d="dark"===s;a=d,(c=(b=v,e.jU?b.body:h)).classList.add(a?"chakra-ui-dark":"chakra-ui-light"),c.classList.remove(a?"chakra-ui-light":"chakra-ui-dark"),j.set(d?"dark":"light")},[s,v]);var w=f.useCallback(function(a,b){if(void 0===b&&(b=!1),b){if(p.get()&&!k)return}else p.set(a);t(a)},[p,k]),x=f.useCallback(function(){w("light"===s?"dark":"light")},[s,w]);f.useEffect(function(){var a,b=k||"system"===l;return b&&(a=(function(a){if(!("matchMedia"in window))return e.ZT;var b=window.matchMedia(i.dark),c=function(){a(b.matches?"dark":"light",!0)};return b.addEventListener("change",c),function(){b.removeEventListener("change",c)}})(w)),function(){a&&b&&a()}},[w,k,l]);var y=f.useMemo(function(){return{colorMode:null!=b?b:s,toggleColorMode:b?e.ZT:x,setColorMode:b?e.ZT:w}},[s,w,x,b]);return f.createElement(n.Provider,{value:y},c)}e.Ts&&(p.displayName="ColorModeProvider");var q=function(a){var b=f.useMemo(function(){return{colorMode:"dark",toggleColorMode:e.ZT,setColorMode:e.ZT}},[]);return f.createElement(n.Provider,g({value:b},a))};e.Ts&&(q.displayName="DarkMode");var r=function(a){var b=f.useMemo(function(){return{colorMode:"light",toggleColorMode:e.ZT,setColorMode:e.ZT}},[]);return f.createElement(n.Provider,g({value:b},a))};function s(a,b){return"dark"===o().colorMode?b:a}e.Ts&&(r.displayName="LightMode")},7375:function(a,b,c){"use strict";c.d(b,{vc:function(){return m},Tx:function(){return i},qY:function(){return p},Ck:function(){return r},NW:function(){return t},Me:function(){return n},ZS:function(){return o},qq:function(){return u},O3:function(){return v},Gw:function(){return g},bx:function(){return x},zq:function(){return s},rf:function(){return q}});var d=c(7294),e=c(5031),f=c(640);c.n(f);var g=e.jU?d.useLayoutEffect:d.useEffect;function h(a,b){void 0===b&&(b=[]);var c=d.useRef(a);return g(function(){c.current=a}),d.useCallback(function(){for(var a=arguments.length,b=new Array(a),d=0;d<a;d++)b[d]=arguments[d];return null==c.current?void 0:c.current.apply(c,b)},b)}function i(a){var b=a.value,c=a.defaultValue,f=a.onChange,g=a.shouldUpdate,i=h(f),j=h(void 0===g?function(a,b){return a!==b}:g),k=d.useState(c),l=k[0],m=k[1],n=void 0!==b,o=n?b:l,p=d.useCallback(function(a){var b=(0,e.Pu)(a,o);j(o,b)&&(n||m(b),i(b))},[n,i,o,j]);return[o,p]}function j(){return(j=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}var k={prefix:Math.round(10e9*Math.random()),current:0},l=d.createContext(k),m=d.memo(function(a){var b=a.children,c=d.useContext(l),e=c===k,f=d.useMemo(function(){return{prefix:e?0:++c.prefix,current:0}},[e,c]);return d.createElement(l.Provider,{value:f},b)});function n(a,b){var c=d.useContext(l);return d.useMemo(function(){return a||[b,c.prefix,++c.current].filter(Boolean).join("-")},[a,b])}function o(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),e=1;e<b;e++)c[e-1]=arguments[e];var f=n(a);return d.useMemo(function(){return c.map(function(a){return a+"-"+f})},[f,c])}function p(a){void 0===a&&(a={});var b,c,f,g=a,i=g.onClose,k=g.onOpen,l=g.isOpen,m=g.id,o=h(k),p=h(i),q=d.useState(a.defaultIsOpen||!1),r=q[0],s=q[1],t=(b=l,c=r,[f=void 0!==b,f&& void 0!==b?b:c]),u=t[0],v=t[1],w=n(m,"disclosure"),x=d.useCallback(function(){u||s(!1),null==p||p()},[u,p]),y=d.useCallback(function(){u||s(!0),null==o||o()},[u,o]),z=d.useCallback(function(){(v?x:y)()},[v,y,x]);return{isOpen:!!v,onOpen:y,onClose:x,onToggle:z,isControlled:u,getButtonProps:function(a){return void 0===a&&(a={}),j({},a,{"aria-expanded":"true","aria-controls":w,onClick:(0,e.v0)(a.onClick,z)})},getDisclosureProps:function(a){return void 0===a&&(a={}),j({},a,{hidden:!v,id:w})}}}var q=function(a,b){var c=d.useRef(!1);return d.useEffect(function(){if(c.current)return a();c.current=!0},b),c.current};function r(a,b){var c=b.shouldFocus,d=b.visible,f=b.focusRef,g=c&&!d;q(function(){if(g&&!function(a){var b=a.current;if(!b)return!1;var c=(0,e.vY)(b);return!!c&& !(0,e.r3)(b,c)&&!!(0,e.Wq)(c)}(a)){var b=(null==f?void 0:f.current)||a.current;b&&(0,e.T_)(b,{nextTick:!0})}},[g,a,f])}function s(a,b){return void 0===b&&(b=[]),d.useEffect(function(){return function(){return a()}},b)}function t(){var a=d.useRef(!1),b=d.useState(0),c=b[0],e=b[1];return s(function(){a.current=!0}),d.useCallback(function(){a.current||e(c+1)},[c])}function u(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return d.useMemo(function(){return b.every(function(a){return null==a})?null:function(a){b.forEach(function(b){b&&(function(a,b){if(null!=a){if("function"==typeof a){a(b);return}try{a.current=b}catch(c){throw new Error("Cannot assign value '"+b+"' to ref '"+a+"'")}}})(b,a)})}},b)}function v(a){var b=a.ref,c=a.handler,f=a.enabled,g=void 0===f||f,i=h(c),j=(0,d.useRef)({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}).current;(0,d.useEffect)(function(){if(g){var a=function(a){w(a,b)&&(j.isPointerDown=!0)},d=function(a){if(j.ignoreEmulatedMouseEvents){j.ignoreEmulatedMouseEvents=!1;return}j.isPointerDown&&c&&w(a,b)&&(j.isPointerDown=!1,i(a))},f=function(a){j.ignoreEmulatedMouseEvents=!0,c&&j.isPointerDown&&w(a,b)&&(j.isPointerDown=!1,i(a))},h=(0,e.lZ)(b.current);return h.addEventListener("mousedown",a,!0),h.addEventListener("mouseup",d,!0),h.addEventListener("touchstart",a,!0),h.addEventListener("touchend",f,!0),function(){h.removeEventListener("mousedown",a,!0),h.removeEventListener("mouseup",d,!0),h.removeEventListener("touchstart",a,!0),h.removeEventListener("touchend",f,!0)}}},[c,b,i,j,g])}function w(a,b){var c,d=a.target;return!(a.button>0)&&(!d||!!(0,e.lZ)(d).body.contains(d))&&!(null!=(c=b.current)&&c.contains(d))}function x(a){void 0===a&&(a={});var b=a,c=b.timeout,e=void 0===c?300:c,f=b.preventDefault,g=void 0===f?function(){return!0}:f,h=d.useState([]),i=h[0],j=h[1],k=d.useRef(),l=function(){k.current&&(clearTimeout(k.current),k.current=null)},m=function(){l(),k.current=setTimeout(function(){j([]),k.current=null},e)};return d.useEffect(function(){return l},[]),function(a){return function(b){if("Backspace"===b.key){var c,d=[].concat(i);d.pop(),j(d);return}if(1===(c=b.key).length||c.length>1&&/[^a-zA-Z0-9]/.test(c)){var e=i.concat(b.key);g(b)&&(b.preventDefault(),b.stopPropagation()),j(e),a(e.join("")),m()}}}}},894:function(a,b,c){"use strict";c.d(b,{JO:function(){return j}});var d=c(6052),e=c(5031),f=c(7294);function g(){return(g=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}var h=["as","viewBox","color","focusable","children","className","__css"],i={path:f.createElement("g",{stroke:"currentColor",strokeWidth:"1.5"},f.createElement("path",{strokeLinecap:"round",fill:"none",d:"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25"}),f.createElement("path",{fill:"currentColor",strokeLinecap:"round",d:"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0"}),f.createElement("circle",{fill:"none",strokeMiterlimit:"10",cx:"12",cy:"12",r:"11.25"})),viewBox:"0 0 24 24"},j=(0,d.Gp)(function(a,b){var c=a.as,j=a.viewBox,k=a.color,l=a.focusable,m=a.children,n=a.className,o=a.__css,p=function(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||(e[c]=a[c]);return e}(a,h),q=(0,e.cx)("chakra-icon",n),r=g({w:"1em",h:"1em",display:"inline-block",lineHeight:"1em",flexShrink:0,color:void 0===k?"currentColor":k},o),s={ref:b,focusable:void 0!==l&&l,className:q,__css:r},t=null!=j?j:i.viewBox;if(c&&"string"!=typeof c)return f.createElement(d.m$.svg,g({as:c},s,p));var u=null!=m?m:i.path;return f.createElement(d.m$.svg,g({verticalAlign:"middle",viewBox:t},s,p),u)});e.Ts&&(j.displayName="Icon")},8485:function(a,b,c){"use strict";c.d(b,{XC:function(){return n},h0:function(){return o},Uq:function(){return p},kL:function(){return l},NW:function(){return m}});var d=c(6052),e=c(5031),f=c(7294);function g(){return(g=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}var h=["as","viewBox","color","focusable","children","className","__css"],i={path:f.createElement("g",{stroke:"currentColor",strokeWidth:"1.5"},f.createElement("path",{strokeLinecap:"round",fill:"none",d:"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25"}),f.createElement("path",{fill:"currentColor",strokeLinecap:"round",d:"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0"}),f.createElement("circle",{fill:"none",strokeMiterlimit:"10",cx:"12",cy:"12",r:"11.25"})),viewBox:"0 0 24 24"},j=(0,d.Gp)(function(a,b){var c=a.as,j=a.viewBox,k=a.color,l=a.focusable,m=a.children,n=a.className,o=a.__css,p=function(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||(e[c]=a[c]);return e}(a,h),q=(0,e.cx)("chakra-icon",n),r=g({w:"1em",h:"1em",display:"inline-block",lineHeight:"1em",flexShrink:0,color:void 0===k?"currentColor":k},o),s={ref:b,focusable:void 0!==l&&l,className:q,__css:r},t=null!=j?j:i.viewBox;if(c&&"string"!=typeof c)return f.createElement(d.m$.svg,g({as:c},s,p));var u=null!=m?m:i.path;return f.createElement(d.m$.svg,g({verticalAlign:"middle",viewBox:t},s,p),u)});function k(a){var b=a.viewBox,c=void 0===b?"0 0 24 24":b,h=a.d,i=a.path,k=a.displayName,l=a.defaultProps,m=void 0===l?{}:l,n=(0,d.Gp)(function(a,b){return f.createElement(j,g({ref:b,viewBox:c},m,a),null!=i?i:f.createElement("path",{fill:"currentColor",d:h}))});return e.Ts&&(n.displayName=k),n}e.Ts&&(j.displayName="Icon"),k({d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z",displayName:"CopyIcon"}),k({d:"M23.384,21.619,16.855,15.09a9.284,9.284,0,1,0-1.768,1.768l6.529,6.529a1.266,1.266,0,0,0,1.768,0A1.251,1.251,0,0,0,23.384,21.619ZM2.75,9.5a6.75,6.75,0,1,1,6.75,6.75A6.758,6.758,0,0,1,2.75,9.5Z",displayName:"SearchIcon"}),k({d:"M23.414,20.591l-4.645-4.645a10.256,10.256,0,1,0-2.828,2.829l4.645,4.644a2.025,2.025,0,0,0,2.828,0A2,2,0,0,0,23.414,20.591ZM10.25,3.005A7.25,7.25,0,1,1,3,10.255,7.258,7.258,0,0,1,10.25,3.005Z",displayName:"Search2Icon"});var l=k({d:"M21.4,13.7C20.6,13.9,19.8,14,19,14c-5,0-9-4-9-9c0-0.8,0.1-1.6,0.3-2.4c0.1-0.3,0-0.7-0.3-1 c-0.3-0.3-0.6-0.4-1-0.3C4.3,2.7,1,7.1,1,12c0,6.1,4.9,11,11,11c4.9,0,9.3-3.3,10.6-8.1c0.1-0.3,0-0.7-0.3-1 C22.1,13.7,21.7,13.6,21.4,13.7z",displayName:"MoonIcon"}),m=k({displayName:"SunIcon",path:f.createElement("g",{strokeLinejoin:"round",strokeLinecap:"round",strokeWidth:"2",fill:"none",stroke:"currentColor"},f.createElement("circle",{cx:"12",cy:"12",r:"5"}),f.createElement("path",{d:"M12 1v2"}),f.createElement("path",{d:"M12 21v2"}),f.createElement("path",{d:"M4.22 4.22l1.42 1.42"}),f.createElement("path",{d:"M18.36 18.36l1.42 1.42"}),f.createElement("path",{d:"M1 12h2"}),f.createElement("path",{d:"M21 12h2"}),f.createElement("path",{d:"M4.22 19.78l1.42-1.42"}),f.createElement("path",{d:"M18.36 5.64l1.42-1.42"}))});k({d:"M0,12a1.5,1.5,0,0,0,1.5,1.5h8.75a.25.25,0,0,1,.25.25V22.5a1.5,1.5,0,0,0,3,0V13.75a.25.25,0,0,1,.25-.25H22.5a1.5,1.5,0,0,0,0-3H13.75a.25.25,0,0,1-.25-.25V1.5a1.5,1.5,0,0,0-3,0v8.75a.25.25,0,0,1-.25.25H1.5A1.5,1.5,0,0,0,0,12Z",displayName:"AddIcon"}),k({displayName:"SmallAddIcon",viewBox:"0 0 20 20",path:f.createElement("path",{fill:"currentColor",d:"M14 9h-3V6c0-.55-.45-1-1-1s-1 .45-1 1v3H6c-.55 0-1 .45-1 1s.45 1 1 1h3v3c0 .55.45 1 1 1s1-.45 1-1v-3h3c.55 0 1-.45 1-1s-.45-1-1-1z",fillRule:"evenodd"})}),k({viewBox:"0 0 14 14",d:"M14,7.77 L14,6.17 L12.06,5.53 L11.61,4.44 L12.49,2.6 L11.36,1.47 L9.55,2.38 L8.46,1.93 L7.77,0.01 L6.17,0.01 L5.54,1.95 L4.43,2.4 L2.59,1.52 L1.46,2.65 L2.37,4.46 L1.92,5.55 L0,6.23 L0,7.82 L1.94,8.46 L2.39,9.55 L1.51,11.39 L2.64,12.52 L4.45,11.61 L5.54,12.06 L6.23,13.98 L7.82,13.98 L8.45,12.04 L9.56,11.59 L11.4,12.47 L12.53,11.34 L11.61,9.53 L12.08,8.44 L14,7.75 L14,7.77 Z M7,10 C5.34,10 4,8.66 4,7 C4,5.34 5.34,4 7,4 C8.66,4 10,5.34 10,7 C10,8.66 8.66,10 7,10 Z",displayName:"SettingsIcon"}),k({displayName:"CheckCircleIcon",d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"}),k({d:"M19.5,9.5h-.75V6.75a6.75,6.75,0,0,0-13.5,0V9.5H4.5a2,2,0,0,0-2,2V22a2,2,0,0,0,2,2h15a2,2,0,0,0,2-2V11.5A2,2,0,0,0,19.5,9.5Zm-9.5,6a2,2,0,1,1,3,1.723V19.5a1,1,0,0,1-2,0V17.223A1.994,1.994,0,0,1,10,15.5ZM7.75,6.75a4.25,4.25,0,0,1,8.5,0V9a.5.5,0,0,1-.5.5H8.25a.5.5,0,0,1-.5-.5Z",displayName:"LockIcon"}),k({d:"M19.5,9.5h-.75V6.75A6.751,6.751,0,0,0,5.533,4.811a1.25,1.25,0,1,0,2.395.717A4.251,4.251,0,0,1,16.25,6.75V9a.5.5,0,0,1-.5.5H4.5a2,2,0,0,0-2,2V22a2,2,0,0,0,2,2h15a2,2,0,0,0,2-2V11.5A2,2,0,0,0,19.5,9.5Zm-9.5,6a2,2,0,1,1,3,1.723V19.5a1,1,0,0,1-2,0V17.223A1.994,1.994,0,0,1,10,15.5Z",displayName:"UnlockIcon"}),k({displayName:"ViewIcon",path:f.createElement("g",{fill:"currentColor"},f.createElement("path",{d:"M23.432,10.524C20.787,7.614,16.4,4.538,12,4.6,7.6,4.537,3.213,7.615.568,10.524a2.211,2.211,0,0,0,0,2.948C3.182,16.351,7.507,19.4,11.839,19.4h.308c4.347,0,8.671-3.049,11.288-5.929A2.21,2.21,0,0,0,23.432,10.524ZM7.4,12A4.6,4.6,0,1,1,12,16.6,4.6,4.6,0,0,1,7.4,12Z"}),f.createElement("circle",{cx:"12",cy:"12",r:"2"}))}),k({displayName:"ViewOffIcon",path:f.createElement("g",{fill:"currentColor"},f.createElement("path",{d:"M23.2,10.549a20.954,20.954,0,0,0-4.3-3.6l4-3.995a1,1,0,1,0-1.414-1.414l-.018.018a.737.737,0,0,1-.173.291l-19.5,19.5c-.008.007-.018.009-.026.017a1,1,0,0,0,1.631,1.088l4.146-4.146a11.26,11.26,0,0,0,4.31.939h.3c4.256,0,8.489-2.984,11.051-5.8A2.171,2.171,0,0,0,23.2,10.549ZM16.313,13.27a4.581,4.581,0,0,1-3,3.028,4.3,4.3,0,0,1-3.1-.19.253.253,0,0,1-.068-.407l5.56-5.559a.252.252,0,0,1,.407.067A4.3,4.3,0,0,1,16.313,13.27Z"}),f.createElement("path",{d:"M7.615,13.4a.244.244,0,0,0,.061-.24A4.315,4.315,0,0,1,7.5,12,4.5,4.5,0,0,1,12,7.5a4.276,4.276,0,0,1,1.16.173.244.244,0,0,0,.24-.062l1.941-1.942a.254.254,0,0,0-.1-.421A10.413,10.413,0,0,0,12,4.75C7.7,4.692,3.4,7.7.813,10.549a2.15,2.15,0,0,0-.007,2.9,21.209,21.209,0,0,0,3.438,3.03.256.256,0,0,0,.326-.029Z"}))}),k({d:"M11.2857,6.05714 L10.08571,4.85714 L7.85714,7.14786 L7.85714,1 L6.14286,1 L6.14286,7.14786 L3.91429,4.85714 L2.71429,6.05714 L7,10.42857 L11.2857,6.05714 Z M1,11.2857 L1,13 L13,13 L13,11.2857 L1,11.2857 Z",displayName:"DownloadIcon",viewBox:"0 0 14 14"}),k({displayName:"DeleteIcon",path:f.createElement("g",{fill:"currentColor"},f.createElement("path",{d:"M19.452 7.5H4.547a.5.5 0 00-.5.545l1.287 14.136A2 2 0 007.326 24h9.347a2 2 0 001.992-1.819L19.95 8.045a.5.5 0 00-.129-.382.5.5 0 00-.369-.163zm-9.2 13a.75.75 0 01-1.5 0v-9a.75.75 0 011.5 0zm5 0a.75.75 0 01-1.5 0v-9a.75.75 0 011.5 0zM22 4h-4.75a.25.25 0 01-.25-.25V2.5A2.5 2.5 0 0014.5 0h-5A2.5 2.5 0 007 2.5v1.25a.25.25 0 01-.25.25H2a1 1 0 000 2h20a1 1 0 000-2zM9 3.75V2.5a.5.5 0 01.5-.5h5a.5.5 0 01.5.5v1.25a.25.25 0 01-.25.25h-5.5A.25.25 0 019 3.75z"}))}),k({displayName:"RepeatIcon",path:f.createElement("g",{fill:"currentColor"},f.createElement("path",{d:"M10.319,4.936a7.239,7.239,0,0,1,7.1,2.252,1.25,1.25,0,1,0,1.872-1.657A9.737,9.737,0,0,0,9.743,2.5,10.269,10.269,0,0,0,2.378,9.61a.249.249,0,0,1-.271.178l-1.033-.13A.491.491,0,0,0,.6,9.877a.5.5,0,0,0-.019.526l2.476,4.342a.5.5,0,0,0,.373.248.43.43,0,0,0,.062,0,.5.5,0,0,0,.359-.152l3.477-3.593a.5.5,0,0,0-.3-.844L5.15,10.172a.25.25,0,0,1-.2-.333A7.7,7.7,0,0,1,10.319,4.936Z"}),f.createElement("path",{d:"M23.406,14.1a.5.5,0,0,0,.015-.526l-2.5-4.329A.5.5,0,0,0,20.546,9a.489.489,0,0,0-.421.151l-3.456,3.614a.5.5,0,0,0,.3.842l1.848.221a.249.249,0,0,1,.183.117.253.253,0,0,1,.023.216,7.688,7.688,0,0,1-5.369,4.9,7.243,7.243,0,0,1-7.1-2.253,1.25,1.25,0,1,0-1.872,1.656,9.74,9.74,0,0,0,9.549,3.03,10.261,10.261,0,0,0,7.369-7.12.251.251,0,0,1,.27-.179l1.058.127a.422.422,0,0,0,.06,0A.5.5,0,0,0,23.406,14.1Z"}))}),k({displayName:"RepeatClockIcon",path:f.createElement("g",{fill:"currentColor"},f.createElement("path",{d:"M12.965,6a1,1,0,0,0-1,1v5.5a1,1,0,0,0,1,1h5a1,1,0,0,0,0-2h-3.75a.25.25,0,0,1-.25-.25V7A1,1,0,0,0,12.965,6Z"}),f.createElement("path",{d:"M12.567,1.258A10.822,10.822,0,0,0,2.818,8.4a.25.25,0,0,1-.271.163L.858,8.309a.514.514,0,0,0-.485.213.5.5,0,0,0-.021.53l2.679,4.7a.5.5,0,0,0,.786.107l3.77-3.746a.5.5,0,0,0-.279-.85L5.593,9.007a.25.25,0,0,1-.192-.35,8.259,8.259,0,1,1,7.866,11.59,1.25,1.25,0,0,0,.045,2.5h.047a10.751,10.751,0,1,0-.792-21.487Z"}))}),k({displayName:"EditIcon",path:f.createElement("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2"},f.createElement("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),f.createElement("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"}))}),k({d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z",displayName:"ChevronLeftIcon"});var n=k({d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z",displayName:"ChevronRightIcon"});k({displayName:"ChevronDownIcon",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}),k({d:"M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z",displayName:"ChevronUpIcon"}),k({d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z",displayName:"ArrowBackIcon"}),k({d:"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z",displayName:"ArrowForwardIcon"}),k({d:"M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z",displayName:"ArrowUpIcon"}),k({viewBox:"0 0 16 16",d:"M11.891 9.992a1 1 0 1 1 1.416 1.415l-4.3 4.3a1 1 0 0 1-1.414 0l-4.3-4.3A1 1 0 0 1 4.71 9.992l3.59 3.591 3.591-3.591zm0-3.984L8.3 2.417 4.709 6.008a1 1 0 0 1-1.416-1.415l4.3-4.3a1 1 0 0 1 1.414 0l4.3 4.3a1 1 0 1 1-1.416 1.415z",displayName:"ArrowUpDownIcon"}),k({d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z",displayName:"ArrowDownIcon"});var o=k({displayName:"ExternalLinkIcon",path:f.createElement("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2"},f.createElement("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),f.createElement("path",{d:"M15 3h6v6"}),f.createElement("path",{d:"M10 14L21 3"}))});k({displayName:"LinkIcon",path:f.createElement("g",{fill:"currentColor"},f.createElement("path",{d:"M10.458,18.374,7.721,21.11a2.853,2.853,0,0,1-3.942,0l-.892-.891a2.787,2.787,0,0,1,0-3.941l5.8-5.8a2.789,2.789,0,0,1,3.942,0l.893.892A1,1,0,0,0,14.94,9.952l-.893-.892a4.791,4.791,0,0,0-6.771,0l-5.8,5.8a4.787,4.787,0,0,0,0,6.77l.892.891a4.785,4.785,0,0,0,6.771,0l2.736-2.735a1,1,0,1,0-1.414-1.415Z"}),f.createElement("path",{d:"M22.526,2.363l-.892-.892a4.8,4.8,0,0,0-6.77,0l-2.905,2.9a1,1,0,0,0,1.414,1.414l2.9-2.9a2.79,2.79,0,0,1,3.941,0l.893.893a2.786,2.786,0,0,1,0,3.942l-5.8,5.8a2.769,2.769,0,0,1-1.971.817h0a2.766,2.766,0,0,1-1.969-.816,1,1,0,1,0-1.415,1.412,4.751,4.751,0,0,0,3.384,1.4h0a4.752,4.752,0,0,0,3.385-1.4l5.8-5.8a4.786,4.786,0,0,0,0-6.771Z"}))}),k({displayName:"PlusSquareIcon",path:f.createElement("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2"},f.createElement("rect",{height:"18",width:"18",rx:"2",ry:"2",x:"3",y:"3"}),f.createElement("path",{d:"M12 8v8"}),f.createElement("path",{d:"M8 12h8"}))}),k({displayName:"CalendarIcon",viewBox:"0 0 14 14",d:"M10.8889,5.5 L3.11111,5.5 L3.11111,7.05556 L10.8889,7.05556 L10.8889,5.5 Z M12.4444,1.05556 L11.6667,1.05556 L11.6667,0 L10.1111,0 L10.1111,1.05556 L3.88889,1.05556 L3.88889,0 L2.33333,0 L2.33333,1.05556 L1.55556,1.05556 C0.692222,1.05556 0.00777777,1.75556 0.00777777,2.61111 L0,12.5 C0,13.3556 0.692222,14 1.55556,14 L12.4444,14 C13.3,14 14,13.3556 14,12.5 L14,2.61111 C14,1.75556 13.3,1.05556 12.4444,1.05556 Z M12.4444,12.5 L1.55556,12.5 L1.55556,3.94444 L12.4444,3.94444 L12.4444,12.5 Z M8.55556,8.61111 L3.11111,8.61111 L3.11111,10.1667 L8.55556,10.1667 L8.55556,8.61111 Z"}),k({d:"M0.913134,0.920639 C1.49851,0.331726 2.29348,0 3.12342,0 L10.8766,0 C11.7065,0 12.5015,0.331725 13.0869,0.920639 C13.6721,1.50939 14,2.30689 14,3.13746 L14,8.12943 C13.9962,8.51443 13.9059,8.97125 13.7629,9.32852 C13.6128,9.683 13.3552,10.0709 13.0869,10.3462 C12.813,10.6163 12.4265,10.8761 12.0734,11.0274 C11.7172,11.1716 11.2607,11.263 10.8766,11.2669 L10.1234,11.2669 L10.1234,12.5676 L10.1209,12.5676 C10.1204,12.793 10.0633,13.0791 9.97807,13.262 C9.8627,13.466 9.61158,13.7198 9.40818,13.8382 L9.40824,13.8383 C9.4077,13.8386 9.40716,13.8388 9.40661,13.8391 C9.40621,13.8393 9.4058,13.8396 9.40539,13.8398 L9.40535,13.8397 C9.22958,13.9254 8.94505,13.9951 8.75059,14 L8.74789,14 C8.35724,13.9963 7.98473,13.8383 7.71035,13.5617 L5.39553,11.2669 L3.12342,11.2669 C2.29348,11.2669 1.49851,10.9352 0.913134,10.3462 C0.644826,10.0709 0.387187,9.683 0.23711,9.32852 C0.0941235,8.97125 0.00379528,8.51443 0,8.12943 L0,3.13746 C0,2.30689 0.327915,1.50939 0.913134,0.920639 Z M3.12342,1.59494 C2.71959,1.59494 2.33133,1.75628 2.04431,2.04503 C1.75713,2.33395 1.59494,2.72681 1.59494,3.13746 L1.59494,8.12943 C1.59114,8.35901 1.62114,8.51076 1.71193,8.72129 C1.79563,8.9346 1.88065,9.06264 2.04431,9.22185 C2.33133,9.5106 2.71959,9.67195 3.12342,9.67195 L5.72383,9.67195 C5.93413,9.67195 6.13592,9.75502 6.28527,9.90308 L8.52848,12.1269 L8.52848,10.4694 C8.52848,10.029 8.88552,9.67195 9.32595,9.67195 L10.8766,9.67195 C11.1034,9.67583 11.2517,9.64614 11.4599,9.55518 C11.6712,9.47132 11.7976,9.38635 11.9557,9.22185 C12.1193,9.06264 12.2044,8.9346 12.2881,8.72129 C12.3789,8.51076 12.4089,8.35901 12.4051,8.12943 L12.4051,3.13746 C12.4051,2.72681 12.2429,2.33394 11.9557,2.04503 C11.6687,1.75628 11.2804,1.59494 10.8766,1.59494 L3.12342,1.59494 Z",displayName:"ChatIcon",viewBox:"0 0 14 14"}),k({displayName:"TimeIcon",path:f.createElement("g",{fill:"currentColor"},f.createElement("path",{d:"M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm0,22A10,10,0,1,1,22,12,10.011,10.011,0,0,1,12,22Z"}),f.createElement("path",{d:"M17.134,15.81,12.5,11.561V6.5a1,1,0,0,0-2,0V12a1,1,0,0,0,.324.738l4.959,4.545a1.01,1.01,0,0,0,1.413-.061A1,1,0,0,0,17.134,15.81Z"}))}),k({displayName:"ArrowRightIcon",path:f.createElement("g",{fill:"currentColor"},f.createElement("path",{d:"M13.584,12a2.643,2.643,0,0,1-.775,1.875L3.268,23.416a1.768,1.768,0,0,1-2.5-2.5l8.739-8.739a.25.25,0,0,0,0-.354L.768,3.084a1.768,1.768,0,0,1,2.5-2.5l9.541,9.541A2.643,2.643,0,0,1,13.584,12Z"}),f.createElement("path",{d:"M23.75,12a2.643,2.643,0,0,1-.775,1.875l-9.541,9.541a1.768,1.768,0,0,1-2.5-2.5l8.739-8.739a.25.25,0,0,0,0-.354L10.934,3.084a1.768,1.768,0,0,1,2.5-2.5l9.541,9.541A2.643,2.643,0,0,1,23.75,12Z"}))}),k({displayName:"ArrowLeftIcon",path:f.createElement("g",{fill:"currentColor"},f.createElement("path",{d:"M10.416,12a2.643,2.643,0,0,1,.775-1.875L20.732.584a1.768,1.768,0,0,1,2.5,2.5l-8.739,8.739a.25.25,0,0,0,0,.354l8.739,8.739a1.768,1.768,0,0,1-2.5,2.5l-9.541-9.541A2.643,2.643,0,0,1,10.416,12Z"}),f.createElement("path",{d:"M.25,12a2.643,2.643,0,0,1,.775-1.875L10.566.584a1.768,1.768,0,0,1,2.5,2.5L4.327,11.823a.25.25,0,0,0,0,.354l8.739,8.739a1.768,1.768,0,0,1-2.5,2.5L1.025,13.875A2.643,2.643,0,0,1,.25,12Z"}))}),k({displayName:"AtSignIcon",d:"M12,.5A11.634,11.634,0,0,0,.262,12,11.634,11.634,0,0,0,12,23.5a11.836,11.836,0,0,0,6.624-2,1.25,1.25,0,1,0-1.393-2.076A9.34,9.34,0,0,1,12,21a9.132,9.132,0,0,1-9.238-9A9.132,9.132,0,0,1,12,3a9.132,9.132,0,0,1,9.238,9v.891a1.943,1.943,0,0,1-3.884,0V12A5.355,5.355,0,1,0,12,17.261a5.376,5.376,0,0,0,3.861-1.634,4.438,4.438,0,0,0,7.877-2.736V12A11.634,11.634,0,0,0,12,.5Zm0,14.261A2.763,2.763,0,1,1,14.854,12,2.812,2.812,0,0,1,12,14.761Z"}),k({displayName:"AttachmentIcon",d:"M21.843,3.455a6.961,6.961,0,0,0-9.846,0L1.619,13.832a5.128,5.128,0,0,0,7.252,7.252L17.3,12.653A3.293,3.293,0,1,0,12.646,8L7.457,13.184A1,1,0,1,0,8.871,14.6L14.06,9.409a1.294,1.294,0,0,1,1.829,1.83L7.457,19.67a3.128,3.128,0,0,1-4.424-4.424L13.411,4.869a4.962,4.962,0,1,1,7.018,7.018L12.646,19.67a1,1,0,1,0,1.414,1.414L21.843,13.3a6.96,6.96,0,0,0,0-9.846Z"}),k({displayName:"UpDownIcon",viewBox:"-1 -1 9 11",d:"M 3.5 0L 3.98809 -0.569442L 3.5 -0.987808L 3.01191 -0.569442L 3.5 0ZM 3.5 9L 3.01191 9.56944L 3.5 9.98781L 3.98809 9.56944L 3.5 9ZM 0.488094 3.56944L 3.98809 0.569442L 3.01191 -0.569442L -0.488094 2.43056L 0.488094 3.56944ZM 3.01191 0.569442L 6.51191 3.56944L 7.48809 2.43056L 3.98809 -0.569442L 3.01191 0.569442ZM -0.488094 6.56944L 3.01191 9.56944L 3.98809 8.43056L 0.488094 5.43056L -0.488094 6.56944ZM 3.98809 9.56944L 7.48809 6.56944L 6.51191 5.43056L 3.01191 8.43056L 3.98809 9.56944Z"}),k({d:"M23.555,8.729a1.505,1.505,0,0,0-1.406-.98H16.062a.5.5,0,0,1-.472-.334L13.405,1.222a1.5,1.5,0,0,0-2.81,0l-.005.016L8.41,7.415a.5.5,0,0,1-.471.334H1.85A1.5,1.5,0,0,0,.887,10.4l5.184,4.3a.5.5,0,0,1,.155.543L4.048,21.774a1.5,1.5,0,0,0,2.31,1.684l5.346-3.92a.5.5,0,0,1,.591,0l5.344,3.919a1.5,1.5,0,0,0,2.312-1.683l-2.178-6.535a.5.5,0,0,1,.155-.543l5.194-4.306A1.5,1.5,0,0,0,23.555,8.729Z",displayName:"StarIcon"}),k({displayName:"EmailIcon",path:f.createElement("g",{fill:"currentColor"},f.createElement("path",{d:"M11.114,14.556a1.252,1.252,0,0,0,1.768,0L22.568,4.87a.5.5,0,0,0-.281-.849A1.966,1.966,0,0,0,22,4H2a1.966,1.966,0,0,0-.289.021.5.5,0,0,0-.281.849Z"}),f.createElement("path",{d:"M23.888,5.832a.182.182,0,0,0-.2.039l-6.2,6.2a.251.251,0,0,0,0,.354l5.043,5.043a.75.75,0,1,1-1.06,1.061l-5.043-5.043a.25.25,0,0,0-.354,0l-2.129,2.129a2.75,2.75,0,0,1-3.888,0L7.926,13.488a.251.251,0,0,0-.354,0L2.529,18.531a.75.75,0,0,1-1.06-1.061l5.043-5.043a.251.251,0,0,0,0-.354l-6.2-6.2a.18.18,0,0,0-.2-.039A.182.182,0,0,0,0,6V18a2,2,0,0,0,2,2H22a2,2,0,0,0,2-2V6A.181.181,0,0,0,23.888,5.832Z"}))}),k({d:"M2.20731,0.0127209 C2.1105,-0.0066419 1.99432,-0.00664663 1.91687,0.032079 C0.871279,0.438698 0.212942,1.92964 0.0580392,2.95587 C-0.426031,6.28627 2.20731,9.17133 4.62766,11.0689 C6.77694,12.7534 10.9012,15.5223 13.3409,12.8503 C13.6507,12.5211 14.0186,12.037 13.9993,11.553 C13.9412,10.7397 13.186,10.1588 12.6051,9.71349 C12.1598,9.38432 11.2304,8.47427 10.6495,8.49363 C10.1267,8.51299 9.79754,9.05515 9.46837,9.38432 L8.88748,9.96521 C8.79067,10.062 7.55145,9.24878 7.41591,9.15197 C6.91248,8.8228 6.4284,8.45491 6.00242,8.04829 C5.57644,7.64167 5.18919,7.19632 4.86002,6.73161 C4.7632,6.59607 3.96933,5.41495 4.04678,5.31813 C4.04678,5.31813 4.72448,4.58234 4.91811,4.2919 C5.32473,3.67229 5.63453,3.18822 5.16982,2.45243 C4.99556,2.18135 4.78257,1.96836 4.55021,1.73601 C4.14359,1.34875 3.73698,0.942131 3.27227,0.612963 C3.02055,0.419335 2.59457,0.0708094 2.20731,0.0127209 Z",displayName:"PhoneIcon",viewBox:"0 0 14 14"}),k({viewBox:"0 0 10 10",d:"M3,2 C2.44771525,2 2,1.55228475 2,1 C2,0.44771525 2.44771525,0 3,0 C3.55228475,0 4,0.44771525 4,1 C4,1.55228475 3.55228475,2 3,2 Z M3,6 C2.44771525,6 2,5.55228475 2,5 C2,4.44771525 2.44771525,4 3,4 C3.55228475,4 4,4.44771525 4,5 C4,5.55228475 3.55228475,6 3,6 Z M3,10 C2.44771525,10 2,9.55228475 2,9 C2,8.44771525 2.44771525,8 3,8 C3.55228475,8 4,8.44771525 4,9 C4,9.55228475 3.55228475,10 3,10 Z M7,2 C6.44771525,2 6,1.55228475 6,1 C6,0.44771525 6.44771525,0 7,0 C7.55228475,0 8,0.44771525 8,1 C8,1.55228475 7.55228475,2 7,2 Z M7,6 C6.44771525,6 6,5.55228475 6,5 C6,4.44771525 6.44771525,4 7,4 C7.55228475,4 8,4.44771525 8,5 C8,5.55228475 7.55228475,6 7,6 Z M7,10 C6.44771525,10 6,9.55228475 6,9 C6,8.44771525 6.44771525,8 7,8 C7.55228475,8 8,8.44771525 8,9 C8,9.55228475 7.55228475,10 7,10 Z",displayName:"DragHandleIcon"}),k({displayName:"SpinnerIcon",path:f.createElement(f.Fragment,null,f.createElement("defs",null,f.createElement("linearGradient",{x1:"28.154%",y1:"63.74%",x2:"74.629%",y2:"17.783%",id:"a"},f.createElement("stop",{stopColor:"currentColor",offset:"0%"}),f.createElement("stop",{stopColor:"#fff",stopOpacity:"0",offset:"100%"}))),f.createElement("g",{transform:"translate(2)",fill:"none"},f.createElement("circle",{stroke:"url(#a)",strokeWidth:"4",cx:"10",cy:"12",r:"10"}),f.createElement("path",{d:"M10 2C4.477 2 0 6.477 0 12",stroke:"currentColor",strokeWidth:"4"}),f.createElement("rect",{fill:"currentColor",x:"8",width:"4",height:"4",rx:"8"})))}),k({displayName:"CloseIcon",d:"M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z"}),k({displayName:"SmallCloseIcon",viewBox:"0 0 16 16",path:f.createElement("path",{d:"M9.41 8l2.29-2.29c.19-.18.3-.43.3-.71a1.003 1.003 0 0 0-1.71-.71L8 6.59l-2.29-2.3a1.003 1.003 0 0 0-1.42 1.42L6.59 8 4.3 10.29c-.19.18-.3.43-.3.71a1.003 1.003 0 0 0 1.71.71L8 9.41l2.29 2.29c.18.19.43.3.71.3a1.003 1.003 0 0 0 .71-1.71L9.41 8z",fillRule:"evenodd",fill:"currentColor"})}),k({d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8 0-1.85.63-3.55 1.69-4.9L16.9 18.31C15.55 19.37 13.85 20 12 20zm6.31-3.1L7.1 5.69C8.45 4.63 10.15 4 12 4c4.42 0 8 3.58 8 8 0 1.85-.63 3.55-1.69 4.9z",displayName:"NotAllowedIcon"}),k({d:"M21,5H3C2.621,5,2.275,5.214,2.105,5.553C1.937,5.892,1.973,6.297,2.2,6.6l9,12 c0.188,0.252,0.485,0.4,0.8,0.4s0.611-0.148,0.8-0.4l9-12c0.228-0.303,0.264-0.708,0.095-1.047C21.725,5.214,21.379,5,21,5z",displayName:"TriangleDownIcon"}),k({d:"M12.8,5.4c-0.377-0.504-1.223-0.504-1.6,0l-9,12c-0.228,0.303-0.264,0.708-0.095,1.047 C2.275,18.786,2.621,19,3,19h18c0.379,0,0.725-0.214,0.895-0.553c0.169-0.339,0.133-0.744-0.095-1.047L12.8,5.4z",displayName:"TriangleUpIcon"}),k({displayName:"InfoOutlineIcon",path:f.createElement("g",{fill:"currentColor",stroke:"currentColor",strokeLinecap:"square",strokeWidth:"2"},f.createElement("circle",{cx:"12",cy:"12",fill:"none",r:"11",stroke:"currentColor"}),f.createElement("line",{fill:"none",x1:"11.959",x2:"11.959",y1:"11",y2:"17"}),f.createElement("circle",{cx:"11.959",cy:"7",r:"1",stroke:"none"}))}),k({displayName:"BellIcon",d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"}),k({d:"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm.25,5a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,12.25,5ZM14.5,18.5h-4a1,1,0,0,1,0-2h.75a.25.25,0,0,0,.25-.25v-4.5a.25.25,0,0,0-.25-.25H10.5a1,1,0,0,1,0-2h1a2,2,0,0,1,2,2v4.75a.25.25,0,0,0,.25.25h.75a1,1,0,1,1,0,2Z"}),k({d:"M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm0,19a1.5,1.5,0,1,1,1.5-1.5A1.5,1.5,0,0,1,12,19Zm1.6-6.08a1,1,0,0,0-.6.917,1,1,0,1,1-2,0,3,3,0,0,1,1.8-2.75A2,2,0,1,0,10,9.255a1,1,0,1,1-2,0,4,4,0,1,1,5.6,3.666Z",displayName:"QuestionIcon"}),k({displayName:"QuestionOutlineIcon",path:f.createElement("g",{stroke:"currentColor",strokeWidth:"1.5"},f.createElement("path",{strokeLinecap:"round",fill:"none",d:"M9,9a3,3,0,1,1,4,2.829,1.5,1.5,0,0,0-1,1.415V14.25"}),f.createElement("path",{fill:"none",strokeLinecap:"round",d:"M12,17.25a.375.375,0,1,0,.375.375A.375.375,0,0,0,12,17.25h0"}),f.createElement("circle",{fill:"none",strokeMiterlimit:"10",cx:"12",cy:"12",r:"11.25"}))}),k({d:"M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z",displayName:"WarningIcon"}),k({displayName:"WarningTwoIcon",d:"M23.119,20,13.772,2.15h0a2,2,0,0,0-3.543,0L.881,20a2,2,0,0,0,1.772,2.928H21.347A2,2,0,0,0,23.119,20ZM11,8.423a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Zm1.05,11.51h-.028a1.528,1.528,0,0,1-1.522-1.47,1.476,1.476,0,0,1,1.448-1.53h.028A1.527,1.527,0,0,1,13.5,18.4,1.475,1.475,0,0,1,12.05,19.933Z"}),k({viewBox:"0 0 14 14",path:f.createElement("g",{fill:"currentColor"},f.createElement("polygon",{points:"5.5 11.9993304 14 3.49933039 12.5 2 5.5 8.99933039 1.5 4.9968652 0 6.49933039"}))}),k({displayName:"MinusIcon",path:f.createElement("g",{fill:"currentColor"},f.createElement("rect",{height:"4",width:"20",x:"2",y:"10"}))});var p=k({displayName:"HamburgerIcon",viewBox:"0 0 24 24",d:"M 3 5 A 1.0001 1.0001 0 1 0 3 7 L 21 7 A 1.0001 1.0001 0 1 0 21 5 L 3 5 z M 3 11 A 1.0001 1.0001 0 1 0 3 13 L 21 13 A 1.0001 1.0001 0 1 0 21 11 L 3 11 z M 3 17 A 1.0001 1.0001 0 1 0 3 19 L 21 19 A 1.0001 1.0001 0 1 0 21 17 L 3 17 z"})},8527:function(a,b,c){"use strict";c.d(b,{Ct:function(){return o},xu:function(){return r},W2:function(){return y},iz:function(){return B},kC:function(){return D},X6:function(){return H},rU:function(){return L},fG:function(){return la},AB:function(){return ka},aV:function(){return P},HC:function(){return S},MI:function(){return V},Kq:function(){return _},xv:function(){return da}});var d=c(6052),e=c(4244),f=c(5031),g=c(7294),h=c(894),i=c(6450);function j(){return(j=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}function k(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||(e[c]=a[c]);return e}var l=["ratio","children","className"],m=(0,d.Gp)(function(a,b){var c=a.ratio,e=a.children,h=a.className,i=k(a,l),m=g.Children.only(e),n=(0,f.cx)("chakra-aspect-ratio",h);return g.createElement(d.m$.div,j({ref:b,position:"relative",className:n,_before:{height:0,content:"\"\"",display:"block",paddingBottom:(0,f.XQ)(void 0===c?4/3:c,function(a){return 1/a*100+"%"})},__css:{"& > *:not(style)":{overflow:"hidden",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%"},"& > img, & > video":{objectFit:"cover"}}},i),m)});f.Ts&&(m.displayName="AspectRatio");var n=["className"],o=(0,d.Gp)(function(a,b){var c=(0,d.mq)("Badge",a),e=(0,d.Lr)(a);e.className;var h=k(e,n);return g.createElement(d.m$.span,j({ref:b,className:(0,f.cx)("chakra-badge",a.className)},h,{__css:j({display:"inline-block",whiteSpace:"nowrap",verticalAlign:"middle"},c)}))});f.Ts&&(o.displayName="Badge");var p=["size","centerContent"],q=["size"],r=(0,d.m$)("div");f.Ts&&(r.displayName="Box");var s=(0,d.Gp)(function(a,b){var c=a.size,d=a.centerContent,e=k(a,p);return g.createElement(r,j({ref:b,boxSize:c,__css:j({},void 0===d||d?{display:"flex",alignItems:"center",justifyContent:"center"}:{},{flexShrink:0,flexGrow:0})},e))});f.Ts&&(s.displayName="Square");var t=(0,d.Gp)(function(a,b){var c=a.size,d=k(a,q);return g.createElement(s,j({size:c,ref:b,borderRadius:"9999px"},d))});f.Ts&&(t.displayName="Circle");var u=(0,d.m$)("div",{baseStyle:{display:"flex",alignItems:"center",justifyContent:"center"}});f.Ts&&(u.displayName="Center");var v=["className"],w=(0,d.Gp)(function(a,b){var c=(0,d.mq)("Code",a),e=(0,d.Lr)(a);e.className;var h=k(e,v);return g.createElement(d.m$.code,j({ref:b,className:(0,f.cx)("chakra-code",a.className)},h,{__css:j({display:"inline-block"},c)}))});f.Ts&&(w.displayName="Code");var x=["className","centerContent"],y=(0,d.Gp)(function(a,b){var c=(0,d.Lr)(a),e=c.className,h=c.centerContent,i=k(c,x),l=(0,d.mq)("Container",a);return g.createElement(d.m$.div,j({ref:b,className:(0,f.cx)("chakra-container",e)},i,{__css:j({},l,h&&{display:"flex",flexDirection:"column",alignItems:"center"})}))});f.Ts&&(y.displayName="Container");var z=["borderLeftWidth","borderBottomWidth","borderTopWidth","borderRightWidth","borderWidth","borderStyle","borderColor"],A=["className","orientation","__css"],B=(0,d.Gp)(function(a,b){var c=(0,d.mq)("Divider",a),e=c.borderLeftWidth,h=c.borderBottomWidth,i=c.borderTopWidth,l=c.borderRightWidth,m=c.borderWidth,n=c.borderStyle,o=c.borderColor,p=k(c,z),q=(0,d.Lr)(a),r=q.className,s=q.orientation,t=void 0===s?"horizontal":s,u=q.__css,v=k(q,A);return g.createElement(d.m$.hr,j({ref:b,"aria-orientation":t},v,{__css:j({},p,{border:"0",borderColor:o,borderStyle:n},{vertical:{borderLeftWidth:e||l||m||"1px",height:"100%"},horizontal:{borderBottomWidth:h||i||m||"1px",width:"100%"}}[t],u),className:(0,f.cx)("chakra-divider",r)}))});f.Ts&&(B.displayName="Divider");var C=["direction","align","justify","wrap","basis","grow","shrink"],D=(0,d.Gp)(function(a,b){var c=a.direction,e=a.align,f=a.justify,h=a.wrap,i=a.basis,l=a.grow,m=a.shrink,n=k(a,C);return g.createElement(d.m$.div,j({ref:b,__css:{display:"flex",flexDirection:c,alignItems:e,justifyContent:f,flexWrap:h,flexBasis:i,flexGrow:l,flexShrink:m}},n))});f.Ts&&(D.displayName="Flex");var E=["area","templateAreas","gap","rowGap","columnGap","column","row","autoFlow","autoRows","templateRows","autoColumns","templateColumns"],F=(0,d.Gp)(function(a,b){var c=a.area,e=a.templateAreas,f=a.gap,h=a.rowGap,i=a.columnGap,l=a.column,m=a.row,n=a.autoFlow,o=a.autoRows,p=a.templateRows,q=a.autoColumns,r=a.templateColumns,s=k(a,E);return g.createElement(d.m$.div,j({ref:b,__css:{display:"grid",gridArea:c,gridTemplateAreas:e,gridGap:f,gridRowGap:h,gridColumnGap:i,gridAutoColumns:q,gridColumn:l,gridRow:m,gridAutoFlow:n,gridAutoRows:o,gridTemplateRows:p,gridTemplateColumns:r}},s))});f.Ts&&(F.displayName="Grid");var G=["className"],H=(0,d.Gp)(function(a,b){var c=(0,d.mq)("Heading",a),e=(0,d.Lr)(a);e.className;var h=k(e,G);return g.createElement(d.m$.h2,j({ref:b,className:(0,f.cx)("chakra-heading",a.className)},h,{__css:c}))});f.Ts&&(H.displayName="Heading");var I=["className"],J=(0,d.Gp)(function(a,b){var c=(0,d.mq)("Kbd",a),e=(0,d.Lr)(a),h=e.className,i=k(e,I);return g.createElement(d.m$.kbd,j({ref:b,className:(0,f.cx)("chakra-kbd",h)},i,{__css:j({fontFamily:"mono"},c)}))});f.Ts&&(J.displayName="Kbd");var K=["className","isExternal"],L=(0,d.Gp)(function(a,b){var c=(0,d.mq)("Link",a),e=(0,d.Lr)(a),h=e.className,i=e.isExternal,l=k(e,K);return g.createElement(d.m$.a,j({target:i?"_blank":void 0,rel:i?"noopener noreferrer":void 0,ref:b,className:(0,f.cx)("chakra-link",h)},l,{__css:c}))});f.Ts&&(L.displayName="Link");var M=["children","styleType","stylePosition","spacing"],N=["as"],O=["as"],P=(0,d.Gp)(function(a,b){var c,e=(0,d.jC)("List",a),f=(0,d.Lr)(a),h=f.children,l=f.styleType,m=f.stylePosition,n=f.spacing,o=k(f,M),p=(0,i.WR)(h),q=n?((c={})["& > *:not(style) ~ *:not(style)"]={mt:n},c):{};return g.createElement(d.Fo,{value:e},g.createElement(d.m$.ul,j({ref:b,listStyleType:void 0===l?"none":l,listStylePosition:m,role:"list",__css:j({},e.container,q)},o),p))});f.Ts&&(P.displayName="List");var Q=(0,d.Gp)(function(a,b){a.as;var c=k(a,N);return g.createElement(P,j({ref:b,as:"ol",styleType:"decimal",marginStart:"1em"},c))});f.Ts&&(Q.displayName="OrderedList");var R=(0,d.Gp)(function(a,b){a.as;var c=k(a,O);return g.createElement(P,j({ref:b,as:"ul",styleType:"initial",marginStart:"1em"},c))});f.Ts&&(R.displayName="UnorderedList");var S=(0,d.Gp)(function(a,b){var c=(0,d.yK)();return g.createElement(d.m$.li,j({ref:b},a,{__css:c.item}))});f.Ts&&(S.displayName="ListItem");var T=(0,d.Gp)(function(a,b){var c=(0,d.yK)();return g.createElement(h.JO,j({ref:b,role:"presentation"},a,{__css:c.icon}))});f.Ts&&(T.displayName="ListIcon");var U=["columns","spacingX","spacingY","spacing","minChildWidth"],V=(0,d.Gp)(function(a,b){var c=a.columns,d=a.spacingX,e=a.spacingY,f=a.spacing,h=a.minChildWidth,i=k(a,U),l=h?W(h):X(c);return g.createElement(F,j({ref:b,gap:f,columnGap:d,rowGap:e,templateColumns:l},i))});function W(a){return(0,f.XQ)(a,function(a){var b;return(0,f.Ft)(a)?null:"repeat(auto-fit, minmax("+(b=a,(0,f.hj)(b)?b+"px":b)+", 1fr))"})}function X(a){return(0,f.XQ)(a,function(a){return(0,f.Ft)(a)?null:"repeat("+a+", minmax(0, 1fr))"})}f.Ts&&(V.displayName="SimpleGrid");var Y=(0,d.m$)("div",{baseStyle:{flex:1,justifySelf:"stretch",alignSelf:"stretch"}});f.Ts&&(Y.displayName="Spacer");var Z="& > *:not(style) ~ *:not(style)",$=["isInline","direction","align","justify","spacing","wrap","children","divider","className","shouldWrapChildren"],_=(0,d.Gp)(function(a,b){var c,e=a.isInline,h=a.direction,l=a.align,m=a.justify,n=a.spacing,o=void 0===n?"0.5rem":n,p=a.wrap,q=a.children,r=a.divider,s=a.className,t=a.shouldWrapChildren,u=k(a,$),v=e?"row":null!=h?h:"column",w=g.useMemo(function(){var a,b,c,d,e;return c=(a={direction:v,spacing:o}).spacing,d=a.direction,e={column:{marginTop:c,marginEnd:0,marginBottom:0,marginStart:0},row:{marginTop:0,marginEnd:0,marginBottom:0,marginStart:c},"column-reverse":{marginTop:0,marginEnd:0,marginBottom:c,marginStart:0},"row-reverse":{marginTop:0,marginEnd:c,marginBottom:0,marginStart:0}},(b={flexDirection:d})[Z]=(0,f.XQ)(d,function(a){return e[a]}),b},[v,o]),x=g.useMemo(function(){var a,b,c;return b=(a={spacing:o,direction:v}).spacing,a.direction,c={column:{my:b,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},"column-reverse":{my:b,mx:0,borderLeftWidth:0,borderBottomWidth:"1px"},row:{mx:b,my:0,borderLeftWidth:"1px",borderBottomWidth:0},"row-reverse":{mx:b,my:0,borderLeftWidth:"1px",borderBottomWidth:0}},{"&":(0,f.XQ)(a.direction,function(a){return c[a]})}},[o,v]),y=!!r,z=(0,i.WR)(q),A=t||y?z.map(function(a,b){var c=void 0!==a.key?a.key:b,e=b+1===z.length,f=g.createElement(function(a){return g.createElement(d.m$.div,j({className:"chakra-stack__item"},a,{__css:j({display:"inline-block",flex:"0 0 auto",minWidth:0},a["__css"])}))},{key:c},a),h=t?f:a;if(!y)return h;var i=g.cloneElement(r,{__css:x}),k=e?null:i;return g.createElement(g.Fragment,{key:c},h,k)}):z,B=(0,f.cx)("chakra-stack",s);return g.createElement(d.m$.div,j({ref:b,display:"flex",alignItems:l,justifyContent:m,flexDirection:w.flexDirection,flexWrap:p,className:B,__css:y?{}:((c={})[Z]=w[Z],c)},u),A)});f.Ts&&(_.displayName="Stack");var aa=(0,d.Gp)(function(a,b){return g.createElement(_,j({align:"center"},a,{direction:"row",ref:b}))});f.Ts&&(aa.displayName="HStack");var ba=(0,d.Gp)(function(a,b){return g.createElement(_,j({align:"center"},a,{direction:"column",ref:b}))});f.Ts&&(ba.displayName="VStack");var ca=["className","align","decoration","casing"],da=(0,d.Gp)(function(a,b){var c=(0,d.mq)("Text",a),e=(0,d.Lr)(a);e.className,e.align,e.decoration,e.casing;var h=k(e,ca),i=(0,f.YU)({textAlign:a.align,textDecoration:a.decoration,textTransform:a.casing});return g.createElement(d.m$.p,j({ref:b,className:(0,f.cx)("chakra-text",a.className)},i,h,{__css:c}))});f.Ts&&(da.displayName="Text");var ea=["spacing","children","justify","direction","align","className","shouldWrapChildren"],fa=["className"],ga=(0,d.Gp)(function(a,b){var c=a.spacing,h=void 0===c?"0.5rem":c,i=a.children,l=a.justify,m=a.direction,n=a.align,o=a.className,p=a.shouldWrapChildren,q=k(a,ea),r=g.useMemo(function(){return{"--chakra-wrap-spacing":function(a){return(0,f.XQ)(h,function(b){return(0,e.fr)("space",b)(a)})},"--wrap-spacing":"calc(var(--chakra-wrap-spacing) / 2)",display:"flex",flexWrap:"wrap",justifyContent:l,alignItems:n,flexDirection:m,listStyleType:"none",padding:"0",margin:"calc(var(--wrap-spacing) * -1)","& > *:not(style)":{margin:"var(--wrap-spacing)"}}},[h,l,n,m]),s=p?g.Children.map(i,function(a,b){return g.createElement(ha,{key:b},a)}):i;return g.createElement(d.m$.div,j({ref:b,className:(0,f.cx)("chakra-wrap",o)},q),g.createElement(d.m$.ul,{className:"chakra-wrap__list",__css:r},s))});f.Ts&&(ga.displayName="Wrap");var ha=(0,d.Gp)(function(a,b){var c=a.className,e=k(a,fa);return g.createElement(d.m$.li,j({ref:b,__css:{display:"flex",alignItems:"flex-start"},className:(0,f.cx)("chakra-wrap__listitem",c)},e))});f.Ts&&(ha.displayName="WrapItem");var ia=["isExternal","target","rel","className"],ja=["className"],ka=(0,d.Gp)(function(a,b){var c=a.isExternal,e=a.target,h=a.rel,i=a.className,l=k(a,ia);return g.createElement(d.m$.a,j({},l,{ref:b,className:(0,f.cx)("chakra-linkbox__overlay",i),rel:c?"noopener noreferrer":h,target:c?"_blank":e,__css:{position:"static","&::before":{content:"''",cursor:"inherit",display:"block",position:"absolute",top:0,left:0,zIndex:0,width:"100%",height:"100%"}}}))}),la=(0,d.Gp)(function(a,b){var c=a.className,e=k(a,ja);return g.createElement(d.m$.div,j({ref:b,position:"relative"},e,{className:(0,f.cx)("chakra-linkbox",c),__css:{"a[href]:not(.chakra-linkbox__overlay), abbr[title]":{position:"relative",zIndex:1}}}))})},5393:function(a,b,c){"use strict";c.d(b,{u:function(){return k},O:function(){return j}});var d=c(5031),e=c(7294),f={body:{classList:{add:function(){},remove:function(){}}},addEventListener:function(){},removeEventListener:function(){},activeElement:{blur:function(){},nodeName:""},querySelector:function(){return null},querySelectorAll:function(){return[]},getElementById:function(){return null},createEvent:function(){return{initEvent:function(){}}},createElement:function(){return{children:[],childNodes:[],style:{},setAttribute:function(){},getElementsByTagName:function(){return[]}}}},g=function(){},h=d.jU?{window:window,document:document}:{window:{document:f,navigator:{userAgent:""},CustomEvent:function(){return this},addEventListener:g,removeEventListener:g,getComputedStyle:function(){return{getPropertyValue:function(){return""}}},matchMedia:function(){return{matches:!1,addListener:g,removeListener:g}},requestAnimationFrame:function(a){return"undefined"==typeof setTimeout?(a(),null):setTimeout(a,0)},cancelAnimationFrame:function(a){"undefined"!=typeof setTimeout&&clearTimeout(a)},setTimeout:function(){return 0},clearTimeout:g,setInterval:function(){return 0},clearInterval:g},document:f},i=(0,e.createContext)(h);function j(){return(0,e.useContext)(i)}function k(a){var b=a.children,c=a.environment,d=(0,e.useState)(null),f=d[0],g=d[1],j=(0,e.useMemo)(function(){var a,b=null==f?void 0:f.ownerDocument,d=null==f?void 0:f.ownerDocument.defaultView;return null!=(a=null!=c?c:b?{document:b,window:d}:void 0)?a:h},[f,c]);return e.createElement(i.Provider,{value:j},b,!f&&!c&&e.createElement("span",{ref:function(a){a&&g(a)}}))}d.Ts&&(i.displayName="EnvironmentContext"),d.Ts&&(k.displayName="EnvironmentProvider")},6450:function(a,b,c){"use strict";c.d(b,{kr:function(){return g},WR:function(){return h},lq:function(){return f}});var d=c(5031),e=c(7294);function f(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return function(a){b.forEach(function(b){return(function(a,b){if(null!=a){if((0,d.mf)(a)){a(b);return}try{a.current=b}catch(c){throw new Error("Cannot assign value '"+b+"' to ref '"+a+"'")}}})(b,a)})}}function g(a){void 0===a&&(a={});var b=a,c=b.strict,d=void 0===c||c,f=b.errorMessage,g=void 0===f?"useContext: `context` is undefined. Seems you forgot to wrap component within the Provider":f,h=b.name,i=e.createContext(void 0);function j(){var a=e.useContext(i);if(!a&&d){var b=new Error(g);throw b.name="ContextError",null==Error.captureStackTrace||Error.captureStackTrace(b,j),b}return a}return i.displayName=h,[i.Provider,j,i]}function h(a){return e.Children.toArray(a).filter(function(a){return e.isValidElement(a)})}},9238:function(a,b,c){"use strict";c.d(b,{"$":function(){return n}});var d=c(6052),e=c(917),f=c(5031),g={border:"0px",clip:"rect(0px, 0px, 0px, 0px)",height:"1px",width:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},h=(0,d.m$)("span",{baseStyle:g});f.Ts&&(h.displayName="VisuallyHidden");var i=(0,d.m$)("input",{baseStyle:g});f.Ts&&(i.displayName="VisuallyHiddenInput");var j=c(7294);function k(){return(k=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}var l=["label","thickness","speed","emptyColor","className"],m=(0,e.F4)({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),n=(0,d.Gp)(function(a,b){var c=(0,d.mq)("Spinner",a),e=(0,d.Lr)(a),g=e.label,i=void 0===g?"Loading...":g,n=e.thickness,o=e.speed,p=e.emptyColor,q=void 0===p?"transparent":p,r=e.className,s=function(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||(e[c]=a[c]);return e}(e,l),t=(0,f.cx)("chakra-spinner",r),u=k({display:"inline-block",borderColor:"currentColor",borderStyle:"solid",borderRadius:"99999px",borderWidth:void 0===n?"2px":n,borderBottomColor:q,borderLeftColor:q,animation:m+" "+(void 0===o?"0.45s":o)+" linear infinite"},c);return j.createElement(d.m$.div,k({ref:b,__css:u,className:t},s),i&&j.createElement(h,null,i))});f.Ts&&(n.displayName="Spinner")},4244:function(a,b,c){"use strict";c.d(b,{iv:function(){return ja},ZR:function(){return ha},cC:function(){return fa},c0:function(){return xa},fr:function(){return j}});var d,e,f=c(5031),g=c(8554),h=c.n(g);function i(){return(i=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}var j=function(a,b){return function(c){var d=String(b),e=a?a+"."+d:d;return(0,f.Kn)(c.__cssMap)&&e in c.__cssMap?c.__cssMap[e].varRef:b}};function k(a){var b=a.scale,c=a.transform,d=a.compose;return function(a,e){var f,g=j(b,a)(e),h=null!=(f=null==c?void 0:c(g,e))?f:g;return d&&(h=d(h,e)),h}}function l(a,b){return function(c){var d={property:c,scale:a};return d.transform=k({scale:a,transform:b}),d}}var m=function(a){var b=a.rtl,c=a.ltr;return function(a){return"rtl"===a.direction?b:c}},n=["rotate(var(--chakra-rotate, 0))","scaleX(var(--chakra-scale-x, 1))","scaleY(var(--chakra-scale-y, 1))","skewX(var(--chakra-skew-x, 0))","skewY(var(--chakra-skew-y, 0))"],o={"--chakra-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-sepia":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-drop-shadow":"var(--chakra-empty,/*!*/ /*!*/)",filter:"var(--chakra-blur) var(--chakra-brightness) var(--chakra-contrast) var(--chakra-grayscale) var(--chakra-hue-rotate) var(--chakra-invert) var(--chakra-saturate) var(--chakra-sepia) var(--chakra-drop-shadow)"},p={backdropFilter:"var(--chakra-backdrop-blur) var(--chakra-backdrop-brightness) var(--chakra-backdrop-contrast) var(--chakra-backdrop-grayscale) var(--chakra-backdrop-hue-rotate) var(--chakra-backdrop-invert) var(--chakra-backdrop-opacity) var(--chakra-backdrop-saturate) var(--chakra-backdrop-sepia)","--chakra-backdrop-blur":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-brightness":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-contrast":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-grayscale":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-hue-rotate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-invert":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-opacity":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-saturate":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-backdrop-sepia":"var(--chakra-empty,/*!*/ /*!*/)"},q={"row-reverse":{space:"--chakra-space-x-reverse",divide:"--chakra-divide-x-reverse"},"column-reverse":{space:"--chakra-space-y-reverse",divide:"--chakra-divide-y-reverse"}},r="& > :not(style) ~ :not(style)",s=((d={})[r]={marginInlineStart:"calc(var(--chakra-space-x) * calc(1 - var(--chakra-space-x-reverse)))",marginInlineEnd:"calc(var(--chakra-space-x) * var(--chakra-space-x-reverse))"},d),t=((e={})[r]={marginTop:"calc(var(--chakra-space-y) * calc(1 - var(--chakra-space-y-reverse)))",marginBottom:"calc(var(--chakra-space-y) * var(--chakra-space-y-reverse))"},e);function u(a,b){return(u=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function v(){v=function(a,b){return new c(a,void 0,b)};var a=RegExp.prototype,b=new WeakMap();function c(a,d,e){var f=new RegExp(a,d);return b.set(f,e||b.get(a)),u(f,c.prototype)}function d(a,c){var d=b.get(c);return Object.keys(d).reduce(function(b,c){return b[c]=a[d[c]],b},Object.create(null))}return!function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&u(a,b)}(c,RegExp),c.prototype.exec=function(b){var c=a.exec.call(this,b);return c&&(c.groups=d(c,this)),c},c.prototype[Symbol.replace]=function(c,e){if("string"==typeof e){var f=b.get(this);return a[Symbol.replace].call(this,c,e.replace(/\$<([^>]+)>/g,function(a,b){return"$"+f[b]}))}if("function"!=typeof e)return a[Symbol.replace].call(this,c,e);var g=this;return a[Symbol.replace].call(this,c,function(){var a=arguments;return"object"!=typeof a[a.length-1]&&(a=[].slice.call(a)).push(d(a,g)),e.apply(this,a)})},v.apply(this,arguments)}var w={"to-t":"to top","to-tr":"to top right","to-r":"to right","to-br":"to bottom right","to-b":"to bottom","to-bl":"to bottom left","to-l":"to left","to-tl":"to top left"},x=new Set(Object.values(w)),y=new Set(["none","-moz-initial","inherit","initial","revert","unset"]),z=function(a){return(0,f.HD)(a)&&a.includes("(")&&a.includes(")")},A=function(a){var b=parseFloat(a.toString()),c=a.toString().replace(String(b),"");return{unitless:!c,value:b,unit:c}},B=function(a){return function(b){return a+"("+b+")"}},C={filter:function(a){return"auto"!==a?a:o},backdropFilter:function(a){return"auto"!==a?a:p},ring:function(a){return{"--chakra-ring-offset-shadow":"var(--chakra-ring-inset) 0 0 0 var(--chakra-ring-offset-width) var(--chakra-ring-offset-color)","--chakra-ring-shadow":"var(--chakra-ring-inset) 0 0 0 calc(var(--chakra-ring-width) + var(--chakra-ring-offset-width)) var(--chakra-ring-color)","--chakra-ring-width":C.px(a),boxShadow:"var(--chakra-ring-offset-shadow), var(--chakra-ring-shadow), var(--chakra-shadow, 0 0 #0000)"}},bgClip:function(a){return"text"===a?{color:"transparent",backgroundClip:"text"}:{backgroundClip:a}},transform:function(a){return"auto"===a?["translateX(var(--chakra-translate-x, 0))","translateY(var(--chakra-translate-y, 0))"].concat(n).join(" "):"auto-gpu"===a?["translate3d(var(--chakra-translate-x, 0), var(--chakra-translate-y, 0), 0)"].concat(n).join(" "):a},px:function(a){return null==a?a:A(a).unitless||(0,f.hj)(a)?a+"px":a},fraction:function(a){return!(0,f.hj)(a)||a>1?a:100*a+"%"},"float":function(a,b){return"rtl"===b.direction?({left:"right",right:"left"})[a]:a},degree:function(a){if((0,f.FS)(a)||null==a)return a;var b=(0,f.HD)(a)&&!a.endsWith("deg");return(0,f.hj)(a)||b?a+"deg":a},gradient:function(a,b){return(function(a,b){if(null==a||y.has(a))return a;var c,d,e=null!=(c=null==(d=v(/(^[\x2DA-Za-z]+)\(((.*))\)/g,{type:1,values:2}).exec(a))?void 0:d.groups)?c:{},f=e.type,g=e.values;if(!f||!g)return a;var h=f.includes("-gradient")?f:f+"-gradient",i=g.split(",").map(function(a){return a.trim()}).filter(Boolean),j=i[0],k=i.slice(1);if((null==k?void 0:k.length)===0)return a;var l=j in w?w[j]:j;return k.unshift(l),h+"("+k.map(function(a){if(x.has(a))return a;var c=a.indexOf(" "),d=-1!==c?[a.substr(0,c),a.substr(c+1)]:[a],e=d[0],f=d[1],g=z(f)?f:f&&f.split(" "),h="colors."+e,i=h in b.__cssMap?b.__cssMap[h].varRef:e;return g?[i].concat(Array.isArray(g)?g:[g]).join(" "):i}).join(", ")+")"})(a,null!=b?b:{})},blur:B("blur"),opacity:B("opacity"),brightness:B("brightness"),contrast:B("contrast"),dropShadow:B("drop-shadow"),grayscale:B("grayscale"),hueRotate:B("hue-rotate"),invert:B("invert"),saturate:B("saturate"),sepia:B("sepia"),bgImage:function(a){return null==a?a:z(a)||y.has(a)?a:"url("+a+")"},outline:function(a){var b="0"===String(a)||"none"===String(a);return null!==a&&b?{outline:"2px solid transparent",outlineOffset:"2px"}:{outline:a}},flexDirection:function(a){var b,c=null!=(b=q[a])?b:{},d=c.space,e=c.divide,f={flexDirection:a};return d&&(f[d]=1),e&&(f[e]=1),f}},D={borderWidths:l("borderWidths"),borderStyles:l("borderStyles"),colors:l("colors"),borders:l("borders"),radii:l("radii",C.px),space:l("space",C.px),spaceT:l("space",C.px),degreeT:function(a){return{property:a,transform:C.degree}},prop:function(a,b,c){return i({property:a,scale:b},b&&{transform:k({scale:b,transform:c})})},propT:function(a,b){return{property:a,transform:b}},sizes:l("sizes",C.px),sizesT:l("sizes",C.fraction),shadows:l("shadows"),logical:function(a){var b=a.property,c=a.scale,d=a.transform;return{scale:c,property:m(b),transform:c?k({scale:c,compose:d}):d}},blur:l("blur",C.blur)},E={background:D.colors("background"),backgroundColor:D.colors("backgroundColor"),backgroundImage:D.propT("backgroundImage",C.bgImage),backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundAttachment:!0,backgroundClip:{transform:C.bgClip},bgSize:D.prop("backgroundSize"),bgPosition:D.prop("backgroundPosition"),bg:D.colors("background"),bgColor:D.colors("backgroundColor"),bgPos:D.prop("backgroundPosition"),bgRepeat:D.prop("backgroundRepeat"),bgAttachment:D.prop("backgroundAttachment"),bgGradient:D.propT("backgroundImage",C.gradient),bgClip:{transform:C.bgClip}};Object.assign(E,{bgImage:E.backgroundImage,bgImg:E.backgroundImage});var F={border:D.borders("border"),borderWidth:D.borderWidths("borderWidth"),borderStyle:D.borderStyles("borderStyle"),borderColor:D.colors("borderColor"),borderRadius:D.radii("borderRadius"),borderTop:D.borders("borderTop"),borderBlockStart:D.borders("borderBlockStart"),borderTopLeftRadius:D.radii("borderTopLeftRadius"),borderStartStartRadius:D.logical({scale:"radii",property:{ltr:"borderTopLeftRadius",rtl:"borderTopRightRadius"}}),borderEndStartRadius:D.logical({scale:"radii",property:{ltr:"borderBottomLeftRadius",rtl:"borderBottomRightRadius"}}),borderTopRightRadius:D.radii("borderTopRightRadius"),borderStartEndRadius:D.logical({scale:"radii",property:{ltr:"borderTopRightRadius",rtl:"borderTopLeftRadius"}}),borderEndEndRadius:D.logical({scale:"radii",property:{ltr:"borderBottomRightRadius",rtl:"borderBottomLeftRadius"}}),borderRight:D.borders("borderRight"),borderInlineEnd:D.borders("borderInlineEnd"),borderBottom:D.borders("borderBottom"),borderBlockEnd:D.borders("borderBlockEnd"),borderBottomLeftRadius:D.radii("borderBottomLeftRadius"),borderBottomRightRadius:D.radii("borderBottomRightRadius"),borderLeft:D.borders("borderLeft"),borderInlineStart:{property:"borderInlineStart",scale:"borders"},borderInlineStartRadius:D.logical({scale:"radii",property:{ltr:["borderTopLeftRadius","borderBottomLeftRadius"],rtl:["borderTopRightRadius","borderBottomRightRadius"]}}),borderInlineEndRadius:D.logical({scale:"radii",property:{ltr:["borderTopRightRadius","borderBottomRightRadius"],rtl:["borderTopLeftRadius","borderBottomLeftRadius"]}}),borderX:D.borders(["borderLeft","borderRight"]),borderInline:D.borders("borderInline"),borderY:D.borders(["borderTop","borderBottom"]),borderBlock:D.borders("borderBlock"),borderTopWidth:D.borderWidths("borderTopWidth"),borderBlockStartWidth:D.borderWidths("borderBlockStartWidth"),borderTopColor:D.colors("borderTopColor"),borderBlockStartColor:D.colors("borderBlockStartColor"),borderTopStyle:D.borderStyles("borderTopStyle"),borderBlockStartStyle:D.borderStyles("borderBlockStartStyle"),borderBottomWidth:D.borderWidths("borderBottomWidth"),borderBlockEndWidth:D.borderWidths("borderBlockEndWidth"),borderBottomColor:D.colors("borderBottomColor"),borderBlockEndColor:D.colors("borderBlockEndColor"),borderBottomStyle:D.borderStyles("borderBottomStyle"),borderBlockEndStyle:D.borderStyles("borderBlockEndStyle"),borderLeftWidth:D.borderWidths("borderLeftWidth"),borderInlineStartWidth:D.borderWidths("borderInlineStartWidth"),borderLeftColor:D.colors("borderLeftColor"),borderInlineStartColor:D.colors("borderInlineStartColor"),borderLeftStyle:D.borderStyles("borderLeftStyle"),borderInlineStartStyle:D.borderStyles("borderInlineStartStyle"),borderRightWidth:D.borderWidths("borderRightWidth"),borderInlineEndWidth:D.borderWidths("borderInlineEndWidth"),borderRightColor:D.colors("borderRightColor"),borderInlineEndColor:D.colors("borderInlineEndColor"),borderRightStyle:D.borderStyles("borderRightStyle"),borderInlineEndStyle:D.borderStyles("borderInlineEndStyle"),borderTopRadius:D.radii(["borderTopLeftRadius","borderTopRightRadius"]),borderBottomRadius:D.radii(["borderBottomLeftRadius","borderBottomRightRadius"]),borderLeftRadius:D.radii(["borderTopLeftRadius","borderBottomLeftRadius"]),borderRightRadius:D.radii(["borderTopRightRadius","borderBottomRightRadius"])};Object.assign(F,{rounded:F.borderRadius,roundedTop:F.borderTopRadius,roundedTopLeft:F.borderTopLeftRadius,roundedTopRight:F.borderTopRightRadius,roundedTopStart:F.borderStartStartRadius,roundedTopEnd:F.borderStartEndRadius,roundedBottom:F.borderBottomRadius,roundedBottomLeft:F.borderBottomLeftRadius,roundedBottomRight:F.borderBottomRightRadius,roundedBottomStart:F.borderEndStartRadius,roundedBottomEnd:F.borderEndEndRadius,roundedLeft:F.borderLeftRadius,roundedRight:F.borderRightRadius,roundedStart:F.borderInlineStartRadius,roundedEnd:F.borderInlineEndRadius,borderStart:F.borderInlineStart,borderEnd:F.borderInlineEnd,borderTopStartRadius:F.borderStartStartRadius,borderTopEndRadius:F.borderStartEndRadius,borderBottomStartRadius:F.borderEndStartRadius,borderBottomEndRadius:F.borderEndEndRadius,borderStartRadius:F.borderInlineStartRadius,borderEndRadius:F.borderInlineEndRadius,borderStartWidth:F.borderInlineStartWidth,borderEndWidth:F.borderInlineEndWidth,borderStartColor:F.borderInlineStartColor,borderEndColor:F.borderInlineEndColor,borderStartStyle:F.borderInlineStartStyle,borderEndStyle:F.borderInlineEndStyle});var G={color:D.colors("color"),textColor:D.colors("color"),fill:D.colors("fill"),stroke:D.colors("stroke")},H={boxShadow:D.shadows("boxShadow"),mixBlendMode:!0,blendMode:D.prop("mixBlendMode"),backgroundBlendMode:!0,bgBlendMode:D.prop("backgroundBlendMode"),opacity:!0};Object.assign(H,{shadow:H.boxShadow});var I={filter:{transform:C.filter},blur:D.blur("--chakra-blur"),brightness:D.propT("--chakra-brightness",C.brightness),contrast:D.propT("--chakra-contrast",C.contrast),hueRotate:D.degreeT("--chakra-hue-rotate"),invert:D.propT("--chakra-invert",C.invert),saturate:D.propT("--chakra-saturate",C.saturate),dropShadow:D.propT("--chakra-drop-shadow",C.dropShadow),backdropFilter:{transform:C.backdropFilter},backdropBlur:D.blur("--chakra-backdrop-blur"),backdropBrightness:D.propT("--chakra-backdrop-brightness",C.brightness),backdropContrast:D.propT("--chakra-backdrop-contrast",C.contrast),backdropHueRotate:D.degreeT("--chakra-backdrop-hue-rotate"),backdropInvert:D.propT("--chakra-backdrop-invert",C.invert),backdropSaturate:D.propT("--chakra-backdrop-saturate",C.saturate)},J={alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:{transform:C.flexDirection},experimental_spaceX:{static:s,transform:k({scale:"space",transform:function(a){return null!==a?{"--chakra-space-x":a}:null}})},experimental_spaceY:{static:t,transform:k({scale:"space",transform:function(a){return null!=a?{"--chakra-space-y":a}:null}})},flex:!0,flexFlow:!0,flexGrow:!0,flexShrink:!0,flexBasis:D.sizes("flexBasis"),justifySelf:!0,alignSelf:!0,order:!0,placeItems:!0,placeContent:!0,placeSelf:!0,gap:D.space("gap"),rowGap:D.space("rowGap"),columnGap:D.space("columnGap")};Object.assign(J,{flexDir:J.flexDirection});var K={gridGap:D.space("gridGap"),gridColumnGap:D.space("gridColumnGap"),gridRowGap:D.space("gridRowGap"),gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridColumnStart:!0,gridColumnEnd:!0,gridRowStart:!0,gridRowEnd:!0,gridAutoRows:!0,gridTemplate:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0},L={appearance:!0,cursor:!0,resize:!0,userSelect:!0,pointerEvents:!0,outline:{transform:C.outline},outlineOffset:!0,outlineColor:D.colors("outlineColor")},M={width:D.sizesT("width"),inlineSize:D.sizesT("inlineSize"),height:D.sizes("height"),blockSize:D.sizes("blockSize"),boxSize:D.sizes(["width","height"]),minWidth:D.sizes("minWidth"),minInlineSize:D.sizes("minInlineSize"),minHeight:D.sizes("minHeight"),minBlockSize:D.sizes("minBlockSize"),maxWidth:D.sizes("maxWidth"),maxInlineSize:D.sizes("maxInlineSize"),maxHeight:D.sizes("maxHeight"),maxBlockSize:D.sizes("maxBlockSize"),d:D.prop("display"),overflow:!0,overflowX:!0,overflowY:!0,overscrollBehavior:!0,overscrollBehaviorX:!0,overscrollBehaviorY:!0,display:!0,verticalAlign:!0,boxSizing:!0,boxDecorationBreak:!0,"float":D.propT("float",C.float),objectFit:!0,objectPosition:!0,visibility:!0,isolation:!0};Object.assign(M,{w:M.width,h:M.height,minW:M.minWidth,maxW:M.maxWidth,minH:M.minHeight,maxH:M.maxHeight,overscroll:M.overscrollBehavior,overscrollX:M.overscrollBehaviorX,overscrollY:M.overscrollBehaviorY});var N={listStyleType:!0,listStylePosition:!0,listStylePos:D.prop("listStylePosition"),listStyleImage:!0,listStyleImg:D.prop("listStyleImage")},O={border:"0px",clip:"rect(0, 0, 0, 0)",width:"1px",height:"1px",margin:"-1px",padding:"0px",overflow:"hidden",whiteSpace:"nowrap",position:"absolute"},P={position:"static",width:"auto",height:"auto",clip:"auto",padding:"0",margin:"0",overflow:"visible",whiteSpace:"normal"},Q=function(a,b,c){var d={},e=(0,f.Wf)(a,b,{});for(var g in e)g in c&&null!=c[g]||(d[g]=e[g]);return d},R={position:!0,pos:D.prop("position"),zIndex:D.prop("zIndex","zIndices"),inset:D.spaceT("inset"),insetX:D.spaceT(["left","right"]),insetInline:D.spaceT("insetInline"),insetY:D.spaceT(["top","bottom"]),insetBlock:D.spaceT("insetBlock"),top:D.spaceT("top"),insetBlockStart:D.spaceT("insetBlockStart"),bottom:D.spaceT("bottom"),insetBlockEnd:D.spaceT("insetBlockEnd"),left:D.spaceT("left"),insetInlineStart:D.logical({scale:"space",property:{ltr:"left",rtl:"right"}}),right:D.spaceT("right"),insetInlineEnd:D.logical({scale:"space",property:{ltr:"right",rtl:"left"}})};Object.assign(R,{insetStart:R.insetInlineStart,insetEnd:R.insetInlineEnd});var S={ring:{transform:C.ring},ringColor:D.colors("--chakra-ring-color"),ringOffset:D.prop("--chakra-ring-offset-width"),ringOffsetColor:D.colors("--chakra-ring-offset-color"),ringInset:D.prop("--chakra-ring-inset")},T={margin:D.spaceT("margin"),marginTop:D.spaceT("marginTop"),marginBlockStart:D.spaceT("marginBlockStart"),marginRight:D.spaceT("marginRight"),marginInlineEnd:D.spaceT("marginInlineEnd"),marginBottom:D.spaceT("marginBottom"),marginBlockEnd:D.spaceT("marginBlockEnd"),marginLeft:D.spaceT("marginLeft"),marginInlineStart:D.spaceT("marginInlineStart"),marginX:D.spaceT(["marginInlineStart","marginInlineEnd"]),marginInline:D.spaceT("marginInline"),marginY:D.spaceT(["marginTop","marginBottom"]),marginBlock:D.spaceT("marginBlock"),padding:D.space("padding"),paddingTop:D.space("paddingTop"),paddingBlockStart:D.space("paddingBlockStart"),paddingRight:D.space("paddingRight"),paddingBottom:D.space("paddingBottom"),paddingBlockEnd:D.space("paddingBlockEnd"),paddingLeft:D.space("paddingLeft"),paddingInlineStart:D.space("paddingInlineStart"),paddingInlineEnd:D.space("paddingInlineEnd"),paddingX:D.space(["paddingInlineStart","paddingInlineEnd"]),paddingInline:D.space("paddingInline"),paddingY:D.space(["paddingTop","paddingBottom"]),paddingBlock:D.space("paddingBlock")};Object.assign(T,{m:T.margin,mt:T.marginTop,mr:T.marginRight,me:T.marginInlineEnd,marginEnd:T.marginInlineEnd,mb:T.marginBottom,ml:T.marginLeft,ms:T.marginInlineStart,marginStart:T.marginInlineStart,mx:T.marginX,my:T.marginY,p:T.padding,pt:T.paddingTop,py:T.paddingY,px:T.paddingX,pb:T.paddingBottom,pl:T.paddingLeft,ps:T.paddingInlineStart,paddingStart:T.paddingInlineStart,pr:T.paddingRight,pe:T.paddingInlineEnd,paddingEnd:T.paddingInlineEnd});var U={textDecorationColor:D.colors("textDecorationColor"),textDecoration:!0,textDecor:{property:"textDecoration"},textDecorationLine:!0,textDecorationStyle:!0,textDecorationThickness:!0,textUnderlineOffset:!0,textShadow:D.shadows("textShadow")},V={clipPath:!0,transform:D.propT("transform",C.transform),transformOrigin:!0,translateX:D.spaceT("--chakra-translate-x"),translateY:D.spaceT("--chakra-translate-y"),skewX:D.degreeT("--chakra-skew-x"),skewY:D.degreeT("--chakra-skew-y"),scaleX:D.prop("--chakra-scale-x"),scaleY:D.prop("--chakra-scale-y"),scale:D.prop(["--chakra-scale-x","--chakra-scale-y"]),rotate:D.degreeT("--chakra-rotate")},W={transition:!0,transitionDelay:!0,animation:!0,willChange:!0,transitionDuration:D.prop("transitionDuration","transition.duration"),transitionProperty:D.prop("transitionProperty","transition.property"),transitionTimingFunction:D.prop("transitionTimingFunction","transition.easing")},X={fontFamily:D.prop("fontFamily","fonts"),fontSize:D.prop("fontSize","fontSizes",C.px),fontWeight:D.prop("fontWeight","fontWeights"),lineHeight:D.prop("lineHeight","lineHeights"),letterSpacing:D.prop("letterSpacing","letterSpacings"),textAlign:!0,fontStyle:!0,wordBreak:!0,overflowWrap:!0,textOverflow:!0,textTransform:!0,whiteSpace:!0,noOfLines:{static:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:"var(--chakra-line-clamp)"},property:"--chakra-line-clamp"},isTruncated:{transform:function(a){if(!0===a)return{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}}};function Y(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=new Array(b);c<b;c++)d[c]=a[c];return d}function Z(a,b){var c="undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(c)return(c=c.call(a)).next.bind(c);if(Array.isArray(a)||(c=(function(a,b){if(a){if("string"==typeof a)return Y(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return Y(a,b)}})(a))||b&&a&&"number"==typeof a.length){c&&(a=c);var d=0;return function(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var $={hover:function(a){return a+":hover &, "+a+"[data-hover] &"},focus:function(a){return a+":focus &, "+a+"[data-focus] &"},focusVisible:function(a){return a+":focus-visible &"},active:function(a){return a+":active &, "+a+"[data-active] &"},disabled:function(a){return a+":disabled &, "+a+"[data-disabled] &"},invalid:function(a){return a+":invalid &, "+a+"[data-invalid] &"},checked:function(a){return a+":checked &, "+a+"[data-checked] &"},indeterminate:function(a){return a+":indeterminate &, "+a+"[aria-checked=mixed] &, "+a+"[data-indeterminate] &"},readOnly:function(a){return a+":read-only &, "+a+"[readonly] &, "+a+"[data-read-only] &"},expanded:function(a){return a+":read-only &, "+a+"[aria-expanded=true] &, "+a+"[data-expanded] &"}},_=function(a){return aa(a,"[role=group]","[data-group]",".group")},aa=function(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return c.map(a).join(", ")},ba={_hover:"&:hover, &[data-hover]",_active:"&:active, &[data-active]",_focus:"&:focus, &[data-focus]",_highlighted:"&[data-highlighted]",_focusWithin:"&:focus-within",_focusVisible:"&:focus-visible",_disabled:"&[disabled], &[aria-disabled=true], &[data-disabled]",_readOnly:"&[aria-readonly=true], &[readonly], &[data-readonly]",_before:"&::before",_after:"&::after",_empty:"&:empty",_expanded:"&[aria-expanded=true], &[data-expanded]",_checked:"&[aria-checked=true], &[data-checked]",_grabbed:"&[aria-grabbed=true], &[data-grabbed]",_pressed:"&[aria-pressed=true], &[data-pressed]",_invalid:"&[aria-invalid=true], &[data-invalid]",_valid:"&[data-valid], &[data-state=valid]",_loading:"&[data-loading], &[aria-busy=true]",_selected:"&[aria-selected=true], &[data-selected]",_hidden:"&[hidden], &[data-hidden]",_autofill:"&:-webkit-autofill",_even:"&:nth-of-type(even)",_odd:"&:nth-of-type(odd)",_first:"&:first-of-type",_last:"&:last-of-type",_notFirst:"&:not(:first-of-type)",_notLast:"&:not(:last-of-type)",_visited:"&:visited",_activeLink:"&[aria-current=page]",_activeStep:"&[aria-current=step]",_indeterminate:"&:indeterminate, &[aria-checked=mixed], &[data-indeterminate]",_groupHover:_($.hover),_groupFocus:_($.focus),_groupFocusVisible:_($.focusVisible),_groupActive:_($.active),_groupDisabled:_($.disabled),_groupInvalid:_($.invalid),_groupChecked:_($.checked),_placeholder:"&::placeholder",_fullScreen:"&:fullscreen",_selection:"&::selection",_rtl:"[dir=rtl] &",_mediaDark:"@media (prefers-color-scheme: dark)",_dark:".chakra-ui-dark &, [data-theme=dark] &, &[data-theme=dark]",_light:".chakra-ui-light &, [data-theme=light] &, &[data-theme=light]"},ca=(0,f.Yd)(ba),da=h()({},E,F,G,J,M,I,S,L,K,{srOnly:{transform:function(a){return!0===a?O:"focusable"===a?P:{}}},layerStyle:{processResult:!0,transform:function(a,b,c){return Q(b,"layerStyles."+a,c)}},textStyle:{processResult:!0,transform:function(a,b,c){return Q(b,"textStyles."+a,c)}},apply:{processResult:!0,transform:function(a,b,c){return Q(b,a,c)}}},R,H,T,X,U,V,N,W),ea=Object.assign({},T,M,J,K,R);(0,f.Yd)(ea);var fa=[].concat((0,f.Yd)(da),ca),ga=i({},da,ba),ha=function(a){return a in ga},ia=function(a,b){var c,d;if(null==b)return b;var e=function(b){var c,d;return null==(c=a.__cssMap)?void 0:null==(d=c[b])?void 0:d.varRef},f=function(a){var b;return null!=(b=e(a))?b:a},g=b.split(",").map(function(a){return a.trim()}),h=g[0],i=g[1];return b=null!=(c=null!=(d=e(h))?d:f(i))?c:f(b)},ja=function(a){return function(b){var c,d,e,g,i,j;return(e=void 0===(d=(c={theme:b,pseudos:ba,configs:da}).configs)?{}:d,g=c.pseudos,i=void 0===g?{}:g,j=c.theme,function a(b,c){void 0===c&&(c=!1);var d,g=(0,f.Pu)(b,j),k=(d=g,function(a){if(!a.__breakpoints)return d;var b=a.__breakpoints,c=b.isResponsive,e=b.toArrayValue,g=b.media,h={};for(var i in d){var j=(0,f.Pu)(d[i],a);if(null!=j){if(j=(0,f.Kn)(j)&&c(j)?e(j):j,!Array.isArray(j)){h[i]=j;continue}for(var k=j.slice(0,g.length).length,l=0;l<k;l+=1){var m=null==g?void 0:g[l];if(!m){h[i]=j[l];continue}h[m]=h[m]||{},null!=j[l]&&(h[m][i]=j[l])}}}return h})(j),l={};for(var m in k){var n,o,p=k[m],q=(0,f.Pu)(p,j);m in i&&(m=i[m]),n=m,o=q,n.startsWith("--")&&(0,f.HD)(o)&&!(0,f.FS)(o)&&(q=ia(j,q));var r=e[m];if(!0===r&&(r={property:m}),(0,f.Kn)(q)){l[m]=null!=(A=l[m])?A:{},l[m]=h()({},l[m],a(q,!0));continue}var s=null!=(v=null==(w=r)?void 0:null==w.transform?void 0:w.transform(q,j,g))?v:q;s=null!=(x=r)&&x.processResult?a(s,!0):s;var t=(0,f.Pu)(null==(y=r)?void 0:y.property,j);if(!c&&null!=(z=r)&&z.static){var u=(0,f.Pu)(r.static,j);l=h()({},l,u)}if(t&&Array.isArray(t)){for(var v,w,x,y,z,A,B,C=Z(t);!(B=C()).done;)l[B.value]=s;continue}if(t){"&"===t&&(0,f.Kn)(s)?l=h()({},l,s):l[t]=s;continue}if((0,f.Kn)(s)){l=h()({},l,s);continue}l[m]=s}return l})(a)}};function ka(a){return(0,f.Kn)(a)&&a.reference?a.reference:String(a)}var la=function(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return c.map(ka).join(" "+a+" ").replace(/calc/g,"")},ma=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return"calc("+la.apply(void 0,["+"].concat(b))+")"},na=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return"calc("+la.apply(void 0,["-"].concat(b))+")"},oa=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return"calc("+la.apply(void 0,["*"].concat(b))+")"},pa=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return"calc("+la.apply(void 0,["/"].concat(b))+")"},qa=function(a){var b=ka(a);return null==b||Number.isNaN(parseFloat(b))?oa(b,-1):String(b).startsWith("-")?String(b).slice(1):"-"+b},ra=Object.assign(function(a){return{add:function(){for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];return ra(ma.apply(void 0,[a].concat(c)))},subtract:function(){for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];return ra(na.apply(void 0,[a].concat(c)))},multiply:function(){for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];return ra(oa.apply(void 0,[a].concat(c)))},divide:function(){for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];return ra(pa.apply(void 0,[a].concat(c)))},negate:function(){return ra(qa(a))},toString:function(){return a.toString()}}},{add:ma,subtract:na,multiply:oa,divide:pa,negate:qa});function sa(a){var b,c=(void 0===b&&(b="-"),a.toString().replace(/\s+/g,b));return c.includes("\\.")?a:Number.isInteger(parseFloat(a.toString()))?a:c.replace(".","\\.")}function ta(a,b,c){var d,e,f,g,h,i,j=(d=a,void 0===(e=c)&&(e=""),"--"+(f=d,void 0===(g=e)&&(g=""),[g,sa(f)].filter(Boolean).join("-")));return{variable:j,reference:(h=j,i=b,"var("+sa(h)+(i?", "+i:"")+")")}}var ua={space:function(a,b,c){var d,e=ua.defaultHandler(a,b,c),f=a[0],g=a.slice(1),h=f+".-"+g.join("."),j=a.join("-"),k=ta(j,void 0,c.cssVarPrefix),l=k.variable,m=k.reference,n=ra.negate(b),o=ra.negate(m);return{cssVars:e.cssVars,cssMap:i({},e.cssMap,((d={})[h]={value:""+n,"var":""+l,varRef:o},d))}},defaultHandler:function(a,b,c){var d,e,f=a.join("."),g=a.join("-"),h=ta(g,void 0,c.cssVarPrefix),i=h.variable,j=h.reference;return{cssVars:((d={})[i]=b,d),cssMap:((e={})[f]={value:b,"var":i,varRef:j},e)}}},va=["__cssMap","__cssVars","__breakpoints"],wa=["colors","borders","borderWidths","borderStyles","fonts","fontSizes","fontWeights","letterSpacings","lineHeights","radii","space","shadows","sizes","zIndices","transition","blur"];function xa(a){var b,c,d,e,g,h,j=((c=a).__cssMap,c.__cssVars,c.__breakpoints,function(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||(e[c]=a[c]);return e}(c,va)),k=(d=j,(0,f.ei)(d,wa)),l=null==(b=j.config)?void 0:b.cssVarPrefix,m=(e=k,g={cssVarPrefix:l},h={cssMap:{},cssVars:{}},(0,f.Vg)(e,function(a,b){var c,d=(null!=(c=ua[b[0]])?c:ua.defaultHandler)(b,a,g),e=d.cssVars,f=d.cssMap;Object.assign(h.cssVars,e),Object.assign(h.cssMap,f)}),h),n=m.cssMap,o=m.cssVars;return Object.assign(j,{__cssVars:i({},{"--chakra-ring-inset":"var(--chakra-empty,/*!*/ /*!*/)","--chakra-ring-offset-width":"0px","--chakra-ring-offset-color":"#fff","--chakra-ring-color":"rgba(66, 153, 225, 0.6)","--chakra-ring-offset-shadow":"0 0 #0000","--chakra-ring-shadow":"0 0 #0000","--chakra-space-x-reverse":"0","--chakra-space-y-reverse":"0"},o),__cssMap:n,__breakpoints:(0,f.yn)(j.breakpoints)}),j}},6052:function(a,b,c){"use strict";c.d(b,{ZL:function(){return v},Fo:function(){return t},f6:function(){return q},"m$":function(){return E},Gp:function(){return F},Lr:function(){return w},x9:function(){return A},jC:function(){return I},mq:function(){return H},yK:function(){return u},Fg:function(){return r}});var d=c(949),e=c(4244),f=c(9394),g=c(917),h=c(5031),i=c(8554),j=c.n(i),k=c(7294),l=c(9590),m=c.n(l),n=c(6450),o=c(5934);function p(){return(p=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}var q=function(a){var b=a.cssVarsRoot,c=void 0===b?":host, :root":b,d=a.theme,h=a.children,i=k.useMemo(function(){return(0,e.c0)(d)},[d]);return k.createElement(f.a,{theme:i},k.createElement(g.xB,{styles:function(a){var b;return(b={})[c]=a.__cssVars,b}}),h)};function r(){var a=k.useContext(f.T);if(!a)throw Error("useTheme: `theme` is undefined. Seems you forgot to wrap your app in `<ChakraProvider />` or `<ThemeProvider />`");return a}var s=(0,n.kr)({name:"StylesContext",errorMessage:"useStyles: `styles` is undefined. Seems you forgot to wrap the components in `<StylesProvider />` "}),t=s[0],u=s[1],v=function(){var a=(0,d.If)().colorMode;return k.createElement(g.xB,{styles:function(b){var c=(0,h.Wf)(b,"styles.global"),d=(0,h.Pu)(c,{theme:b,colorMode:a});if(d)return(0,e.iv)(d)(b)}})};function w(a){return(0,h.CE)(a,["styleConfig","size","variant","colorScheme"])}function x(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||(e[c]=a[c]);return e}var y=new Set([].concat(e.cC,["textStyle","layerStyle","apply","isTruncated","noOfLines","focusBorderColor","errorBorderColor","as","__css","css","sx"])),z=new Set(["htmlWidth","htmlHeight","htmlSize"]),A=function(a){return z.has(a)||!y.has(a)},B=["theme","css","__css","sx"],C=["baseStyle"],D=function(a){var b=a.baseStyle;return function(a){a.theme;var c=a.css,d=a.__css,f=a.sx,g=x(a,B),i=(0,h.lw)(g,function(a,b){return(0,e.ZR)(b)}),j=(0,h.Pu)(b,a),k=Object.assign({},d,j,(0,h.YU)(i),f),l=(0,e.iv)(k)(a.theme);return c?[l,c]:l}},E=function(a,b){var c=null!=b?b:{},d=c.baseStyle,e=x(c,C);e.shouldForwardProp||(e.shouldForwardProp=A);var f=D({baseStyle:d});return(0,o.Z)(a,e)(f)};function F(a){return k.forwardRef(a)}["a","b","article","aside","blockquote","button","caption","cite","circle","code","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hr","img","input","kbd","label","li","main","mark","nav","ol","p","path","pre","q","rect","s","svg","section","select","strong","small","span","sub","sup","table","tbody","td","textarea","tfoot","th","thead","tr","ul"].forEach(function(a){E[a]=E(a)});var G=["styleConfig"];function H(a,b,c){void 0===b&&(b={}),void 0===c&&(c={});var e,f,g,i,l,n,o,q=b,s=q.styleConfig,t=x(q,G),u=p({},(0,d.If)(),{theme:r()}),v=u.theme,w=u.colorMode,y=(0,h.Wf)(v,"components."+a),z=s||y,A=j()({theme:v,colorMode:w},null!=(e=null==z?void 0:z.defaultProps)?e:{},(0,h.YU)((0,h.CE)(t,["children"]))),B=(0,k.useRef)({});if(z){var C=(0,h.Pu)(null!=(f=z.baseStyle)?f:{},A),D=(0,h.Pu)(null!=(g=null==(i=z.variants)?void 0:i[A.variant])?g:{},A),E=(0,h.Pu)(null!=(l=null==(n=z.sizes)?void 0:n[A.size])?l:{},A),F=j()({},C,E,D);null!=(o=c)&&o.isMultiPart&&z.parts&&z.parts.forEach(function(a){var b;F[a]=null!=(b=F[a])?b:{}});var H=m()(B.current,F);H||(B.current=F)}return B.current}function I(a,b){return H(a,b,{isMultiPart:!0})}},5031:function(a,b,c){"use strict";c.d(b,{Ts:function(){return A},jX:function(){return p},yn:function(){return N},v0:function(){return ca},r3:function(){return V},cx:function(){return T},PB:function(){return S},VI:function(){return ma},YU:function(){return F},T_:function(){return ha},sq:function(){return H},vY:function(){return U},LP:function(){return r},lZ:function(){return Q},H9:function(){return Z},kJ:function(){return t},jU:function(){return R},FS:function(){return z},Qr:function(){return w},mf:function(){return u},Re:function(){return P},Ft:function(){return x},hj:function(){return s},Kn:function(){return v},n_:function(){return X},HD:function(){return y},Wq:function(){return _},XQ:function(){return oa},Wf:function(){return D},ZT:function(){return ea},uh:function(){return W},lw:function(){return E},Yd:function(){return G},CE:function(){return B},ei:function(){return C},zG:function(){return ga},cl:function(){return q},Pu:function(){return ba},Vg:function(){return pa},ZK:function(){return fa}}),c(8554);var d=1/60*1000,e="undefined"!=typeof performance?function(){return performance.now()}:function(){return Date.now()},f="undefined"!=typeof window?function(a){return window.requestAnimationFrame(a)}:function(a){return setTimeout(function(){return a(e())},d)},g=!0,h=!1,i=!1,j={delta:0,timestamp:0},k=["read","update","preRender","render","postRender"],l=k.reduce(function(a,b){return a[b]=(function(a){var b=[],c=[],d=0,e=!1,f=new WeakSet(),g={schedule:function(a,g,h){void 0===g&&(g=!1),void 0===h&&(h=!1);var i=h&&e,j=i?b:c;return g&&f.add(a),-1===j.indexOf(a)&&(j.push(a),i&&e&&(d=b.length)),a},cancel:function(a){var b=c.indexOf(a);-1!==b&&c.splice(b,1),f.delete(a)},process:function(h){var i;if(e=!0,b=(i=[c,b])[0],(c=i[1]).length=0,d=b.length)for(var j=0;j<d;j++){var k=b[j];k(h),f.has(k)&&(g.schedule(k),a())}e=!1}};return g})(function(){return h=!0}),a},{});k.reduce(function(a,b){var c=l[b];return a[b]=function(a,b,d){return void 0===b&&(b=!1),void 0===d&&(d=!1),h||n(),c.schedule(a,b,d)},a},{}),k.reduce(function(a,b){return a[b]=l[b].cancel,a},{}),k.reduce(function(a,b){return a[b]=function(){return l[b].process(j)},a},{});var m=function(a){h=!1,j.delta=g?d:Math.max(Math.min(a-j.timestamp,40),1),j.timestamp=a,i=!0,k.forEach(function(a){return l[a].process(j)}),i=!1,h&&(g=!1,f(m))},n=function(){h=!0,g=!0,i||f(m)};function o(a){var b=null==a?0:a.length;return b?a[b-1]:void 0}function p(a,b){return[].concat(a,[b])}function q(a,b){return a.filter(function(a){return a!==b})}function r(a,b,c,d){if(null==b)return d;if(!d)return a.find(function(a){return c(a).toLowerCase().startsWith(b.toLowerCase())});var e,f=a.filter(function(a){return c(a).toLowerCase().startsWith(b.toLowerCase())});return f.length>0?f.includes(d)?((e=f.indexOf(d)+1)===f.length&&(e=0),f[e]):(e=a.indexOf(f[0]),a[e]):d}function s(a){return"number"==typeof a}function t(a){return Array.isArray(a)}function u(a){return"function"==typeof a}function v(a){var b=typeof a;return null!=a&&("object"===b||"function"===b)&&!t(a)}function w(a){return v(a)&&0===Object.keys(a).length}function x(a){return null==a}function y(a){return"[object String]"===Object.prototype.toString.call(a)}function z(a){return/^var\(--.+\)$/.test(a)}var A=!1;function B(a,b){var c={};return Object.keys(a).forEach(function(d){b.includes(d)||(c[d]=a[d])}),c}function C(a,b){var c={};return b.forEach(function(b){b in a&&(c[b]=a[b])}),c}var D=function(a){var b=new WeakMap();return function(c,d,e,f){if(void 0===c)return a(c,d,e);b.has(c)||b.set(c,new Map());var g=b.get(c);if(g.has(d))return g.get(d);var h=a(c,d,e,f);return g.set(d,h),h}}(function(a,b,c,d){var e="string"==typeof b?b.split("."):[b];for(d=0;d<e.length;d+=1){if(!a)break;a=a[e[d]]}return void 0===a?c:a});function E(a,b){var c={};return Object.keys(a).forEach(function(d){var e=a[d];b(e,d,a)&&(c[d]=e)}),c}var F=function(a){return E(a,function(a){return null!=a})},G=function(a){return Object.keys(a)},H=function(a){return a.reduce(function(a,b){var c=b[0],d=b[1];return a[c]=d,a},{})};function I(a){var b,c,d;return null==a?a:(c=parseFloat((b=a).toString()),d=b.toString().replace(String(c),""),{unitless:!d,value:c,unit:d}).unitless||s(a)?a+"px":a}var J=function(a,b){return parseInt(a[1],10)>parseInt(b[1],10)?1:-1},K=function(a){return H(Object.entries(a).sort(J))};function L(a){var b=K(a);return Object.assign(Object.values(b),b)}function M(a,b){var c=[];return a&&c.push("@media screen and (min-width: "+I(a)+")"),c.length>0&&b&&c.push("and"),b&&c.push("@media screen and (max-width: "+I(b)+")"),c.join(" ")}function N(a){if(!a)return null;a.base=null!=(b=a.base)?b:"0px";var b,c,d,e=L(a),f=Object.entries(a).sort(J).map(function(a,b,c){var d,e=a[0],f=a[1],g=null!=(d=c[b+1])?d:[],h=g[1];return{breakpoint:e,minW:f,maxW:h=parseFloat(h)>0?(function(a){var b;if(!a)return a;var c=(a=null!=(b=I(a))?b:a).endsWith("px")?-1:-0.0635;return s(a)?""+(a+c):a.replace(/([0-9]+\.?[0-9]*)/,function(a){return""+(parseFloat(a)+c)})})(h):void 0,maxWQuery:M(null,h),minWQuery:M(f),minMaxQuery:M(f,h)}}),g=(c=a,d=Object.keys(K(c)),new Set(d)),h=Array.from(g.values());return{keys:g,normalized:e,isResponsive:function(a){var b=Object.keys(a);return b.length>0&&b.every(function(a){return g.has(a)})},asObject:K(a),asArray:L(a),details:f,media:[null].concat(e.map(function(a){return M(a)}).slice(1)),toArrayValue:function(a){if(!v(a))throw new Error("toArrayValue: value must be an object");for(var b=h.map(function(b){var c;return null!=(c=a[b])?c:null});null===o(b);)b.pop();return b},toObjectValue:function(a){if(!Array.isArray(a))throw new Error("toObjectValue: value must be an array");return a.reduce(function(a,b,c){var d=h[c];return null!=d&&null!=b&&(a[d]=b),a},{})}}}function O(a){return null!=a&&"object"==typeof a&&"nodeType"in a&&a.nodeType===Node.ELEMENT_NODE}function P(a){var b;if(!O(a))return!1;var c=null!=(b=a.ownerDocument.defaultView)?b:window;return a instanceof c.HTMLElement}function Q(a){var b;return O(a)&&null!=(b=a.ownerDocument)?b:document}var R=!!("undefined"!=typeof window&&window.document&&window.document.createElement),S=function(a){return a?"":void 0},T=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return b.filter(Boolean).join(" ")};function U(a){var b=Q(a);return null==b?void 0:b.activeElement}function V(a,b){return!!a&&(a===b||a.contains(b))}function W(a){var b=a.key,c=a.keyCode;return c>=37&&c<=40&&0!==b.indexOf("Arrow")?"Arrow"+b:b}function X(a){return 0!==a.button}var Y=function(a){return a.hasAttribute("tabindex")};function Z(a){return(P(a)?Q(a):document).activeElement===a}function $(a){return!!(a.parentElement&&$(a.parentElement))||a.hidden}function _(a){var b;return!!a&&P(a)&&(function(a){if(!P(a)||$(a)|| !0===Boolean((c=a).getAttribute("disabled"))|| !0===Boolean(c.getAttribute("aria-disabled")))return!1;var b,c,d=a.localName;if(["input","select","textarea","button"].indexOf(d)>=0)return!0;var e={a:function(){return a.hasAttribute("href")},audio:function(){return a.hasAttribute("controls")},video:function(){return a.hasAttribute("controls")}};return d in e?e[d]():"false"!==(b=a.getAttribute("contenteditable"))&&null!=b||Y(a)})(a)&&(!Y(b=a)|| -1!==b.tabIndex)}function aa(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=new Array(b);c<b;c++)d[c]=a[c];return d}function ba(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return u(a)?a.apply(void 0,c):a}function ca(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return function(a){b.some(function(b){return null==b||b(a),null==a?void 0:a.defaultPrevented})}}function da(a){var b;return function(){if(a){for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];b=a.apply(this,d),a=null}return b}}var ea=function(){},fa=da(function(a){return function(){var b=a.condition,c=a.message;b&&A&&console.warn(c)}});da(function(a){return function(){var b=a.condition,c=a.message;b&&A&&console.error(c)}});var ga=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return function(a){return b.reduce(function(a,b){return b(a)},a)}};function ha(a,b){void 0===b&&(b={});var c=b,d=c.isActive,e=c.nextTick,f=c.preventScroll,g=void 0===f||f,h=c.selectTextIfInput,i=void 0===h||h;if(!a||(void 0===d?Z:d)(a))return -1;function j(){var b;if(!a){fa({condition:!0,message:"[chakra-ui]: can't call focus() on `null` or `undefined` element"});return}ja()?a.focus({preventScroll:g}):(a.focus(),g&&la(ka(a))),P(b=a)&&"input"===b.tagName.toLowerCase()&&"select"in b&&i&&a.select()}return e?requestAnimationFrame(j):(j(),-1)}var ia=null;function ja(){if(null==ia){ia=!1;try{document.createElement("div").focus({get preventScroll(){return ia=!0,!0}})}catch(a){}}return ia}function ka(a){for(var b,c=Q(a),d=null!=(b=c.defaultView)?b:window,e=a.parentNode,f=[],g=c.scrollingElement||c.documentElement;e instanceof d.HTMLElement&&e!==g;)(e.offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth)&&f.push({element:e,scrollTop:e.scrollTop,scrollLeft:e.scrollLeft}),e=e.parentNode;return g instanceof d.HTMLElement&&f.push({element:g,scrollTop:g.scrollTop,scrollLeft:g.scrollLeft}),f}function la(a){for(var b,c=function(a,b){var c="undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(c)return(c=c.call(a)).next.bind(c);if(Array.isArray(a)||(c=(function(a,b){if(a){if("string"==typeof a)return aa(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return aa(a,b)}})(a))||0){c&&(a=c);var d=0;return function(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(a);!(b=c()).done;){var d=b.value,e=d.element,f=d.scrollTop,g=d.scrollLeft;e.scrollTop=f,e.scrollLeft=g}}function ma(a){var b=a.hasBeenSelected,c=a.isLazy,d=a.isSelected,e=a.lazyBehavior;return!c|| !!d||"keepMounted"===(void 0===e?"unmount":e)&&!!b}function na(){return(na=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}function oa(a,b){return t(a)?a.map(function(a){return null===a?null:b(a)}):v(a)?G(a).reduce(function(c,d){return c[d]=b(a[d]),c},{}):null!=a?b(a):null}function pa(a,b){function c(a,d){return(void 0===d&&(d=[]),t(a))?a.map(function(a,b){return c(a,[].concat(d,[String(b)]))}):v(a)?H(Object.entries(a).map(function(a){var b=a[0];return[b,c(a[1],[].concat(d,[b]))]})):b(a,d)}return c(a)}Object.freeze(["base","sm","md","lg","xl","2xl"])},4474:function(a,b,c){"use strict";c.d(b,{Z:function(){return da}});var d=c(1526),e=Math.abs,f=String.fromCharCode,g=Object.assign;function h(a){return a.trim()}function i(a,b,c){return a.replace(b,c)}function j(a,b){return a.indexOf(b)}function k(a,b){return 0|a.charCodeAt(b)}function l(a,b,c){return a.slice(b,c)}function m(a){return a.length}function n(a){return a.length}function o(a,b){return b.push(a),a}var p=1,q=1,r=0,s=0,t=0,u="";function v(a,b,c,d,e,f,g){return{value:a,root:b,parent:c,type:d,props:e,children:f,line:p,column:q,length:g,return:""}}function w(a,b){return g(v("",null,null,"",null,null,0),a,{length:-a.length},b)}function x(){return t=s>0?k(u,--s):0,q--,10===t&&(q=1,p--),t}function y(){return t=s<r?k(u,s++):0,q++,10===t&&(q=1,p++),t}function z(){return k(u,s)}function A(){return s}function B(a,b){return l(u,a,b)}function C(a){switch(a){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function D(a){return p=q=1,r=m(u=a),s=0,[]}function E(a){return u="",a}function F(a){return h(B(s-1,I(91===a?a+2:40===a?a+1:a)))}function G(a){for(;t=z();)if(t<33)y();else break;return C(a)>2||C(t)>3?"":" "}function H(a,b){for(;--b&&y()&& !(t<48)&&!(t>102)&&(!(t>57)||!(t<65))&&(!(t>70)||!(t<97)););return B(a,A()+(b<6&&32==z()&&32==y()))}function I(a){for(;y();)switch(t){case a:return s;case 34:case 39:34!==a&&39!==a&&I(t);break;case 40:41===a&&I(a);break;case 92:y();break}return s}function J(a,b){for(;y();)if(a+t===57)break;else if(a+t===84&&47===z())break;return"/*"+B(b,s-1)+"*"+f(47===a?a:y())}function K(a){for(;!C(z());)y();return B(a,s)}var L="-ms-",M="-moz-",N="-webkit-",O="comm",P="rule",Q="decl",R="@keyframes";function S(a,b){for(var c="",d=n(a),e=0;e<d;e++)c+=b(a[e],e,a,b)||"";return c}function T(a,b,c,d){switch(a.type){case"@import":case Q:return a.return=a.return||a.value;case O:return"";case R:return a.return=a.value+"{"+S(a.children,d)+"}";case P:a.value=a.props.join(",")}return m(c=S(a.children,d))?a.return=a.value+"{"+c+"}":""}function U(a,b){var c;switch((((b<<2^k(c=a,0))<<2^k(c,1))<<2^k(c,2))<<2^k(c,3)){case 5103:return N+"print-"+a+a;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return N+a+a;case 5349:case 4246:case 4810:case 6968:case 2756:return N+a+M+a+L+a+a;case 6828:case 4268:return N+a+L+a+a;case 6165:return N+a+L+"flex-"+a+a;case 5187:return N+a+i(a,/(\w+).+(:[^]+)/,N+"box-$1$2"+L+"flex-$1$2")+a;case 5443:return N+a+L+"flex-item-"+i(a,/flex-|-self/,"")+a;case 4675:return N+a+L+"flex-line-pack"+i(a,/align-content|flex-|-self/,"")+a;case 5548:return N+a+L+i(a,"shrink","negative")+a;case 5292:return N+a+L+i(a,"basis","preferred-size")+a;case 6060:return N+"box-"+i(a,"-grow","")+N+a+L+i(a,"grow","positive")+a;case 4554:return N+i(a,/([^-])(transform)/g,"$1"+N+"$2")+a;case 6187:return i(i(i(a,/(zoom-|grab)/,N+"$1"),/(image-set)/,N+"$1"),a,"")+a;case 5495:case 3959:return i(a,/(image-set\([^]*)/,N+"$1$`$1");case 4968:return i(i(a,/(.+:)(flex-)?(.*)/,N+"box-pack:$3"+L+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+N+a+a;case 4095:case 3583:case 4068:case 2532:return i(a,/(.+)-inline(.+)/,N+"$1$2")+a;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(m(a)-1-b>6)switch(k(a,b+1)){case 109:if(45!==k(a,b+4))break;case 102:return i(a,/(.+:)(.+)-([^]+)/,"$1"+N+"$2-$3$1"+M+(108==k(a,b+3)?"$3":"$2-$3"))+a;case 115:return~j(a,"stretch")?U(i(a,"stretch","fill-available"),b)+a:a}break;case 4949:if(115!==k(a,b+1))break;case 6444:switch(k(a,m(a)-3-(~j(a,"!important")&&10))){case 107:return i(a,":",":"+N)+a;case 101:return i(a,/(.+:)([^;!]+)(;|!.+)?/,"$1"+N+(45===k(a,14)?"inline-":"")+"box$3$1"+N+"$2$3$1"+L+"$2box$3")+a}break;case 5936:switch(k(a,b+11)){case 114:return N+a+L+i(a,/[svh]\w+-[tblr]{2}/,"tb")+a;case 108:return N+a+L+i(a,/[svh]\w+-[tblr]{2}/,"tb-rl")+a;case 45:return N+a+L+i(a,/[svh]\w+-[tblr]{2}/,"lr")+a}return N+a+L+a+a}return a}function V(a,b,c,d,e,g,h,k,l){for(var n=0,p=0,q=h,r=0,s=0,t=0,u=1,v=1,w=1,B=0,C="",D=e,E=g,I=d,L=C;v;)switch(t=B,B=y()){case 40:if(108!=t&&58==L.charCodeAt(q-1)){-1!=j(L+=i(F(B),"&","&\f"),"&\f")&&(w=-1);break}case 34:case 39:case 91:L+=F(B);break;case 9:case 10:case 13:case 32:L+=G(t);break;case 92:L+=H(A()-1,7);continue;case 47:switch(z()){case 42:case 47:o(X(J(y(),A()),b,c),l);break;default:L+="/"}break;case 123*u:k[n++]=m(L)*w;case 125*u:case 59:case 0:switch(B){case 0:case 125:v=0;case 59+p:s>0&&m(L)-q&&o(s>32?Y(L+";",d,c,q-1):Y(i(L," ","")+";",d,c,q-2),l);break;case 59:L+=";";default:if(o(I=W(L,b,c,n,p,e,k,C,D=[],E=[],q),g),123===B)if(0===p)V(L,b,I,I,D,g,q,k,E);else switch(r){case 100:case 109:case 115:V(a,I,I,d&&o(W(a,I,I,0,0,e,k,C,e,D=[],q),E),e,E,q,k,d?D:E);break;default:V(L,I,I,I,[""],E,0,k,E)}}n=p=s=0,u=w=1,C=L="",q=h;break;case 58:q=1+m(L),s=t;default:if(u<1){if(123==B)--u;else if(125==B&&0==u++&&125==x())continue}switch(L+=f(B),B*u){case 38:w=p>0?1:(L+="\f",-1);break;case 44:k[n++]=(m(L)-1)*w,w=1;break;case 64:45===z()&&(L+=F(y())),r=z(),p=q=m(C=L+=K(A())),B++;break;case 45:45===t&&2==m(L)&&(u=0)}}return g}function W(a,b,c,d,f,g,j,k,m,o,p){for(var q=f-1,r=0===f?g:[""],s=n(r),t=0,u=0,w=0;t<d;++t)for(var x=0,y=l(a,q+1,q=e(u=j[t])),z=a;x<s;++x)(z=h(u>0?r[x]+" "+y:i(y,/&\f/g,r[x])))&&(m[w++]=z);return v(a,b,c,0===f?P:k,m,o,p)}function X(a,b,c){return v(a,b,c,O,f(t),l(a,2,-2),0)}function Y(a,b,c,d){return v(a,b,c,Q,l(a,0,d),l(a,d+1,-1),d)}var Z=function(a,b,c){for(var d=0,e=0;;){if(d=e,e=z(),38===d&&12===e&&(b[c]=1),C(e))break;y()}return B(a,s)},$=function(a,b){var c=-1,d=44;do switch(C(d)){case 0:38===d&&12===z()&&(b[c]=1),a[c]+=Z(s-1,b,c);break;case 2:a[c]+=F(d);break;case 4:if(44===d){a[++c]=58===z()?"&\f":"",b[c]=a[c].length;break}default:a[c]+=f(d)}while(d=y())return a},_=new WeakMap(),aa=function(a){if("rule"===a.type&&a.parent&&!(a.length<1)){for(var b=a.value,c=a.parent,d=a.column===c.column&&a.line===c.line;"rule"!==c.type;)if(!(c=c.parent))return;if((1!==a.props.length||58===b.charCodeAt(0)||_.get(c))&&!d){_.set(a,!0);for(var e,f,g=[],h=(e=b,f=g,E($(D(e),f))),i=c.props,j=0,k=0;j<h.length;j++)for(var l=0;l<i.length;l++,k++)a.props[k]=g[j]?h[j].replace(/&\f/g,i[l]):i[l]+" "+h[j]}}},ba=function(a){if("decl"===a.type){var b=a.value;108===b.charCodeAt(0)&&98===b.charCodeAt(2)&&(a.return="",a.value="")}},ca=[function(a,b,c,d){if(a.length> -1&&!a.return)switch(a.type){case Q:a.return=U(a.value,a.length);break;case R:return S([w(a,{value:i(a.value,"@","@"+N)})],d);case P:if(a.length)return(function(a,b){return a.map(b).join("")})(a.props,function(b){var c;switch(c=b,(c=/(::plac\w+|:read-\w+)/.exec(c))?c[0]:c){case":read-only":case":read-write":return S([w(a,{props:[i(b,/:(read-\w+)/,":"+M+"$1")]})],d);case"::placeholder":return S([w(a,{props:[i(b,/:(plac\w+)/,":"+N+"input-$1")]}),w(a,{props:[i(b,/:(plac\w+)/,":"+M+"$1")]}),w(a,{props:[i(b,/:(plac\w+)/,L+"input-$1")]})],d)}return""})}}],da=function(a){var b,c,e,f=a.key;if("css"===f){var g=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(g,function(a){-1!==a.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(a),a.setAttribute("data-s",""))})}var h=a.stylisPlugins||ca,i={},j=[];b=a.container||document.head,Array.prototype.forEach.call(document.querySelectorAll("style[data-emotion^=\""+f+" \"]"),function(a){for(var b=a.getAttribute("data-emotion").split(" "),c=1;c<b.length;c++)i[b[c]]=!0;j.push(a)});var k,l,m=[T,function(a){return function(b){!b.root&&(b=b.return)&&a(b)}}(function(a){e.insert(a)})],o=(l=n(k=[aa,ba].concat(h,m)),function(a,b,c,d){for(var e="",f=0;f<l;f++)e+=k[f](a,b,c,d)||"";return e}),p=function(a){var b;return S(E(V("",null,null,null,[""],b=D(b=a),0,[0],b)),o)};c=function(a,b,c,d){e=c,p(a?a+"{"+b.styles+"}":b.styles),d&&(q.inserted[b.name]=!0)};var q={key:f,sheet:new d.m({key:f,container:b,nonce:a.nonce,speedy:a.speedy,prepend:a.prepend,insertionPoint:a.insertionPoint}),nonce:a.nonce,inserted:i,registered:{},insert:c};return q.sheet.hydrate(j),q}},7866:function(a,b){"use strict";b.Z=function(a){var b=Object.create(null);return function(c){return void 0===b[c]&&(b[c]=a(c)),b[c]}}},9394:function(a,b,c){"use strict";c.d(b,{T:function(){return j},a:function(){return l},w:function(){return i}});var d=c(7294),e=c(4474),f=c(7462),g=function(a){var b=new WeakMap();return function(c){if(b.has(c))return b.get(c);var d=a(c);return b.set(c,d),d}};c(3772),({}).hasOwnProperty;var h=(0,d.createContext)("undefined"!=typeof HTMLElement?(0,e.Z)({key:"css"}):null);h.Provider;var i=function(a){return(0,d.forwardRef)(function(b,c){return a(b,(0,d.useContext)(h),c)})},j=(0,d.createContext)({}),k=g(function(a){return g(function(b){var c,d;return c=a,"function"==typeof(d=b)?d(c):(0,f.Z)({},c,d)})}),l=function(a){var b=(0,d.useContext)(j);return a.theme!==b&&(b=k(b)(a.theme)),(0,d.createElement)(j.Provider,{value:b},a.children)};new Set(["renderWithHooks","processChild","finishClassComponent","renderToString"])},917:function(a,b,c){"use strict";c.d(b,{xB:function(){return j},F4:function(){return l}});var d=c(7294);c(4474);var e=c(9394),f=c(8679);c.n(f);var g=c(444),h=c(3772),i=c(1526),j=(0,e.w)(function(a,b){var c=a.styles,f=(0,h.O)([c],void 0,(0,d.useContext)(e.T)),j=(0,d.useRef)();return(0,d.useLayoutEffect)(function(){var a=b.key+"-global",c=new i.m({key:a,nonce:b.sheet.nonce,container:b.sheet.container,speedy:b.sheet.isSpeedy}),d=!1,e=document.querySelector("style[data-emotion=\""+a+" "+f.name+"\"]");return b.sheet.tags.length&&(c.before=b.sheet.tags[0]),null!==e&&(d=!0,e.setAttribute("data-emotion",a),c.hydrate([e])),j.current=[c,d],function(){c.flush()}},[b]),(0,d.useLayoutEffect)(function(){var a=j.current,c=a[0];if(a[1]){a[1]=!1;return}if(void 0!==f.next&&(0,g.M)(b,f.next,!0),c.tags.length){var d=c.tags[c.tags.length-1].nextElementSibling;c.before=d,c.flush()}b.insert("",f,c,!1)},[b,f.name]),null});function k(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return(0,h.O)(b)}var l=function(){var a=k.apply(void 0,arguments),b="animation-"+a.name;return{name:b,styles:"@keyframes "+b+"{"+a.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}},3772:function(a,b,c){"use strict";c.d(b,{O:function(){return q}});var d,e=function(a){for(var b,c=0,d=0,e=a.length;e>=4;++d,e-=4)b=(65535&(b=255&a.charCodeAt(d)|(255&a.charCodeAt(++d))<<8|(255&a.charCodeAt(++d))<<16|(255&a.charCodeAt(++d))<<24))*1540483477+((b>>>16)*59797<<16),b^=b>>>24,c=(65535&b)*1540483477+((b>>>16)*59797<<16)^(65535&c)*1540483477+((c>>>16)*59797<<16);switch(e){case 3:c^=(255&a.charCodeAt(d+2))<<16;case 2:c^=(255&a.charCodeAt(d+1))<<8;case 1:c=(65535&(c^=255&a.charCodeAt(d)))*1540483477+((c>>>16)*59797<<16)}return(((c=(65535&(c^=c>>>13))*1540483477+((c>>>16)*59797<<16))^c>>>15)>>>0).toString(36)},f={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},g=c(7866),h=/[A-Z]|^ms/g,i=/_EMO_([^_]+?)_([^]*?)_EMO_/g,j=function(a){return 45===a.charCodeAt(1)},k=function(a){return null!=a&&"boolean"!=typeof a},l=(0,g.Z)(function(a){return j(a)?a:a.replace(h,"-$&").toLowerCase()}),m=function(a,b){switch(a){case"animation":case"animationName":if("string"==typeof b)return b.replace(i,function(a,b,c){return d={name:b,styles:c,next:d},b})}return 1===f[a]||j(a)||"number"!=typeof b||0===b?b:b+"px"};function n(a,b,c){if(null==c)return"";if(void 0!==c.__emotion_styles)return c;switch(typeof c){case"boolean":return"";case"object":if(1===c.anim)return d={name:c.name,styles:c.styles,next:d},c.name;if(void 0!==c.styles){var e=c.next;if(void 0!==e)for(;void 0!==e;)d={name:e.name,styles:e.styles,next:d},e=e.next;return c.styles+";"}return o(a,b,c);case"function":if(void 0!==a){var f=d,g=c(a);return d=f,n(a,b,g)}break;case"string":break}if(null==b)return c;var h=b[c];return void 0!==h?h:c}function o(a,b,c){var d="";if(Array.isArray(c))for(var e=0;e<c.length;e++)d+=n(a,b,c[e])+";";else for(var f in c){var g=c[f];if("object"!=typeof g)null!=b&& void 0!==b[g]?d+=f+"{"+b[g]+"}":k(g)&&(d+=l(f)+":"+m(f,g)+";");else if(Array.isArray(g)&&"string"==typeof g[0]&&(null==b|| void 0===b[g[0]]))for(var h=0;h<g.length;h++)k(g[h])&&(d+=l(f)+":"+m(f,g[h])+";");else{var i=n(a,b,g);switch(f){case"animation":case"animationName":d+=l(f)+":"+i+";";break;default:d+=f+"{"+i+"}"}}}return d}var p=/label:\s*([^\s;\n{]+)\s*(;|$)/g,q=function(a,b,c){if(1===a.length&&"object"==typeof a[0]&&null!==a[0]&& void 0!==a[0].styles)return a[0];var f,g=!0,h="";d=void 0;var i=a[0];null==i|| void 0===i.raw?(g=!1,h+=n(c,b,i)):h+=i[0];for(var j=1;j<a.length;j++)h+=n(c,b,a[j]),g&&(h+=i[j]);p.lastIndex=0;for(var k="";null!==(f=p.exec(h));)k+="-"+f[1];return{name:e(h)+k,styles:h,next:d}}},1526:function(a,b,c){"use strict";c.d(b,{m:function(){return d}});var d=function(){function a(a){var b=this;this._insertTag=function(a){var c;c=0===b.tags.length?b.insertionPoint?b.insertionPoint.nextSibling:b.prepend?b.container.firstChild:b.before:b.tags[b.tags.length-1].nextSibling,b.container.insertBefore(a,c),b.tags.push(a)},this.isSpeedy=void 0===a.speedy||a.speedy,this.tags=[],this.ctr=0,this.nonce=a.nonce,this.key=a.key,this.container=a.container,this.prepend=a.prepend,this.insertionPoint=a.insertionPoint,this.before=null}var b=a.prototype;return b.hydrate=function(a){a.forEach(this._insertTag)},b.insert=function(a){if(this.ctr%(this.isSpeedy?65000:1)==0){var b,c;this._insertTag((b=this,(c=document.createElement("style")).setAttribute("data-emotion",b.key),void 0!==b.nonce&&c.setAttribute("nonce",b.nonce),c.appendChild(document.createTextNode("")),c.setAttribute("data-s",""),c))}var d=this.tags[this.tags.length-1];if(this.isSpeedy){var e=function(a){if(a.sheet)return a.sheet;for(var b=0;b<document.styleSheets.length;b++)if(document.styleSheets[b].ownerNode===a)return document.styleSheets[b]}(d);try{e.insertRule(a,e.cssRules.length)}catch(f){}}else d.appendChild(document.createTextNode(a));this.ctr++},b.flush=function(){this.tags.forEach(function(a){return a.parentNode&&a.parentNode.removeChild(a)}),this.tags=[],this.ctr=0},a}()},5934:function(a,b,c){"use strict";c.d(b,{Z:function(){return p}});var d=c(7294),e=c(7462),f=c(7866),g=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,h=(0,f.Z)(function(a){return g.test(a)||111===a.charCodeAt(0)&&110===a.charCodeAt(1)&&91>a.charCodeAt(2)}),i=c(9394),j=c(444),k=c(3772),l=h,m=function(a){return"string"==typeof a&&a.charCodeAt(0)>96?l:function(a){return"theme"!==a}},n=function(a,b,c){var d;if(b){var e=b.shouldForwardProp;d=a.__emotion_forwardProp&&e?function(b){return a.__emotion_forwardProp(b)&&e(b)}:e}return"function"!=typeof d&&c&&(d=a.__emotion_forwardProp),d},o=(function a(b,c){var f,g,h=b.__emotion_real===b,l=h&&b.__emotion_base||b;void 0!==c&&(f=c.label,g=c.target);var o=n(b,c,h),p=o||m(l),q=!p("as");return function(){var r=arguments,s=h&& void 0!==b.__emotion_styles?b.__emotion_styles.slice(0):[];if(void 0!==f&&s.push("label:"+f+";"),null==r[0]|| void 0===r[0].raw)s.push.apply(s,r);else{s.push(r[0][0]);for(var t=r.length,u=1;u<t;u++)s.push(r[u],r[0][u])}var v=(0,i.w)(function(a,b,c){var e=q&&a.as||l,f="",h=[],n=a;if(null==a.theme){for(var r in n={},a)n[r]=a[r];n.theme=(0,d.useContext)(i.T)}"string"==typeof a.className?f=(0,j.f)(b.registered,h,a.className):null!=a.className&&(f=a.className+" ");var t=(0,k.O)(s.concat(h),b.registered,n);(0,j.M)(b,t,"string"==typeof e),f+=b.key+"-"+t.name,void 0!==g&&(f+=" "+g);var u=q&& void 0===o?m(e):p,v={};for(var w in a)(!q||"as"!==w)&&u(w)&&(v[w]=a[w]);v.className=f,v.ref=c;var x=(0,d.createElement)(e,v),y=(0,d.createElement)(function(){return null},null);return(0,d.createElement)(d.Fragment,null,y,x)});return v.displayName=void 0!==f?f:"Styled("+("string"==typeof l?l:l.displayName||l.name||"Component")+")",v.defaultProps=b.defaultProps,v.__emotion_real=v,v.__emotion_base=l,v.__emotion_styles=s,v.__emotion_forwardProp=o,Object.defineProperty(v,"toString",{value:function(){return"."+g}}),v.withComponent=function(b,d){return a(b,(0,e.Z)({},c,d,{shouldForwardProp:n(v,d,!0)})).apply(void 0,s)},v}}).bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach(function(a){o[a]=o(a)});var p=o},444:function(a,b,c){"use strict";function d(a,b,c){var d="";return c.split(" ").forEach(function(c){void 0!==a[c]?b.push(a[c]+";"):d+=c+" "}),d}c.d(b,{f:function(){return d},M:function(){return e}});var e=function(a,b,c){var d=a.key+"-"+b.name;if(!1===c&& void 0===a.registered[d]&&(a.registered[d]=b.styles),void 0===a.inserted[b.name]){var e=b;do a.insert(b===e?"."+d:"",e,a.sheet,!0),e=e.next;while(void 0!==e)}}},640:function(a,b,c){"use strict";var d=c(1742),e={"text/plain":"Text","text/html":"Url","default":"Text"};a.exports=function(a,b){var c,f,g,h,i,j,k,l,m=!1;b||(b={}),g=b.debug||!1;try{if(i=d(),j=document.createRange(),k=document.getSelection(),l=document.createElement("span"),l.textContent=a,l.style.all="unset",l.style.position="fixed",l.style.top=0,l.style.clip="rect(0, 0, 0, 0)",l.style.whiteSpace="pre",l.style.webkitUserSelect="text",l.style.MozUserSelect="text",l.style.msUserSelect="text",l.style.userSelect="text",l.addEventListener("copy",function(c){if(c.stopPropagation(),b.format)if(c.preventDefault(),void 0===c.clipboardData){g&&console.warn("unable to use e.clipboardData"),g&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var d=e[b.format]||e.default;window.clipboardData.setData(d,a)}else c.clipboardData.clearData(),c.clipboardData.setData(b.format,a);b.onCopy&&(c.preventDefault(),b.onCopy(c.clipboardData))}),document.body.appendChild(l),j.selectNodeContents(l),k.addRange(j),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");m=!0}catch(n){g&&console.error("unable to copy using execCommand: ",n),g&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(b.format||"text",a),b.onCopy&&b.onCopy(window.clipboardData),m=!0}catch(o){g&&console.error("unable to copy using clipboardData: ",o),g&&console.error("falling back to prompt"),c="message"in b?b.message:"Copy to clipboard: #{key}, Enter",f=(/mac os x/i.test(navigator.userAgent)?"":"Ctrl")+"+C",h=c.replace(/#{\s*key\s*}/g,f),window.prompt(h,a)}}finally{k&&("function"==typeof k.removeRange?k.removeRange(j):k.removeAllRanges()),l&&document.body.removeChild(l),i()}return m}},8679:function(a,b,c){"use strict";var d=c(9864),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},f={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},g={"$$typeof":!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},h={};function i(a){return d.isMemo(a)?g:h[a.$$typeof]||e}h[d.ForwardRef]={"$$typeof":!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},h[d.Memo]=g;var j=Object.defineProperty,k=Object.getOwnPropertyNames,l=Object.getOwnPropertySymbols,m=Object.getOwnPropertyDescriptor,n=Object.getPrototypeOf,o=Object.prototype;function p(a,b,c){if("string"!=typeof b){if(o){var d=n(b);d&&d!==o&&p(a,d,c)}var e=k(b);l&&(e=e.concat(l(b)));for(var g=i(a),h=i(b),q=0;q<e.length;++q){var r=e[q];if(!f[r]&&!(c&&c[r])&&!(h&&h[r])&&!(g&&g[r])){var s=m(b,r);try{j(a,r,s)}catch(t){}}}}return a}a.exports=p},8554:function(a,b,c){a=c.nmd(a);var d="__lodash_hash_undefined__",e=16,f="[object Arguments]",g="[object Function]",h="[object Object]",i=/^\[object .+?Constructor\]$/,j=/^(?:0|[1-9]\d*)$/,k={};k["[object Float32Array]"]=k["[object Float64Array]"]=k["[object Int8Array]"]=k["[object Int16Array]"]=k["[object Int32Array]"]=k["[object Uint8Array]"]=k["[object Uint8ClampedArray]"]=k["[object Uint16Array]"]=k["[object Uint32Array]"]=!0,k[f]=k["[object Array]"]=k["[object ArrayBuffer]"]=k["[object Boolean]"]=k["[object DataView]"]=k["[object Date]"]=k["[object Error]"]=k[g]=k["[object Map]"]=k["[object Number]"]=k[h]=k["[object RegExp]"]=k["[object Set]"]=k["[object String]"]=k["[object WeakMap]"]=!1;var l,m,n,o="object"==typeof c.g&&c.g&&c.g.Object===Object&&c.g,p="object"==typeof self&&self&&self.Object===Object&&self,q=o||p||Function("return this")(),r=b&&!b.nodeType&&b,s=r&&a&&!a.nodeType&&a,t=s&&s.exports===r,u=t&&o.process,v=function(){try{var a=s&&s.require&&s.require("util").types;if(a)return a;return u&&u.binding&&u.binding("util")}catch(b){}}(),w=v&&v.isTypedArray,x=Array.prototype,y=Function.prototype,z=Object.prototype,A=q["__core-js_shared__"],B=y.toString,C=z.hasOwnProperty,D=(l=/[^.]+$/.exec(A&&A.keys&&A.keys.IE_PROTO||""))?"Symbol(src)_1."+l:"",E=z.toString,F=B.call(Object),G=RegExp("^"+B.call(C).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),H=t?q.Buffer:void 0,I=q.Symbol,J=q.Uint8Array,K=H?H.allocUnsafe:void 0,L=(m=Object.getPrototypeOf,n=Object,function(a){return m(n(a))}),M=Object.create,N=z.propertyIsEnumerable,O=x.splice,P=I?I.toStringTag:void 0,Q=function(){try{var a=ma(Object,"defineProperty");return a({},"",{}),a}catch(b){}}(),R=H?H.isBuffer:void 0,S=Math.max,T=Date.now,U=ma(q,"Map"),V=ma(Object,"create"),W=function(){function a(){}return function(b){if(!Fa(b))return{};if(M)return M(b);a.prototype=b;var c=new a;return a.prototype=void 0,c}}();function X(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function Y(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function Z(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function $(a){var b=this.__data__=new Y(a);this.size=b.size}function _(a,b,c){(void 0===c||xa(a[b],c))&&(void 0!==c||b in a)||ca(a,b,c)}function aa(a,b,c){var d=a[b];C.call(a,b)&&xa(d,c)&&(void 0!==c||b in a)||ca(a,b,c)}function ba(a,b){for(var c=a.length;c--;)if(xa(a[c][0],b))return c;return -1}function ca(a,b,c){"__proto__"==b&&Q?Q(a,b,{configurable:!0,enumerable:!0,value:c,writable:!0}):a[b]=c}X.prototype.clear=function(){this.__data__=V?V(null):{},this.size=0},X.prototype.delete=function(a){var b=this.has(a)&&delete this.__data__[a];return this.size-=b?1:0,b},X.prototype.get=function(a){var b=this.__data__;if(V){var c=b[a];return c===d?void 0:c}return C.call(b,a)?b[a]:void 0},X.prototype.has=function(a){var b=this.__data__;return V?void 0!==b[a]:C.call(b,a)},X.prototype.set=function(a,b){var c=this.__data__;return this.size+=this.has(a)?0:1,c[a]=V&& void 0===b?d:b,this},Y.prototype.clear=function(){this.__data__=[],this.size=0},Y.prototype.delete=function(a){var b=this.__data__,c=ba(b,a);return!(c<0)&&(c==b.length-1?b.pop():O.call(b,c,1),--this.size,!0)},Y.prototype.get=function(a){var b=this.__data__,c=ba(b,a);return c<0?void 0:b[c][1]},Y.prototype.has=function(a){return ba(this.__data__,a)> -1},Y.prototype.set=function(a,b){var c=this.__data__,d=ba(c,a);return d<0?(++this.size,c.push([a,b])):c[d][1]=b,this},Z.prototype.clear=function(){this.size=0,this.__data__={hash:new X,map:new(U||Y),string:new X}},Z.prototype.delete=function(a){var b=la(this,a).delete(a);return this.size-=b?1:0,b},Z.prototype.get=function(a){return la(this,a).get(a)},Z.prototype.has=function(a){return la(this,a).has(a)},Z.prototype.set=function(a,b){var c=la(this,a),d=c.size;return c.set(a,b),this.size+=c.size==d?0:1,this},$.prototype.clear=function(){this.__data__=new Y,this.size=0},$.prototype.delete=function(a){var b=this.__data__,c=b.delete(a);return this.size=b.size,c},$.prototype.get=function(a){return this.__data__.get(a)},$.prototype.has=function(a){return this.__data__.has(a)},$.prototype.set=function(a,b){var c=this.__data__;if(c instanceof Y){var d=c.__data__;if(!U||d.length<199)return d.push([a,b]),this.size=++c.size,this;c=this.__data__=new Z(d)}return c.set(a,b),this.size=c.size,this};var da=function(a,b,c){for(var d=-1,e=Object(a),f=c(a),g=f.length;g--;){var h=f[++d];if(!1===b(e[h],h,e))break}return a};function ea(a){return null==a?void 0===a?"[object Undefined]":"[object Null]":P&&P in Object(a)?na(a):ta(a)}function fa(a){return Ga(a)&&ea(a)==f}function ga(a,b,c,d,e){a!==b&&da(b,function(f,g){if(e||(e=new $),Fa(f))ha(a,b,g,c,ga,d,e);else{var h=d?d(ua(a,g),f,g+"",a,b,e):void 0;void 0===h&&(h=f),_(a,g,h)}},La)}function ha(a,b,c,d,e,f,g){var h=ua(a,c),i=ua(b,c),j=g.get(i);if(j){_(a,c,j);return}var k=f?f(h,i,c+"",a,b,g):void 0,l=void 0===k;if(l){var m=za(i),n=!m&&Ca(i),o=!m&&!n&&Ja(i);k=i,m||n||o?za(h)?k=h:Ba(h)?k=ka(h):n?(l=!1,k=ia(i,!0)):o?(l=!1,k=ja(i,!0)):k=[]:Ha(i)||ya(i)?(k=h,ya(h)?k=Ka(h):(!Fa(h)||Da(h))&&(k=oa(i))):l=!1}l&&(g.set(i,k),e(k,i,d,f,g),g.delete(i)),_(a,c,k)}function ia(a,b){if(b)return a.slice();var c=a.length,d=K?K(c):new a.constructor(c);return a.copy(d),d}function ja(a,b){var c,d,e=b?(d=new(c=a.buffer).constructor(c.byteLength),new J(d).set(new J(c)),d):a.buffer;return new a.constructor(e,a.byteOffset,a.length)}function ka(a,b){var c=-1,d=a.length;for(b||(b=Array(d));++c<d;)b[c]=a[c];return b}function la(a,b){var c=a.__data__;return qa(b)?c["string"==typeof b?"string":"hash"]:c.map}function ma(a,b){var c,d,e,f=(c=a,d=b,null==c?void 0:c[d]);return!(!Fa(e=f)||ra(e))&&(Da(e)?G:i).test(wa(e))?f:void 0}function na(a){var b=C.call(a,P),c=a[P];try{a[P]=void 0;var d=!0}catch(e){}var f=E.call(a);return d&&(b?a[P]=c:delete a[P]),f}function oa(a){return"function"!=typeof a.constructor||sa(a)?{}:W(L(a))}function pa(a,b){var c=typeof a;return!!(b=null==b?9007199254740991:b)&&("number"==c||"symbol"!=c&&j.test(a))&&a> -1&&a%1==0&&a<b}function qa(a){var b=typeof a;return"string"==b||"number"==b||"symbol"==b||"boolean"==b?"__proto__"!==a:null===a}function ra(a){return!!D&&D in a}function sa(a){var b=a&&a.constructor;return a===("function"==typeof b&&b.prototype||z)}function ta(a){return E.call(a)}function ua(a,b){if(("constructor"!==b||"function"!=typeof a[b])&&"__proto__"!=b)return a[b]}var va=function(a){var b=0,c=0;return function(){var d=T(),f=e-(d-c);if(c=d,f>0){if(++b>=800)return arguments[0]}else b=0;return a.apply(void 0,arguments)}}(Q?function(a,b){return Q(a,"toString",{configurable:!0,enumerable:!1,value:Na(b),writable:!0})}:Oa);function wa(a){if(null!=a){try{return B.call(a)}catch(b){}try{return a+""}catch(c){}}return""}function xa(a,b){return a===b||a!=a&&b!=b}var ya=fa(function(){return arguments}())?fa:function(a){return Ga(a)&&C.call(a,"callee")&&!N.call(a,"callee")},za=Array.isArray;function Aa(a){return null!=a&&Ea(a.length)&&!Da(a)}function Ba(a){return Ga(a)&&Aa(a)}var Ca=R||function(){return!1};function Da(a){if(!Fa(a))return!1;var b=ea(a);return b==g||"[object GeneratorFunction]"==b||"[object AsyncFunction]"==b||"[object Proxy]"==b}function Ea(a){return"number"==typeof a&&a> -1&&a%1==0&&a<=9007199254740991}function Fa(a){var b=typeof a;return null!=a&&("object"==b||"function"==b)}function Ga(a){return null!=a&&"object"==typeof a}function Ha(a){if(!Ga(a)||ea(a)!=h)return!1;var b=L(a);if(null===b)return!0;var c=C.call(b,"constructor")&&b.constructor;return"function"==typeof c&&c instanceof c&&B.call(c)==F}var Ia,Ja=w?(Ia=w,function(a){return Ia(a)}):function(a){return Ga(a)&&Ea(a.length)&&!!k[ea(a)]};function Ka(a){return(function(a,b,c,d){var e=!c;c||(c={});for(var f=-1,g=b.length;++f<g;){var h=b[f],i=d?d(c[h],a[h],h,c,a):void 0;void 0===i&&(i=a[h]),e?ca(c,h,i):aa(c,h,i)}return c})(a,La(a))}function La(a){return Aa(a)?(function(a,b){var c=za(a),d=!c&&ya(a),e=!c&&!d&&Ca(a),f=!c&&!d&&!e&&Ja(a),g=c||d||e||f,h=g?function(a,b){for(var c=-1,d=Array(a);++c<a;)d[c]=b(c);return d}(a.length,String):[],i=h.length;for(var j in a)(b||C.call(a,j))&&!(g&&("length"==j||e&&("offset"==j||"parent"==j)||f&&("buffer"==j||"byteLength"==j||"byteOffset"==j)||pa(j,i)))&&h.push(j);return h})(a,!0):(function(a){if(!Fa(a))return(function(a){var b=[];if(null!=a)for(var c in Object(a))b.push(c);return b})(a);var b=sa(a),c=[];for(var d in a)"constructor"==d&&(b||!C.call(a,d))||c.push(d);return c})(a)}var Ma=function(a){return(function(a,b){return va(function(a,b,c){return b=S(void 0===b?a.length-1:b,0),function(){for(var d=arguments,e=-1,f=S(d.length-b,0),g=Array(f);++e<f;)g[e]=d[b+e];e=-1;for(var h=Array(b+1);++e<b;)h[e]=d[e];return h[b]=c(g),(function(a,b,c){switch(c.length){case 0:return a.call(b);case 1:return a.call(b,c[0]);case 2:return a.call(b,c[0],c[1]);case 3:return a.call(b,c[0],c[1],c[2])}return a.apply(b,c)})(a,this,h)}}(a,void 0,Oa),a+"")})(function(b,c){var d=-1,e=c.length,f=e>1?c[e-1]:void 0,g=e>2?c[2]:void 0;for(f=a.length>3&&"function"==typeof f?(e--,f):void 0,g&&(function(a,b,c){if(!Fa(c))return!1;var d=typeof b;return("number"==d?!!(Aa(c)&&pa(b,c.length)):"string"==d&&(b in c))&&xa(c[b],a)})(c[0],c[1],g)&&(f=e<3?void 0:f,e=1),b=Object(b);++d<e;){var h=c[d];h&&a(b,h,d,f)}return b})}(function(a,b,c,d){ga(a,b,c,d)});function Na(a){return function(){return a}}function Oa(a){return a}a.exports=Ma},1780:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return c(1225)}])},8045:function(a,b,c){"use strict";function d(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function e(a){return(function(a){if(Array.isArray(a)){for(var b=0,c=new Array(a.length);b<a.length;b++)c[b]=a[b];return c}})(a)||(function(a){if(Symbol.iterator in Object(a)||"[object Arguments]"===Object.prototype.toString.call(a))return Array.from(a)})(a)||(function(){throw new TypeError("Invalid attempt to spread non-iterable instance")})()}b.default=function(a){var b,c=a.src,e=a.sizes,j=a.unoptimized,l=void 0!==j&&j,q=a.priority,s=void 0!==q&&q,t=a.loading,u=a.lazyBoundary,v=void 0===u?"200px":u,w=a.className,x=a.quality,B=a.width,C=a.height,D=a.objectFit,E=a.objectPosition,F=a.onLoadingComplete,G=a.loader,H=void 0===G?A:G,I=a.placeholder,J=void 0===I?"empty":I,K=a.blurDataURL,L=function(a,b){if(null==a)return{};var c,d,e=n(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,["src","sizes","unoptimized","priority","loading","lazyBoundary","className","quality","width","height","objectFit","objectPosition","onLoadingComplete","loader","placeholder","blurDataURL"]),M=L,N=e?"responsive":"intrinsic";"layout"in M&&(M.layout&&(N=M.layout),delete M.layout);var O,P="";if("object"==typeof(O=c)&&(r(O)|| void 0!==O.src)){var Q=r(c)?c.default:c;if(!Q.src)throw new Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received ".concat(JSON.stringify(Q)));if(K=K||Q.blurDataURL,P=Q.src,(!N||"fill"!==N)&&(C=C||Q.height,B=B||Q.width,!Q.height||!Q.width))throw new Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received ".concat(JSON.stringify(Q)))}c="string"==typeof c?c:P;var R=z(B),S=z(C),T=z(x),U=!s&&("lazy"===t|| void 0===t);(c.startsWith("data:")||c.startsWith("blob:"))&&(l=!0,U=!1),o.has(c)&&(U=!1);var V,W=function(a){if(Array.isArray(a))return a}(V=k.useIntersection({rootMargin:v,disabled:!U}))||function(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(i){e=!0,f=i}finally{try{d||null==h.return||h.return()}finally{if(e)throw f}}return c}(V,2)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}(),X=W[0],Y=W[1],Z={boxSizing:"border-box",display:"block",overflow:"hidden",width:"initial",height:"initial",background:"none",opacity:1,border:0,margin:0,padding:0},$={boxSizing:"border-box",display:"block",width:"initial",height:"initial",background:"none",opacity:1,border:0,margin:0,padding:0},_=!1,aa={position:"absolute",top:0,left:0,bottom:0,right:0,boxSizing:"border-box",padding:0,border:"none",margin:"auto",display:"block",width:0,height:0,minWidth:"100%",maxWidth:"100%",minHeight:"100%",maxHeight:"100%",objectFit:D,objectPosition:E},ba="blur"===J?{filter:"blur(20px)",backgroundSize:D||"cover",backgroundImage:"url(\"".concat(K,"\")"),backgroundPosition:E||"0% 0%"}:{};if("fill"===N)Z.display="block",Z.position="absolute",Z.top=0,Z.left=0,Z.bottom=0,Z.right=0;else if(void 0!==R&& void 0!==S){var ca=S/R,da=isNaN(ca)?"100%":"".concat(100*ca,"%");"responsive"===N?(Z.display="block",Z.position="relative",_=!0,$.paddingTop=da):"intrinsic"===N?(Z.display="inline-block",Z.position="relative",Z.maxWidth="100%",_=!0,$.maxWidth="100%",b="<svg width=\"".concat(R,"\" height=\"").concat(S,"\" xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\"/>")):"fixed"===N&&(Z.display="inline-block",Z.position="relative",Z.width=R,Z.height=S)}var ea={src:p,srcSet:void 0,sizes:void 0};(!U||Y)&&(ea=y({src:c,unoptimized:l,layout:N,width:R,quality:T,sizes:e,loader:H}));var fa=c,ga=(d(f={},"imagesrcset",ea.srcSet),d(f,"imagesizes",ea.sizes),f);return g.default.createElement("span",{style:Z},_?g.default.createElement("span",{style:$},b?g.default.createElement("img",{style:{display:"block",maxWidth:"100%",width:"initial",height:"initial",background:"none",opacity:1,border:0,margin:0,padding:0},alt:"","aria-hidden":!0,src:"data:image/svg+xml;base64,".concat(i.toBase64(b))}):null):null,g.default.createElement("img",Object.assign({},M,ea,{decoding:"async","data-nimg":N,className:w,ref:function(a){X(a),(function(a,b,c,d,e){if(a){var f=function(){a.src!==p&&("decode"in a?a.decode():Promise.resolve()).catch(function(){}).then(function(){if("blur"===d&&(a.style.filter="none",a.style.backgroundSize="none",a.style.backgroundImage="none"),o.add(b),e){var c=a.naturalWidth,f=a.naturalHeight;e({naturalWidth:c,naturalHeight:f})}})};a.complete?f():a.onload=f}})(a,fa,N,J,F)},style:m({},aa,ba)})),g.default.createElement("noscript",null,g.default.createElement("img",Object.assign({},M,y({src:c,unoptimized:l,layout:N,width:R,quality:T,sizes:e,loader:H}),{decoding:"async","data-nimg":N,style:aa,className:w,loading:t||"lazy"}))),s?g.default.createElement(h.default,null,g.default.createElement("link",Object.assign({key:"__nimg-"+ea.src+ea.srcSet+ea.sizes,rel:"preload",as:"image",href:ea.srcSet?void 0:ea.src},ga))):null)};var f,g=l(c(7294)),h=l(c(5443)),i=c(6978),j=c(5809),k=c(7190);function l(a){return a&&a.__esModule?a:{default:a}}function m(a){for(var b=arguments,c=1;c<arguments.length;c++)!function(c){var d=null!=b[c]?b[c]:{},e=Object.keys(d);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(d).filter(function(a){return Object.getOwnPropertyDescriptor(d,a).enumerable}))),e.forEach(function(b){var c,e,f;c=a,e=b,f=d[b],e in c?Object.defineProperty(c,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):c[e]=f})}(c);return a}function n(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||(e[c]=a[c]);return e}var o=new Set();new Map();var p="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",q=new Map([["default",function(a){var b=a.root,c=a.src,d=a.width,e=a.quality;return"".concat(b,"?url=").concat(encodeURIComponent(c),"&w=").concat(d,"&q=").concat(e||75)}],["imgix",function(a){var b=a.root,c=a.src,d=a.width,e=a.quality,f=new URL("".concat(b).concat(B(c))),g=f.searchParams;return g.set("auto",g.get("auto")||"format"),g.set("fit",g.get("fit")||"max"),g.set("w",g.get("w")||d.toString()),e&&g.set("q",e.toString()),f.href}],["cloudinary",function(a){var b=a.root,c=a.src,d=a.width,e=a.quality,f=["f_auto","c_limit","w_"+d,"q_"+(e||"auto")].join(",")+"/";return"".concat(b).concat(f).concat(B(c))}],["akamai",function(a){var b=a.root,c=a.src,d=a.width;return"".concat(b).concat(B(c),"?imwidth=").concat(d)}],["custom",function(a){var b=a.src;throw new Error("Image with src \"".concat(b,"\" is missing \"loader\" prop.")+"\nRead more: https://nextjs.org/docs/messages/next-image-missing-loader")}],]);function r(a){return void 0!==a.default}var s={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default"},t=s.deviceSizes,u=s.imageSizes,v=s.loader,w=s.path;s.domains;var x=e(t).concat(e(u));function y(a){var b=a.src,c=a.unoptimized,d=a.layout,f=a.width,g=a.quality,h=a.sizes,i=a.loader;if(c)return{src:b,srcSet:void 0,sizes:void 0};var j=function(a,b,c){if(c&&("fill"===b||"responsive"===b)){for(var d,f,g=/(^|\s)(1?\d?\d)vw/g,h=[];d=g.exec(c);d)h.push(parseInt(d[2]));if(h.length){var i=0.01*(f=Math).min.apply(f,e(h));return{widths:x.filter(function(a){return a>=t[0]*i}),kind:"w"}}return{widths:x,kind:"w"}}return"number"!=typeof a||"fill"===b||"responsive"===b?{widths:t,kind:"w"}:{widths:e(new Set([a,2*a].map(function(a){return x.find(function(b){return b>=a})||x[x.length-1]}))),kind:"x"}}(f,d,h),k=j.widths,l=j.kind,m=k.length-1;return{sizes:h||"w"!==l?h:"100vw",srcSet:k.map(function(a,c){return"".concat(i({src:b,quality:g,width:a})," ").concat("w"===l?a:c+1).concat(l)}).join(", "),src:i({src:b,quality:g,width:k[m]})}}function z(a){return"number"==typeof a?a:"string"==typeof a?parseInt(a,10):void 0}function A(a){var b=q.get(v);if(b)return b(m({root:w},a));throw new Error("Unknown \"loader\" found in \"next.config.js\". Expected: ".concat(j.VALID_LOADERS.join(", "),". Received: ").concat(v))}function B(a){return"/"===a[0]?a.slice(1):a}t.sort(function(a,b){return a-b}),x.sort(function(a,b){return a-b})},8418:function(a,b,c){"use strict";function d(a,b){return(function(a){if(Array.isArray(a))return a})(a)||(function(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(i){e=!0,f=i}finally{try{d||null==h.return||h.return()}finally{if(e)throw f}}return c})(a,b)||(function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")})()}b.default=void 0;var e,f=(e=c(7294))&&e.__esModule?e:{default:e},g=c(6273),h=c(387),i=c(7190),j={};function k(a,b,c,d){if(a&&g.isLocalURL(b)){a.prefetch(b,c,d).catch(function(a){});var e=d&& void 0!==d.locale?d.locale:a&&a.locale;j[b+"%"+c+(e?"%"+e:"")]=!0}}b.default=function(a){var b,c=!1!==a.prefetch,e=h.useRouter(),l=f.default.useMemo(function(){var b=d(g.resolveHref(e,a.href,!0),2),c=b[0],f=b[1];return{href:c,as:a.as?g.resolveHref(e,a.as):f||c}},[e,a.href,a.as]),m=l.href,n=l.as,o=a.children,p=a.replace,q=a.shallow,r=a.scroll,s=a.locale;"string"==typeof o&&(o=f.default.createElement("a",null,o));var t=(b=f.default.Children.only(o))&&"object"==typeof b&&b.ref,u=d(i.useIntersection({rootMargin:"200px"}),2),v=u[0],w=u[1],x=f.default.useCallback(function(a){v(a),t&&("function"==typeof t?t(a):"object"==typeof t&&(t.current=a))},[t,v]);f.default.useEffect(function(){var a=w&&c&&g.isLocalURL(m),b=void 0!==s?s:e&&e.locale,d=j[m+"%"+n+(b?"%"+b:"")];a&&!d&&k(e,m,n,{locale:b})},[n,m,w,s,c,e]);var y={ref:x,onClick:function(a){var c,d,f,h,i,j,k,l,o,t;b.props&&"function"==typeof b.props.onClick&&b.props.onClick(a),a.defaultPrevented||(c=a,d=e,f=m,h=n,i=p,j=q,k=r,l=s,"A"===c.currentTarget.nodeName&&((t=(o=c).currentTarget.target)&&"_self"!==t||o.metaKey||o.ctrlKey||o.shiftKey||o.altKey||o.nativeEvent&&2===o.nativeEvent.which||!g.isLocalURL(f))||(c.preventDefault(),null==k&&h.indexOf("#")>=0&&(k=!1),d[i?"replace":"push"](f,h,{shallow:j,locale:l,scroll:k})))}};if(y.onMouseEnter=function(a){b.props&&"function"==typeof b.props.onMouseEnter&&b.props.onMouseEnter(a),g.isLocalURL(m)&&k(e,m,n,{priority:!0})},a.passHref||"a"===b.type&&!("href"in b.props)){var z=void 0!==s?s:e&&e.locale,A=e&&e.isLocaleDomain&&g.getDomainLocale(n,z,e&&e.locales,e&&e.domainLocales);y.href=A||g.addBasePath(g.addLocale(n,z,e&&e.defaultLocale))}return f.default.cloneElement(b,y)}},7190:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.useIntersection=function(a){var b,c=a.rootMargin,h=a.disabled||!f,i=d.useRef(),j=function(a){if(Array.isArray(a))return a}(b=d.useState(!1))||function(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(i){e=!0,f=i}finally{try{d||null==h.return||h.return()}finally{if(e)throw f}}return c}(b,2)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}(),k=j[0],l=j[1],m=d.useCallback(function(a){i.current&&(i.current(),i.current=void 0),!h&&!k&&a&&a.tagName&&(i.current=g(a,function(a){return a&&l(a)},{rootMargin:c}))},[h,c,k]);return d.useEffect(function(){if(!f&&!k){var a=e.requestIdleCallback(function(){return l(!0)});return function(){return e.cancelIdleCallback(a)}}},[k]),[m,k]};var d=c(7294),e=c(9311),f="undefined"!=typeof IntersectionObserver;function g(a,b,c){var d=i(c),e=d.id,f=d.observer,g=d.elements;return g.set(a,b),f.observe(a),function(){g.delete(a),f.unobserve(a),0===g.size&&(f.disconnect(),h.delete(e))}}var h=new Map();function i(a){var b=a.rootMargin||"",c=h.get(b);if(c)return c;var d=new Map(),e=new IntersectionObserver(function(a){a.forEach(function(a){var b=d.get(a.target),c=a.isIntersecting||a.intersectionRatio>0;b&&c&&b(c)})},a);return h.set(b,c={id:b,observer:e,elements:d}),c}},638:function(a,b,c){"use strict";function d(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function e(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},e=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),e.forEach(function(b){d(a,b,c[b])})}return a}b.default=function(a,b){var c,d,g=f.default,i={loading:function(a){return a.error,a.isLoading,a.pastDelay,null}};(c=a,null!=(d=Promise)&&"undefined"!=typeof Symbol&&d[Symbol.hasInstance]?d[Symbol.hasInstance](c):c instanceof d)?i.loader=function(){return a}:"function"==typeof a?i.loader=a:"object"==typeof a&&(i=e({},i,a));var j=i=e({},i,b);if(j.suspense)throw new Error("Invalid suspense option usage in next/dynamic. Read more: https://nextjs.org/docs/messages/invalid-dynamic-suspense");if(j.suspense)return g(j);if(i.loadableGenerated&&delete(i=e({},i,i.loadableGenerated)).loadableGenerated,"boolean"==typeof i.ssr){if(!i.ssr)return delete i.ssr,h(g,i);delete i.ssr}return g(i)},g(c(7294));var f=g(c(4302));function g(a){return a&&a.__esModule?a:{default:a}}function h(a,b){return delete b.webpack,delete b.modules,a(b)}},6319:function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.LoadableContext=void 0;var d,e=((d=c(7294))&&d.__esModule?d:{default:d}).default.createContext(null);b.LoadableContext=e},4302:function(a,b,c){"use strict";function d(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function e(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function f(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){e(a,b,c[b])})}return a}Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var g,h=(g=c(7294))&&g.__esModule?g:{default:g},i=c(7161),j=c(6319),k=[],l=[],m=!1;function n(a){var b=a(),c={loading:!0,loaded:null,error:null};return c.promise=b.then(function(a){return c.loading=!1,c.loaded=a,a}).catch(function(a){throw c.loading=!1,c.error=a,a}),c}var o=function(){var a,b,c;function e(a,b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,e),this._loadFn=a,this._opts=b,this._callbacks=new Set(),this._delay=null,this._timeout=null,this.retry()}return a=e,b=[{key:"promise",value:function(){return this._res.promise}},{key:"retry",value:function(){var a=this;this._clearTimeouts(),this._res=this._loadFn(this._opts.loader),this._state={pastDelay:!1,timedOut:!1};var b=this._res,c=this._opts;if(b.loading){if("number"==typeof c.delay)if(0===c.delay)this._state.pastDelay=!0;else{var d=this;this._delay=setTimeout(function(){d._update({pastDelay:!0})},c.delay)}if("number"==typeof c.timeout){var e=this;this._timeout=setTimeout(function(){e._update({timedOut:!0})},c.timeout)}}this._res.promise.then(function(){a._update({}),a._clearTimeouts()}).catch(function(b){a._update({}),a._clearTimeouts()}),this._update({})}},{key:"_update",value:function(a){this._state=f({},this._state,{error:this._res.error,loaded:this._res.loaded,loading:this._res.loading},a),this._callbacks.forEach(function(a){return a()})}},{key:"_clearTimeouts",value:function(){clearTimeout(this._delay),clearTimeout(this._timeout)}},{key:"getCurrentValue",value:function(){return this._state}},{key:"subscribe",value:function(a){var b=this;return this._callbacks.add(a),function(){b._callbacks.delete(a)}}}],d(a.prototype,b),c&&d(a,c),e}();function p(a){return(function(a,b){var c=function(){if(!e){var b=new o(a,d);e={getCurrentValue:b.getCurrentValue.bind(b),subscribe:b.subscribe.bind(b),retry:b.retry.bind(b),promise:b.promise.bind(b)}}return e.promise()},d=Object.assign({loader:null,loading:null,delay:200,timeout:null,webpack:null,modules:null,suspense:!1},b);d.suspense&&(d.lazy=h.default.lazy(d.loader));var e=null;if(!m&&"function"==typeof d.webpack&&!d.suspense){var g=d.webpack();l.push(function(a){var b=!0,d=!1,e=void 0;try{for(var f,h=g[Symbol.iterator]();!(b=(f=h.next()).done);b=!0){var i=f.value;if(-1!==a.indexOf(i))return c()}}catch(j){d=!0,e=j}finally{try{b||null==h.return||h.return()}finally{if(d)throw e}}})}var k=d.suspense?function(a,b){return h.default.createElement(d.lazy,f({},a,{ref:b}))}:function(a,b){c();var f=h.default.useContext(j.LoadableContext),g=i.useSubscription(e);return h.default.useImperativeHandle(b,function(){return{retry:e.retry}},[]),f&&Array.isArray(d.modules)&&d.modules.forEach(function(a){f(a)}),h.default.useMemo(function(){var b;return g.loading||g.error?h.default.createElement(d.loading,{isLoading:g.loading,pastDelay:g.pastDelay,timedOut:g.timedOut,error:g.error,retry:e.retry}):g.loaded?h.default.createElement((b=g.loaded)&&b.__esModule?b.default:b,a):null},[a,g])};return k.preload=function(){return!d.suspense&&c()},k.displayName="LoadableComponent",h.default.forwardRef(k)})(n,a)}function q(a,b){for(var c=[];a.length;){var d=a.pop();c.push(d(b))}return Promise.all(c).then(function(){if(a.length)return q(a,b)})}p.preloadAll=function(){return new Promise(function(a,b){q(k).then(a,b)})},p.preloadReady=function(a){var b=void 0===a?[]:a;return new Promise(function(a){var c=function(){return m=!0,a()};q(l,b).then(c,c)})},window.__NEXT_PRELOADREADY=p.preloadReady,b.default=p},6978:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.toBase64=function(a){return window.btoa(a)}},1225:function(a,b,c){"use strict";c.r(b),c.d(b,{"default":function(){return jMa}});var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x=c(5893),y=c(7294),z=c(917),A=c(5031),B=c(6450),C=c(7375),D=c(3935),E=(0,B.kr)({strict:!1,name:"PortalManagerContext"}),F=E[0],G=E[1];function H(a){var b=a.children,c=a.zIndex;return y.createElement(F,{value:{zIndex:c}},b)}function I(){return(I=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}A.Ts&&(H.displayName="PortalManager");var J=["containerRef"],K=(0,B.kr)({strict:!1,name:"PortalContext"}),L=K[0],M=K[1],N="chakra-portal",O=function(a){var b=a.appendToParentPortal,c=a.children,d=y.useRef(null),e=y.useRef(null),f=(0,C.NW)(),g=M(),h=G();(0,C.Gw)(function(){if(d.current){var a=d.current.ownerDocument,c=b&&null!=g?g:a.body;if(c){e.current=a.createElement("div"),e.current.className=N,c.appendChild(e.current),f();var h=e.current;return function(){c.contains(h)&&c.removeChild(h)}}}},[]);var i=null!=h&&h.zIndex?y.createElement(function(a){return y.createElement("div",{className:"chakra-portal-zIndex",style:{position:"absolute",zIndex:a.zIndex,top:0,left:0,right:0}},a.children)},{zIndex:null==h?void 0:h.zIndex},c):c;return e.current?(0,D.createPortal)(y.createElement(L,{value:e.current},i),e.current):y.createElement("span",{ref:d})},P=function(a){var b=a.children,c=a.containerRef,d=a.appendToParentPortal,e=c.current,f=null!=e?e:A.jU?document.body:void 0,g=y.useMemo(function(){var a=null==e?void 0:e.ownerDocument.createElement("div");return a&&(a.className=N),a},[e]),h=(0,C.NW)();return((0,C.Gw)(function(){h()},[]),(0,C.Gw)(function(){if(g&&f)return f.appendChild(g),function(){f.removeChild(g)}},[g,f]),f&&g)?(0,D.createPortal)(y.createElement(L,{value:d?g:null},b),g):null};function Q(a){var b=a.containerRef,c=function(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||(e[c]=a[c]);return e}(a,J);return b?y.createElement(P,I({containerRef:b},c)):y.createElement(O,c)}Q.defaultProps={appendToParentPortal:!0},Q.className=N,Q.selector=".chakra-portal",A.Ts&&(Q.displayName="Portal");var R=c(6052),S=c(949),T=c(5393);function U(a,b){W(a)&&(a="100%");var c=X(a);return(a=360===b?a:Math.min(b,Math.max(0,parseFloat(a))),c&&(a=parseInt(String(a*b),10)/100),0.000001>Math.abs(a-b))?1:a=360===b?(a<0?a%b+b:a%b)/parseFloat(String(b)):a%b/parseFloat(String(b))}function V(a){return Math.min(1,Math.max(0,a))}function W(a){return"string"==typeof a&& -1!==a.indexOf(".")&&1===parseFloat(a)}function X(a){return"string"==typeof a&& -1!==a.indexOf("%")}function Y(a){return(isNaN(a=parseFloat(a))||a<0||a>1)&&(a=1),a}function Z(a){return a<=1?100*Number(a)+"%":a}function $(a){return 1===a.length?"0"+a:String(a)}function _(a,b,c){var d=Math.max(a=U(a,255),b=U(b,255),c=U(c,255)),e=Math.min(a,b,c),f=0,g=0,h=(d+e)/2;if(d===e)g=0,f=0;else{var i=d-e;switch(g=h>0.5?i/(2-d-e):i/(d+e),d){case a:f=(b-c)/i+(b<c?6:0);break;case b:f=(c-a)/i+2;break;case c:f=(a-b)/i+4;break;default:break}f/=6}return{h:f,s:g,l:h}}function aa(a,b,c){return(c<0&&(c+=1),c>1&&(c-=1),c<1/6)?a+(b-a)*(6*c):c<0.5?b:c<2/3?a+(b-a)*(2/3-c)*6:a}function ba(a,b,c){var d=Math.max(a=U(a,255),b=U(b,255),c=U(c,255)),e=Math.min(a,b,c),f=0,g=d-e;if(d===e)f=0;else{switch(d){case a:f=(b-c)/g+(b<c?6:0);break;case b:f=(c-a)/g+2;break;case c:f=(a-b)/g+4;break;default:break}f/=6}return{h:f,s:0===d?0:g/d,v:d}}function ca(a,b,c,d){var e=[$(Math.round(a).toString(16)),$(Math.round(b).toString(16)),$(Math.round(c).toString(16)),];return d&&e[0].startsWith(e[0].charAt(1))&&e[1].startsWith(e[1].charAt(1))&&e[2].startsWith(e[2].charAt(1))?e[0].charAt(0)+e[1].charAt(0)+e[2].charAt(0):e.join("")}function da(a){return ea(a)/255}function ea(a){return parseInt(a,16)}var fa={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},ga="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",ha="[\\s|\\(]+("+ga+")[,|\\s]+("+ga+")[,|\\s]+("+ga+")\\s*\\)?",ia="[\\s|\\(]+("+ga+")[,|\\s]+("+ga+")[,|\\s]+("+ga+")[,|\\s]+("+ga+")\\s*\\)?",ja={CSS_UNIT:new RegExp(ga),rgb:new RegExp("rgb"+ha),rgba:new RegExp("rgba"+ia),hsl:new RegExp("hsl"+ha),hsla:new RegExp("hsla"+ia),hsv:new RegExp("hsv"+ha),hsva:new RegExp("hsva"+ia),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function ka(a){return Boolean(ja.CSS_UNIT.exec(String(a)))}var la=function(){function a(b,c){if(void 0===b&&(b=""),void 0===c&&(c={}),b instanceof a)return b;if("number"==typeof b){var d;b={r:(d=b)>>16,g:(65280&d)>>8,b:255&d}}this.originalInput=b;var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A=(u={r:0,g:0,b:0},v=1,w=null,x=!1,y=!1,"string"==typeof(e=b)&&(e=function(a){if(0===(a=a.trim().toLowerCase()).length)return!1;var b=!1;if(fa[a])a=fa[a],b=!0;else if("transparent"===a)return{r:0,g:0,b:0,a:0,format:"name"};var c=ja.rgb.exec(a);return c?{r:c[1],g:c[2],b:c[3]}:(c=ja.rgba.exec(a))?{r:c[1],g:c[2],b:c[3],a:c[4]}:(c=ja.hsl.exec(a))?{h:c[1],s:c[2],l:c[3]}:(c=ja.hsla.exec(a))?{h:c[1],s:c[2],l:c[3],a:c[4]}:(c=ja.hsv.exec(a))?{h:c[1],s:c[2],v:c[3]}:(c=ja.hsva.exec(a))?{h:c[1],s:c[2],v:c[3],a:c[4]}:(c=ja.hex8.exec(a))?{r:ea(c[1]),g:ea(c[2]),b:ea(c[3]),a:da(c[4]),format:b?"name":"hex8"}:(c=ja.hex6.exec(a))?{r:ea(c[1]),g:ea(c[2]),b:ea(c[3]),format:b?"name":"hex"}:(c=ja.hex4.exec(a))?{r:ea(c[1]+c[1]),g:ea(c[2]+c[2]),b:ea(c[3]+c[3]),a:da(c[4]+c[4]),format:b?"name":"hex8"}:!!(c=ja.hex3.exec(a))&&{r:ea(c[1]+c[1]),g:ea(c[2]+c[2]),b:ea(c[3]+c[3]),format:b?"name":"hex"}}(e)),"object"==typeof e&&(ka(e.r)&&ka(e.g)&&ka(e.b)?(f=e.r,g=e.g,h=e.b,u={r:255*U(f,255),g:255*U(g,255),b:255*U(h,255)},x=!0,y="%"===String(e.r).substr(-1)?"prgb":"rgb"):ka(e.h)&&ka(e.s)&&ka(e.v)?(w=Z(e.s),Z(e.v),i=e.h,j=w,k=null,i=6*U(i,360),j=U(j,100),k=U(k,100),l=Math.floor(i),m=i-l,n=k*(1-j),o=k*(1-m*j),p=k*(1-(1-m)*j),q=l%6,r=[k,o,n,n,p,k][q],s=[p,k,k,o,n,n][q],t=[n,n,p,k,k,o][q],u={r:255*r,g:255*s,b:255*t},x=!0,y="hsv"):ka(e.h)&&ka(e.s)&&ka(e.l)&&(w=Z(e.s),Z(e.l),u=function(a,b,c){if(a=U(a,360),b=U(b,100),c=U(c,100),0===b)e=c,f=c,d=c;else{var d,e,f,g=c<0.5?c*(1+b):c+b-c*b,h=2*c-g;d=aa(h,g,a+1/3),e=aa(h,g,a),f=aa(h,g,a-1/3)}return{r:255*d,g:255*e,b:255*f}}(e.h,w,null),x=!0,y="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(v=e.a)),v=Y(v),{ok:x,format:e.format||y,r:Math.min(255,Math.max(u.r,0)),g:Math.min(255,Math.max(u.g,0)),b:Math.min(255,Math.max(u.b,0)),a:v});this.originalInput=b,this.r=A.r,this.g=A.g,this.b=A.b,this.a=A.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(z=c.format)&& void 0!==z?z:A.format,this.gradientType=c.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=A.ok}return a.prototype.isDark=function(){return 128>this.getBrightness()},a.prototype.isLight=function(){return!this.isDark()},a.prototype.getBrightness=function(){var a=this.toRgb();return(299*a.r+587*a.g+114*a.b)/1000},a.prototype.getLuminance=function(){var a=this.toRgb(),b=a.r/255,c=a.g/255,d=a.b/255;return 0.2126*(b<=0.03928?b/12.92:Math.pow((b+0.055)/1.055,2.4))+0.7152*(c<=0.03928?c/12.92:Math.pow((c+0.055)/1.055,2.4))+0.0722*(d<=0.03928?d/12.92:Math.pow((d+0.055)/1.055,2.4))},a.prototype.getAlpha=function(){return this.a},a.prototype.setAlpha=function(a){return this.a=Y(a),this.roundA=Math.round(100*this.a)/100,this},a.prototype.toHsv=function(){var a=ba(this.r,this.g,this.b);return{h:360*a.h,s:a.s,v:a.v,a:this.a}},a.prototype.toHsvString=function(){var a=ba(this.r,this.g,this.b),b=Math.round(360*a.h),c=Math.round(100*a.s),d=Math.round(100*a.v);return 1===this.a?"hsv("+b+", "+c+"%, "+d+"%)":"hsva("+b+", "+c+"%, "+d+"%, "+this.roundA+")"},a.prototype.toHsl=function(){var a=_(this.r,this.g,this.b);return{h:360*a.h,s:a.s,l:a.l,a:this.a}},a.prototype.toHslString=function(){var a=_(this.r,this.g,this.b),b=Math.round(360*a.h),c=Math.round(100*a.s),d=Math.round(100*a.l);return 1===this.a?"hsl("+b+", "+c+"%, "+d+"%)":"hsla("+b+", "+c+"%, "+d+"%, "+this.roundA+")"},a.prototype.toHex=function(a){return void 0===a&&(a=!1),ca(this.r,this.g,this.b,a)},a.prototype.toHexString=function(a){return void 0===a&&(a=!1),"#"+this.toHex(a)},a.prototype.toHex8=function(a){var b,c;return void 0===a&&(a=!1),this.r,this.g,this.b,this.a,b=a,c=[$(Math.round(this.r).toString(16)),$(Math.round(this.g).toString(16)),$(Math.round(this.b).toString(16)),$(Math.round(255*parseFloat(this.a)).toString(16)),],b&&c[0].startsWith(c[0].charAt(1))&&c[1].startsWith(c[1].charAt(1))&&c[2].startsWith(c[2].charAt(1))&&c[3].startsWith(c[3].charAt(1))?c[0].charAt(0)+c[1].charAt(0)+c[2].charAt(0)+c[3].charAt(0):c.join("")},a.prototype.toHex8String=function(a){return void 0===a&&(a=!1),"#"+this.toHex8(a)},a.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},a.prototype.toRgbString=function(){var a=Math.round(this.r),b=Math.round(this.g),c=Math.round(this.b);return 1===this.a?"rgb("+a+", "+b+", "+c+")":"rgba("+a+", "+b+", "+c+", "+this.roundA+")"},a.prototype.toPercentageRgb=function(){var a=function(a){return Math.round(100*U(a,255))+"%"};return{r:a(this.r),g:a(this.g),b:a(this.b),a:this.a}},a.prototype.toPercentageRgbString=function(){var a=function(a){return Math.round(100*U(a,255))};return 1===this.a?"rgb("+a(this.r)+"%, "+a(this.g)+"%, "+a(this.b)+"%)":"rgba("+a(this.r)+"%, "+a(this.g)+"%, "+a(this.b)+"%, "+this.roundA+")"},a.prototype.toName=function(){if(0===this.a)return"transparent";if(this.a<1)return!1;for(var a="#"+ca(this.r,this.g,this.b,!1),b=0,c=Object.entries(fa);b<c.length;b++){var d=c[b],e=d[0],f=d[1];if(a===f)return e}return!1},a.prototype.toString=function(a){var b=Boolean(a);a=null!=a?a:this.format;var c=!1,d=this.a<1&&this.a>=0,e=!b&&d&&(a.startsWith("hex")||"name"===a);return e?"name"===a&&0===this.a?this.toName():this.toRgbString():("rgb"===a&&(c=this.toRgbString()),"prgb"===a&&(c=this.toPercentageRgbString()),("hex"===a||"hex6"===a)&&(c=this.toHexString()),"hex3"===a&&(c=this.toHexString(!0)),"hex4"===a&&(c=this.toHex8String(!0)),"hex8"===a&&(c=this.toHex8String()),"name"===a&&(c=this.toName()),"hsl"===a&&(c=this.toHslString()),"hsv"===a&&(c=this.toHsvString()),c||this.toHexString())},a.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},a.prototype.clone=function(){return new a(this.toString())},a.prototype.lighten=function(b){void 0===b&&(b=10);var c=this.toHsl();return c.l+=b/100,c.l=V(c.l),new a(c)},a.prototype.brighten=function(b){void 0===b&&(b=10);var c=this.toRgb();return c.r=Math.max(0,Math.min(255,c.r-Math.round(-(255*(b/100))))),c.g=Math.max(0,Math.min(255,c.g-Math.round(-(255*(b/100))))),c.b=Math.max(0,Math.min(255,c.b-Math.round(-(255*(b/100))))),new a(c)},a.prototype.darken=function(b){void 0===b&&(b=10);var c=this.toHsl();return c.l-=b/100,c.l=V(c.l),new a(c)},a.prototype.tint=function(a){return void 0===a&&(a=10),this.mix("white",a)},a.prototype.shade=function(a){return void 0===a&&(a=10),this.mix("black",a)},a.prototype.desaturate=function(b){void 0===b&&(b=10);var c=this.toHsl();return c.s-=b/100,c.s=V(c.s),new a(c)},a.prototype.saturate=function(b){void 0===b&&(b=10);var c=this.toHsl();return c.s+=b/100,c.s=V(c.s),new a(c)},a.prototype.greyscale=function(){return this.desaturate(100)},a.prototype.spin=function(b){var c=this.toHsl(),d=(c.h+b)%360;return c.h=d<0?360+d:d,new a(c)},a.prototype.mix=function(b,c){void 0===c&&(c=50);var d=this.toRgb(),e=new a(b).toRgb(),f=c/100,g={r:(e.r-d.r)*f+d.r,g:(e.g-d.g)*f+d.g,b:(e.b-d.b)*f+d.b,a:(e.a-d.a)*f+d.a};return new a(g)},a.prototype.analogous=function(b,c){void 0===b&&(b=6),void 0===c&&(c=30);var d=this.toHsl(),e=360/c,f=[this];for(d.h=(d.h-(e*b>>1)+720)%360;--b;)d.h=(d.h+e)%360,f.push(new a(d));return f},a.prototype.complement=function(){var b=this.toHsl();return b.h=(b.h+180)%360,new a(b)},a.prototype.monochromatic=function(b){void 0===b&&(b=6);for(var c=this.toHsv(),d=c.h,e=c.s,f=c.v,g=[],h=1/b;b--;)g.push(new a({h:d,s:e,v:f})),f=(f+h)%1;return g},a.prototype.splitcomplement=function(){var b=this.toHsl(),c=b.h;return[this,new a({h:(c+72)%360,s:b.s,l:b.l}),new a({h:(c+216)%360,s:b.s,l:b.l}),]},a.prototype.onBackground=function(b){var c=this.toRgb(),d=new a(b).toRgb();return new a({r:d.r+(c.r-d.r)*c.a,g:d.g+(c.g-d.g)*c.a,b:d.b+(c.b-d.b)*c.a})},a.prototype.triad=function(){return this.polyad(3)},a.prototype.tetrad=function(){return this.polyad(4)},a.prototype.polyad=function(b){for(var c=this.toHsl(),d=c.h,e=[this],f=360/b,g=1;g<b;g++)e.push(new a({h:(d+g*f)%360,s:c.s,l:c.l}));return e},a.prototype.equals=function(b){return this.toRgbString()===new a(b).toRgbString()},a}();function ma(a){if(void 0===a&&(a={}),void 0!==a.count&&null!==a.count){var b=a.count,c=[];for(a.count=void 0;b>c.length;)a.count=null,a.seed&&(a.seed+=1),c.push(ma(a));return a.count=b,c}var d=na(a.hue,a.seed),e=oa(d,a),f=pa(d,e,a),g={h:d,s:e,v:f};return void 0!==a.alpha&&(g.a=a.alpha),new la(g)}function na(a,b){var c=ta(ra(a),b);return c<0&&(c=360+c),c}function oa(a,b){if("monochrome"===b.hue)return 0;if("random"===b.luminosity)return ta([0,100],b.seed);var c=sa(a).saturationRange,d=c[0],e=c[1];switch(b.luminosity){case"bright":d=55;break;case"dark":d=e-10;break;case"light":e=55;break;default:break}return ta([d,e],b.seed)}function pa(a,b,c){var d=qa(a,b),e=100;switch(c.luminosity){case"dark":e=d+20;break;case"light":d=(e+d)/2;break;case"random":d=0,e=100;break;default:break}return ta([d,e],c.seed)}function qa(a,b){for(var c=sa(a).lowerBounds,d=0;d<c.length-1;d++){var e=c[d][0],f=c[d][1],g=c[d+1][0],h=c[d+1][1];if(b>=e&&b<=g){var i=(h-f)/(g-e),j=f-i*e;return i*b+j}}return 0}function ra(a){var b=parseInt(a,10);if(!Number.isNaN(b)&&b<360&&b>0)return[b,b];if("string"==typeof a){var c=va.find(function(b){return b.name===a});if(c){var d=ua(c);if(d.hueRange)return d.hueRange}var e=new la(a);if(e.isValid){var f=e.toHsv().h;return[f,f]}}return[0,360]}function sa(a){a>=334&&a<=360&&(a-=360);for(var b=0,c=va;b<c.length;b++){var d=ua(c[b]);if(d.hueRange&&a>=d.hueRange[0]&&a<=d.hueRange[1])return d}throw Error("Color not found")}function ta(a,b){if(void 0===b)return Math.floor(a[0]+Math.random()*(a[1]+1-a[0]));var c=a[1]||1,d=a[0]||0;return Math.floor(d+(b=(9301*b+49297)%233280)/233280*(c-d))}function ua(a){var b=a.lowerBounds[0][0],c=a.lowerBounds[a.lowerBounds.length-1][0],d=a.lowerBounds[a.lowerBounds.length-1][1],e=a.lowerBounds[0][1];return{name:a.name,hueRange:a.hueRange,lowerBounds:a.lowerBounds,saturationRange:[b,c],brightnessRange:[d,e]}}var va=[{name:"monochrome",hueRange:null,lowerBounds:[[0,0],[100,0],]},{name:"red",hueRange:[-26,18],lowerBounds:[[20,100],[30,92],[40,89],[50,85],[60,78],[70,70],[80,60],[90,55],[100,50],]},{name:"orange",hueRange:[19,46],lowerBounds:[[20,100],[30,93],[40,88],[50,86],[60,85],[70,70],[100,70],]},{name:"yellow",hueRange:[47,62],lowerBounds:[[25,100],[40,94],[50,89],[60,86],[70,84],[80,82],[90,80],[100,75],]},{name:"green",hueRange:[63,178],lowerBounds:[[30,100],[40,90],[50,85],[60,81],[70,74],[80,64],[90,50],[100,40],]},{name:"blue",hueRange:[179,257],lowerBounds:[[20,100],[30,86],[40,80],[50,74],[60,60],[70,52],[80,44],[90,39],[100,35],]},{name:"purple",hueRange:[258,282],lowerBounds:[[20,100],[30,87],[40,79],[50,70],[60,65],[70,59],[80,52],[90,45],[100,42],]},{name:"pink",hueRange:[283,334],lowerBounds:[[20,100],[30,90],[40,86],[60,84],[80,80],[90,75],[100,73],]},],wa=function(a,b,c){var d=(0,A.Wf)(a,"colors."+b,b);return new la(d).isValid?d:c},xa=function(a,b){return function(c){var d=wa(c,a);return new la(d).setAlpha(b).toRgbString()}};function ya(a,b){return void 0===a&&(a="1rem"),void 0===b&&(b="rgba(255, 255, 255, 0.15)"),{backgroundImage:"linear-gradient(\n    45deg,\n    "+b+" 25%,\n    transparent 25%,\n    transparent 50%,\n    "+b+" 50%,\n    "+b+" 75%,\n    transparent 75%,\n    transparent\n  )",backgroundSize:a+" "+a}}function za(a,b){return function(c){return"dark"===c.colorMode?b:a}}function Aa(a){var b=a.orientation,c=a.vertical,d=a.horizontal;return b?"vertical"===b?c:d:{}}function Ba(){return(Ba=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}function Ca(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}var Da=function(){var a,b,c;function d(a){var b=this;this.map={},this.called=!1,this.assert=function(){if(!b.called){b.called=!0;return}throw new Error("[anatomy] .part(...) should only be called once. Did you mean to use .extend(...) ?")},this.parts=function(){b.assert();for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];for(var e=0,f=c;e<f.length;e++){var g=f[e];b.map[g]=b.toPart(g)}return b},this.extend=function(){for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];for(var e=0,f=c;e<f.length;e++){var g=f[e];g in b.map||(b.map[g]=b.toPart(g))}return b},this.toPart=function(a){var c="chakra-"+(["container","root"].includes(null!=a?a:"")?[b.name]:[b.name,a]).filter(Boolean).join("__");return{className:c,selector:"."+c,toString:function(){return a}}},this.__type={}}return a=d,b=[{key:"selectors",get:function(){return(0,A.sq)(Object.entries(this.map).map(function(a){var b=a[0],c=a[1];return[b,c.selector]}))}},{key:"classNames",get:function(){return(0,A.sq)(Object.entries(this.map).map(function(a){var b=a[0],c=a[1];return[b,c.className]}))}},{key:"keys",get:function(){return Object.keys(this.map)}}],Ca(a.prototype,b),c&&Ca(a,c),d}();function Ea(a){return new Da(a)}function Fa(a){return(0,A.Kn)(a)&&a.reference?a.reference:String(a)}var Ga=function(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return c.map(Fa).join(" "+a+" ").replace(/calc/g,"")},Ha=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return"calc("+Ga.apply(void 0,["+"].concat(b))+")"},Ia=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return"calc("+Ga.apply(void 0,["-"].concat(b))+")"},Ja=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return"calc("+Ga.apply(void 0,["*"].concat(b))+")"},Ka=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return"calc("+Ga.apply(void 0,["/"].concat(b))+")"},La=function(a){var b=Fa(a);return null==b||Number.isNaN(parseFloat(b))?Ja(b,-1):String(b).startsWith("-")?String(b).slice(1):"-"+b},Ma=Object.assign(function(a){return{add:function(){for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];return Ma(Ha.apply(void 0,[a].concat(c)))},subtract:function(){for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];return Ma(Ia.apply(void 0,[a].concat(c)))},multiply:function(){for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];return Ma(Ja.apply(void 0,[a].concat(c)))},divide:function(){for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];return Ma(Ka.apply(void 0,[a].concat(c)))},negate:function(){return Ma(La(a))},toString:function(){return a.toString()}}},{add:Ha,subtract:Ia,multiply:Ja,divide:Ka,negate:La});function Na(a){var b,c,d=(void 0===c&&(c="-"),a.toString().replace(/\s+/g,c));return d.includes("\\.")?a:(b=a,Number.isInteger(parseFloat(b.toString())))?a:d.replace(".","\\.")}function Oa(a,b){var c,d,e,f,g,h,i=(c=a,void 0===(d=null==b?void 0:b.prefix)&&(d=""),"--"+(e=c,void 0===(f=d)&&(f=""),[f,Na(e)].filter(Boolean).join("-")));return{variable:i,reference:(g=i,h=Pa(null==b?void 0:b.fallback),"var("+Na(g)+(h?", "+h:"")+")")}}function Pa(a){return"string"==typeof a?a:null==a?void 0:a.reference}var Qa=Ea("accordion").parts("container","item","button","panel").extend("icon"),Ra=Ea("alert").parts("title","description","container").extend("icon"),Sa=Ea("avatar").parts("label","badge","container").extend("excessLabel","group"),Ta=Ea("breadcrumb").parts("link","item","container").extend("separator");Ea("button").parts();var Ua=Ea("checkbox").parts("control","icon","container").extend("label");Ea("progress").parts("track","filledTrack").extend("label");var Va=Ea("drawer").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer"),Wa=Ea("editable").parts("preview","input"),Xa=Ea("form").parts("container","requiredIndicator","helperText"),Ya=Ea("formError").parts("text","icon"),Za=Ea("input").parts("addon","field","element"),$a=Ea("list").parts("container","item","icon"),_a=Ea("menu").parts("button","list","item").extend("groupTitle","command","divider"),ab=Ea("modal").parts("overlay","dialogContainer","dialog").extend("header","closeButton","body","footer"),bb=Ea("numberinput").parts("root","field","stepperGroup","stepper");Ea("pininput").parts("field");var cb=Ea("popover").parts("content","header","body","footer").extend("popper","arrow","closeButton"),db=Ea("progress").parts("label","filledTrack","track"),eb=Ea("radio").parts("container","control","label"),fb=Ea("select").parts("field","icon"),gb=Ea("slider").parts("container","track","thumb","filledTrack"),hb=Ea("stat").parts("container","label","helpText","number","icon"),ib=Ea("switch").parts("container","track","thumb"),jb=Ea("table").parts("table","thead","tbody","tr","th","td","tfoot","caption"),kb=Ea("tabs").parts("root","tab","tablist","tabpanel","tabpanels","indicator"),lb=Ea("tag").parts("container","label","closeButton"),mb=c(8554),nb=c.n(mb);function ob(){return(ob=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}var pb={parts:Qa.keys,baseStyle:{container:{borderTopWidth:"1px",borderColor:"inherit",_last:{borderBottomWidth:"1px"}},button:{transitionProperty:"common",transitionDuration:"normal",fontSize:"1rem",_focus:{boxShadow:"outline"},_hover:{bg:"blackAlpha.50"},_disabled:{opacity:0.4,cursor:"not-allowed"},px:4,py:2},panel:{pt:2,px:4,pb:5},icon:{fontSize:"1.25em"}}};function qb(a){var b=a.theme,c=a.colorScheme,d=wa(b,c+".100",c),e=xa(c+".200",0.16)(b);return za(d,e)(a)}var rb={parts:Ra.keys,baseStyle:{container:{px:4,py:3},title:{fontWeight:"bold",lineHeight:6,marginEnd:2},description:{lineHeight:6},icon:{flexShrink:0,marginEnd:3,w:5,h:6}},variants:{subtle:function(a){var b=a.colorScheme;return{container:{bg:qb(a)},icon:{color:za(b+".500",b+".200")(a)}}},"left-accent":function(a){var b=a.colorScheme;return{container:{paddingStart:3,borderStartWidth:"4px",borderStartColor:za(b+".500",b+".200")(a),bg:qb(a)},icon:{color:za(b+".500",b+".200")(a)}}},"top-accent":function(a){var b=a.colorScheme;return{container:{pt:2,borderTopWidth:"4px",borderTopColor:za(b+".500",b+".200")(a),bg:qb(a)},icon:{color:za(b+".500",b+".200")(a)}}},solid:function(a){var b=a.colorScheme;return{container:{bg:za(b+".500",b+".200")(a),color:za("white","gray.900")(a)}}}},defaultProps:{variant:"subtle",colorScheme:"blue"}},sb={px:"1px",0.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},tb=ob({},sb,{max:"max-content",min:"min-content",full:"100%","3xs":"14rem","2xs":"16rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem","8xl":"90rem"},{container:{sm:"640px",md:"768px",lg:"1024px",xl:"1280px"}}),ub=function(a){var b,c,d,e,f=a.name,g=a.theme,h=f?(c={string:f},d=ma().toHexString(),!c||(0,A.Qr)(c)?d:c.string&&c.colors?function(a,b){var c=0;if(0===a.length)return b[0];for(var d=0;d<a.length;d+=1)c=a.charCodeAt(d)+((c<<5)-c),c&=c;return c=(c%b.length+b.length)%b.length,b[c]}(c.string,c.colors):c.string&&!c.colors?function(a){var b=0;if(0===a.length)return b.toString();for(var c=0;c<a.length;c+=1)b=a.charCodeAt(c)+((b<<5)-b),b&=b;for(var d="#",e=0;e<3;e+=1)d+=("00"+(b>>8*e&255).toString(16)).substr(-2);return d}(c.string):c.colors&&!c.string?(b=c.colors)[Math.floor(Math.random()*b.length)]:d):"gray.400",i=(e=h,function(a){var b;return"dark"===(b=e,function(a){var c=wa(a,b);return new la(c).isDark()?"dark":"light"})(a)})(g),j="white";return i||(j="gray.800"),{bg:h,color:j,borderColor:za("white","gray.800")(a),verticalAlign:"top"}};function vb(a){var b=tb[a];return{container:{width:a,height:a,fontSize:"calc("+(null!=b?b:a)+" / 2.5)"},excessLabel:{width:a,height:a},label:{fontSize:"calc("+(null!=b?b:a)+" / 2.5)",lineHeight:"100%"!==a?null!=b?b:a:void 0}}}var wb={"2xs":vb("4"),xs:vb("6"),sm:vb("8"),md:vb("12"),lg:vb("16"),xl:vb("24"),"2xl":vb("32"),full:vb("100%")},xb={parts:Sa.keys,baseStyle:function(a){var b,c;return{badge:(b=a,{transform:"translate(25%, 25%)",borderRadius:"full",border:"0.2em solid",borderColor:za("white","gray.800")(b)}),excessLabel:(c=a,{bg:za("gray.200","whiteAlpha.400")(c)}),container:ub(a)}},sizes:wb,defaultProps:{size:"md"}},yb={baseStyle:{px:1,textTransform:"uppercase",fontSize:"xs",borderRadius:"sm",fontWeight:"bold"},variants:{solid:function(a){var b=a.colorScheme,c=a.theme,d=xa(b+".500",0.6)(c);return{bg:za(b+".500",d)(a),color:za("white","whiteAlpha.800")(a)}},subtle:function(a){var b=a.colorScheme,c=a.theme,d=xa(b+".200",0.16)(c);return{bg:za(b+".100",d)(a),color:za(b+".800",b+".200")(a)}},outline:function(a){var b=a.colorScheme,c=a.theme,d=xa(b+".200",0.8)(c),e=wa(c,b+".500"),f=za(e,d)(a);return{color:f,boxShadow:"inset 0 0 0px 1px "+f}}},defaultProps:{variant:"subtle",colorScheme:"gray"}},zb={parts:Ta.keys,baseStyle:{link:{transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focus:{boxShadow:"outline"}}}},Ab=function(a){var b=a.colorScheme,c=a.theme;if("gray"===b)return{color:za("inherit","whiteAlpha.900")(a),_hover:{bg:za("gray.100","whiteAlpha.200")(a)},_active:{bg:za("gray.200","whiteAlpha.300")(a)}};var d=xa(b+".200",0.12)(c),e=xa(b+".200",0.24)(c);return{color:za(b+".600",b+".200")(a),bg:"transparent",_hover:{bg:za(b+".50",d)(a)},_active:{bg:za(b+".100",e)(a)}}},Bb={yellow:{bg:"yellow.400",color:"black",hoverBg:"yellow.500",activeBg:"yellow.600"},cyan:{bg:"cyan.400",color:"black",hoverBg:"cyan.500",activeBg:"cyan.600"}},Cb=function(a){var b=a.colorScheme;return{w:"100%",transitionProperty:"box-shadow",transitionDuration:"normal",border:"2px solid",borderRadius:"sm",borderColor:"inherit",color:"white",_checked:{bg:za(b+".500",b+".200")(a),borderColor:za(b+".500",b+".200")(a),color:za("white","gray.900")(a),_hover:{bg:za(b+".600",b+".300")(a),borderColor:za(b+".600",b+".300")(a)},_disabled:{borderColor:za("gray.200","transparent")(a),bg:za("gray.200","whiteAlpha.300")(a),color:za("gray.500","whiteAlpha.500")(a)}},_indeterminate:{bg:za(b+".500",b+".200")(a),borderColor:za(b+".500",b+".200")(a),color:za("white","gray.900")(a)},_disabled:{bg:za("gray.100","whiteAlpha.100")(a),borderColor:za("gray.100","transparent")(a)},_focus:{boxShadow:"outline"},_invalid:{borderColor:za("red.500","red.300")(a)}}},Db={userSelect:"none",_disabled:{opacity:0.4}},Eb={transitionProperty:"transform",transitionDuration:"normal"},Fb={parts:Ua.keys,baseStyle:function(a){return{icon:Eb,control:Cb(a),label:Db}},sizes:{sm:{control:{h:3,w:3},label:{fontSize:"sm"},icon:{fontSize:"0.45rem"}},md:{control:{w:4,h:4},label:{fontSize:"md"},icon:{fontSize:"0.625rem"}},lg:{control:{w:5,h:5},label:{fontSize:"lg"},icon:{fontSize:"0.625rem"}}},defaultProps:{size:"md",colorScheme:"blue"}},Gb=Oa("close-button-size"),Hb={lg:((d={})[Gb.variable]="40px",d.fontSize="16px",d),md:((e={})[Gb.variable]="32px",e.fontSize="12px",e),sm:((f={})[Gb.variable]="24px",f.fontSize="10px",f)},Ib=yb.variants,Jb=yb.defaultProps;function Kb(a){return"full"===a?{dialog:{maxW:"100vw",h:"100vh"}}:{dialog:{maxW:a}}}var Lb={bg:"blackAlpha.600",zIndex:"overlay"},Mb={display:"flex",zIndex:"modal",justifyContent:"center"},Nb={px:6,py:4,fontSize:"xl",fontWeight:"semibold"},Ob={position:"absolute",top:2,insetEnd:3},Pb={px:6,py:2,flex:1,overflow:"auto"},Qb={px:6,py:4},Rb={xs:Kb("xs"),sm:Kb("md"),md:Kb("lg"),lg:Kb("2xl"),xl:Kb("4xl"),full:Kb("full")},Sb={parts:Va.keys,baseStyle:function(a){var b;return{overlay:Lb,dialogContainer:Mb,dialog:ob({},(b=a).isFullHeight&&{height:"100vh"},{zIndex:"modal",maxH:"100vh",bg:za("white","gray.700")(b),color:"inherit",boxShadow:za("lg","dark-lg")(b)}),header:Nb,closeButton:Ob,body:Pb,footer:Qb}},sizes:Rb,defaultProps:{size:"xs"}},Tb={parts:Wa.keys,baseStyle:{preview:{borderRadius:"md",py:"3px",transitionProperty:"common",transitionDuration:"normal"},input:{borderRadius:"md",py:"3px",transitionProperty:"common",transitionDuration:"normal",width:"full",_focus:{boxShadow:"outline"},_placeholder:{opacity:0.6}}}},Ub={parts:Xa.keys,baseStyle:function(a){var b,c;return{container:{width:"100%",position:"relative"},requiredIndicator:(b=a,{marginStart:1,color:za("red.500","red.300")(b)}),helperText:(c=a,{mt:2,color:za("gray.500","whiteAlpha.600")(c),lineHeight:"normal",fontSize:"sm"})}}},Vb={lg:{fontSize:"lg",px:4,h:12,borderRadius:"md"},md:{fontSize:"md",px:4,h:10,borderRadius:"md"},sm:{fontSize:"sm",px:3,h:8,borderRadius:"sm"},xs:{fontSize:"xs",px:2,h:6,borderRadius:"sm"}},Wb={lg:{field:Vb.lg,addon:Vb.lg},md:{field:Vb.md,addon:Vb.md},sm:{field:Vb.sm,addon:Vb.sm},xs:{field:Vb.xs,addon:Vb.xs}};function Xb(a){var b=a.focusBorderColor,c=a.errorBorderColor;return{focusBorderColor:b||za("blue.500","blue.300")(a),errorBorderColor:c||za("red.500","red.300")(a)}}var Yb={parts:Za.keys,baseStyle:{field:{width:"100%",minWidth:0,outline:0,position:"relative",appearance:"none",transitionProperty:"common",transitionDuration:"normal"}},sizes:Wb,variants:{outline:function(a){var b=a.theme,c=Xb(a),d=c.focusBorderColor,e=c.errorBorderColor;return{field:{border:"1px solid",borderColor:"inherit",bg:"inherit",_hover:{borderColor:za("gray.300","whiteAlpha.400")(a)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_disabled:{opacity:0.4,cursor:"not-allowed"},_invalid:{borderColor:wa(b,e),boxShadow:"0 0 0 1px "+wa(b,e)},_focus:{zIndex:1,borderColor:wa(b,d),boxShadow:"0 0 0 1px "+wa(b,d)}},addon:{border:"1px solid",borderColor:za("inherit","whiteAlpha.50")(a),bg:za("gray.100","whiteAlpha.300")(a)}}},filled:function(a){var b=a.theme,c=Xb(a),d=c.focusBorderColor,e=c.errorBorderColor;return{field:{border:"2px solid",borderColor:"transparent",bg:za("gray.100","whiteAlpha.50")(a),_hover:{bg:za("gray.200","whiteAlpha.100")(a)},_readOnly:{boxShadow:"none !important",userSelect:"all"},_disabled:{opacity:0.4,cursor:"not-allowed"},_invalid:{borderColor:wa(b,e)},_focus:{bg:"transparent",borderColor:wa(b,d)}},addon:{border:"2px solid",borderColor:"transparent",bg:za("gray.100","whiteAlpha.50")(a)}}},flushed:function(a){var b=a.theme,c=Xb(a),d=c.focusBorderColor,e=c.errorBorderColor;return{field:{borderBottom:"1px solid",borderColor:"inherit",borderRadius:0,px:0,bg:"transparent",_readOnly:{boxShadow:"none !important",userSelect:"all"},_invalid:{borderColor:wa(b,e),boxShadow:"0px 1px 0px 0px "+wa(b,e)},_focus:{borderColor:wa(b,d),boxShadow:"0px 1px 0px 0px "+wa(b,d)}},addon:{borderBottom:"2px solid",borderColor:"inherit",borderRadius:0,px:0,bg:"transparent"}}},unstyled:{field:{bg:"transparent",px:0,height:"auto"},addon:{bg:"transparent",px:0,height:"auto"}}},defaultProps:{size:"md",variant:"outline"}},Zb={parts:$a.keys,baseStyle:{container:{},item:{},icon:{marginEnd:"0.5rem",display:"inline",verticalAlign:"text-bottom"}}},$b={mx:4,my:2,fontWeight:"semibold",fontSize:"sm"},_b={opacity:0.6},ac={border:0,borderBottom:"1px solid",borderColor:"inherit",my:"0.5rem",opacity:0.6},bc={transitionProperty:"common",transitionDuration:"normal"},cc={parts:_a.keys,baseStyle:function(a){var b,c;return{button:bc,list:(b=a,{bg:za("#fff","gray.700")(b),boxShadow:za("sm","dark-lg")(b),color:"inherit",minW:"3xs",py:"2",zIndex:1,borderRadius:"md",borderWidth:"1px"}),item:(c=a,{py:"0.4rem",px:"0.8rem",transitionProperty:"background",transitionDuration:"ultra-fast",transitionTimingFunction:"ease-in",_focus:{bg:za("gray.100","whiteAlpha.100")(c)},_active:{bg:za("gray.200","whiteAlpha.200")(c)},_expanded:{bg:za("gray.100","whiteAlpha.100")(c)},_disabled:{opacity:0.4,cursor:"not-allowed"}}),groupTitle:$b,command:_b,divider:ac}}},dc={bg:"blackAlpha.600",zIndex:"modal"},ec=function(a){var b=a.isCentered,c=a.scrollBehavior;return{display:"flex",zIndex:"modal",justifyContent:"center",alignItems:b?"center":"flex-start",overflow:"inside"===c?"hidden":"auto"}},fc=function(a){var b=a.scrollBehavior;return{borderRadius:"md",bg:za("white","gray.700")(a),color:"inherit",my:"3.75rem",zIndex:"modal",maxH:"inside"===b?"calc(100% - 7.5rem)":void 0,boxShadow:za("lg","dark-lg")(a)}},gc={px:6,py:4,fontSize:"xl",fontWeight:"semibold"},hc={position:"absolute",top:2,insetEnd:3},ic={px:6,py:4};function jc(a){return"full"===a?{dialog:{maxW:"100vw",minH:"100vh",my:0}}:{dialog:{maxW:a}}}var kc={xs:jc("xs"),sm:jc("sm"),md:jc("md"),lg:jc("lg"),xl:jc("xl"),"2xl":jc("2xl"),"3xl":jc("3xl"),"4xl":jc("4xl"),"5xl":jc("5xl"),"6xl":jc("6xl"),full:jc("full")},lc={parts:ab.keys,baseStyle:function(a){return{overlay:dc,dialogContainer:ec(a),dialog:fc(a),header:gc,closeButton:hc,body:{px:6,py:2,flex:1,overflow:"inside"===a.scrollBehavior?"auto":void 0},footer:ic}},sizes:kc,defaultProps:{size:"md"}},mc={letterSpacings:{tighter:"-0.05em",tight:"-0.025em",normal:"0",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeights:{normal:"normal",none:1,shorter:1.25,"short":1.375,base:1.5,tall:1.625,taller:"2","3":".75rem","4":"1rem","5":"1.25rem","6":"1.5rem","7":"1.75rem","8":"2rem","9":"2.25rem","10":"2.5rem"},fontWeights:{hairline:100,thin:200,light:300,normal:400,medium:500,semibold:600,bold:700,extrabold:800,black:900},fonts:{heading:"-apple-system, BlinkMacSystemFont, \"Segoe UI\", Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\"",body:"-apple-system, BlinkMacSystemFont, \"Segoe UI\", Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\"",mono:"SFMono-Regular,Menlo,Monaco,Consolas,\"Liberation Mono\",\"Courier New\",monospace"},fontSizes:{xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem","8xl":"6rem","9xl":"8rem"}},nc=Yb.variants,oc=Yb.defaultProps,pc=Oa("number-input-stepper-width"),qc=Oa("number-input-input-padding"),rc=Ma(pc).add("0.5rem").toString(),sc=((g={})[pc.variable]="24px",g[qc.variable]=rc,g),tc=null!=(h=null==(i=Yb.baseStyle)?void 0:i.field)?h:{},uc={width:[pc.reference]};function vc(a){var b,c,d=Yb.sizes[a],e={lg:"md",md:"md",sm:"sm",xs:"sm"},f=null!=(b=null==(c=d.field)?void 0:c.fontSize)?b:"md",g=mc.fontSizes[f.toString()];return{field:ob({},d.field,{paddingInlineEnd:qc.reference,verticalAlign:"top"}),stepper:{fontSize:Ma(g).multiply(0.75).toString(),_first:{borderTopEndRadius:e[a]},_last:{borderBottomEndRadius:e[a],mt:"-1px",borderTopWidth:1}}}}var wc,xc={xs:vc("xs"),sm:vc("sm"),md:vc("md"),lg:vc("lg")},yc={parts:bb.keys,baseStyle:function(a){var b;return{root:sc,field:tc,stepperGroup:uc,stepper:(b=a,{borderStart:"1px solid",borderStartColor:za("inherit","whiteAlpha.300")(b),color:za("inherit","whiteAlpha.800")(b),_active:{bg:za("gray.200","whiteAlpha.300")(b)},_disabled:{opacity:0.4,cursor:"not-allowed"}})}},sizes:xc,variants:nc,defaultProps:oc},zc=ob({},Yb.baseStyle.field,{textAlign:"center"}),Ac={outline:function(a){var b;return null!=(b=Yb.variants.outline(a).field)?b:{}},flushed:function(a){var b;return null!=(b=Yb.variants.flushed(a).field)?b:{}},filled:function(a){var b;return null!=(b=Yb.variants.filled(a).field)?b:{}},unstyled:null!=(j=Yb.variants.unstyled.field)?j:{}},Bc=Yb.defaultProps,Cc=Oa("popper-bg"),Dc=Oa("popper-arrow-bg"),Ec=Oa("popper-arrow-shadow-color"),Fc={zIndex:10},Gc=function(a){var b,c=za("white","gray.700")(a),d=za("gray.200","whiteAlpha.300")(a);return(b={})[Cc.variable]="colors."+c,b.bg=Cc.reference,b[Dc.variable]=Cc.reference,b[Ec.variable]="colors."+d,b.width="xs",b.border="1px solid",b.borderColor="inherit",b.borderRadius="md",b.boxShadow="sm",b.zIndex="inherit",b._focus={outline:0,boxShadow:"outline"},b},Hc={px:3,py:2,borderBottomWidth:"1px"},Ic={px:3,py:2},Jc={px:3,py:2,borderTopWidth:"1px"},Kc={position:"absolute",borderRadius:"md",top:1,insetEnd:2,padding:2},Lc={parts:cb.keys,baseStyle:function(a){return{popper:Fc,content:Gc(a),header:Hc,body:Ic,footer:Jc,arrow:{},closeButton:Kc}}},Mc={lineHeight:"1",fontSize:"0.25em",fontWeight:"bold",color:"white"},Nc=function(a){var b,c,d,e,f,g;return ob({transitionProperty:"common",transitionDuration:"slow"},(c=(b=a).colorScheme,b.theme,d=b.isIndeterminate,b.hasStripe,e=za(ya(),ya("1rem","rgba(0,0,0,0.1)"))(b),f=za(c+".500",c+".200")(b),g="linear-gradient(\n    to right,\n    transparent 0%,\n    "+wa(b.theme,f)+" 50%,\n    transparent 100%\n  )",ob({},!d&&b.hasStripe&&e,d?{bgImage:g}:{bgColor:f})))},Oc={parts:db.keys,sizes:{xs:{track:{h:"0.25rem"}},sm:{track:{h:"0.5rem"}},md:{track:{h:"0.75rem"}},lg:{track:{h:"1rem"}}},baseStyle:function(a){var b;return{label:Mc,filledTrack:Nc(a),track:(b=a,{bg:za("gray.100","whiteAlpha.300")(b)})}},defaultProps:{size:"md",colorScheme:"blue"}},Pc=function(a){var b=Fb.baseStyle(a).control,c=void 0===b?{}:b;return ob({},c,{borderRadius:"full",_checked:ob({},c["_checked"],{_before:{content:"\"\"",display:"inline-block",pos:"relative",w:"50%",h:"50%",borderRadius:"50%",bg:"currentColor"}})})},Qc={parts:eb.keys,baseStyle:function(a){return{label:Fb.baseStyle(a).label,control:Pc(a)}},sizes:{md:{control:{w:4,h:4},label:{fontSize:"md"}},lg:{control:{w:5,h:5},label:{fontSize:"lg"}},sm:{control:{width:3,height:3},label:{fontSize:"sm"}}},defaultProps:{size:"md",colorScheme:"blue"}},Rc={width:"1.5rem",height:"100%",insetEnd:"0.5rem",position:"relative",color:"currentColor",fontSize:"1.25rem",_disabled:{opacity:0.5}},Sc={paddingInlineEnd:"2rem"},Tc=nb()({},Yb.sizes,{lg:{field:Sc},md:{field:Sc},sm:{field:Sc},xs:{field:Sc,icon:{insetEnd:"0.25rem"}}}),Uc={parts:fb.keys,baseStyle:function(a){var b;return{field:(b=a,ob({},Yb.baseStyle.field,{bg:za("white","gray.700")(b),appearance:"none",paddingBottom:"1px",lineHeight:"normal","> option, > optgroup":{bg:za("white","gray.700")(b)}})),icon:Rc}},sizes:Tc,variants:Yb.variants,defaultProps:Yb.defaultProps},Vc=function(a){var b=a.colorScheme;return{width:"inherit",height:"inherit",bg:za(b+".500",b+".200")(a)}},Wc={parts:gb.keys,sizes:{lg:function(a){return{thumb:{w:"16px",h:"16px"},track:Aa({orientation:a.orientation,horizontal:{h:"4px"},vertical:{w:"4px"}})}},md:function(a){return{thumb:{w:"14px",h:"14px"},track:Aa({orientation:a.orientation,horizontal:{h:"4px"},vertical:{w:"4px"}})}},sm:function(a){return{thumb:{w:"10px",h:"10px"},track:Aa({orientation:a.orientation,horizontal:{h:"2px"},vertical:{w:"2px"}})}}},baseStyle:function(a){var b;return{container:ob({display:"inline-block",position:"relative",cursor:"pointer",_disabled:{opacity:0.6,cursor:"default",pointerEvents:"none"}},Aa({orientation:a.orientation,vertical:{h:"100%"},horizontal:{w:"100%"}})),track:(b=a,{overflow:"hidden",borderRadius:"sm",bg:za("gray.200","whiteAlpha.200")(b),_disabled:{bg:za("gray.300","whiteAlpha.300")(b)}}),thumb:ob({display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",outline:0,zIndex:1,borderRadius:"full",bg:"white",boxShadow:"base",border:"1px solid",borderColor:"transparent",transitionProperty:"transform",transitionDuration:"normal",_focus:{boxShadow:"outline"},_disabled:{bg:"gray.300"}},Aa({orientation:a.orientation,vertical:{left:"50%",transform:"translateX(-50%)",_active:{transform:"translateX(-50%) scale(1.15)"}},horizontal:{top:"50%",transform:"translateY(-50%)",_active:{transform:"translateY(-50%) scale(1.15)"}}})),filledTrack:Vc(a)}},defaultProps:{size:"md",colorScheme:"blue"}},Xc=Oa("spinner-size"),Yc={width:[Xc.reference],height:[Xc.reference]},Zc={xs:((k={})[Xc.variable]="0.75rem",k),sm:((l={})[Xc.variable]="1rem",l),md:((m={})[Xc.variable]="1.5rem",m),lg:((n={})[Xc.variable]="2rem",n),xl:((o={})[Xc.variable]="3rem",o)},$c={parts:hb.keys,baseStyle:{container:{},label:{fontWeight:"medium"},helpText:{opacity:0.8,marginBottom:2},number:{verticalAlign:"baseline",fontWeight:"semibold"},icon:{marginEnd:1,w:"14px",h:"14px",verticalAlign:"middle"}},sizes:{md:{label:{fontSize:"sm"},helpText:{fontSize:"sm"},number:{fontSize:"2xl"}}},defaultProps:{size:"md"}},_c=Oa("switch-track-width"),ad=Oa("switch-track-height"),bd=Oa("switch-track-diff"),cd=Ma.subtract(_c,ad),dd=Oa("switch-thumb-x"),ed=function(a){var b=a.colorScheme;return{borderRadius:"full",p:"2px",width:[_c.reference],height:[ad.reference],transitionProperty:"common",transitionDuration:"fast",bg:za("gray.300","whiteAlpha.400")(a),_focus:{boxShadow:"outline"},_disabled:{opacity:0.4,cursor:"not-allowed"},_checked:{bg:za(b+".500",b+".200")(a)}}},fd={bg:"white",transitionProperty:"transform",transitionDuration:"normal",borderRadius:"inherit",width:[ad.reference],height:[ad.reference],_checked:{transform:"translateX("+dd.reference+")"}},gd={sm:{container:((p={})[_c.variable]="1.375rem",p[ad.variable]="0.75rem",p)},md:{container:((q={})[_c.variable]="1.875rem",q[ad.variable]="1rem",q)},lg:{container:((r={})[_c.variable]="2.875rem",r[ad.variable]="1.5rem",r)}},hd={parts:ib.keys,baseStyle:function(a){var b,c;return{container:((c={})[bd.variable]=cd,c[dd.variable]=bd.reference,(b={})[dd.variable]=Ma(bd).negate().toString(),c._rtl=b,c),track:ed(a),thumb:fd}},sizes:gd,defaultProps:{size:"md",colorScheme:"blue"}},id={"&[data-is-numeric=true]":{textAlign:"end"}},jd={parts:jb.keys,baseStyle:{table:{fontVariantNumeric:"lining-nums tabular-nums",borderCollapse:"collapse",width:"full"},th:{fontFamily:"heading",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"wider",textAlign:"start"},td:{textAlign:"start"},caption:{mt:4,fontFamily:"heading",textAlign:"center",fontWeight:"medium"}},variants:{simple:function(a){var b=a.colorScheme;return{th:ob({color:za("gray.600","gray.400")(a),borderBottom:"1px",borderColor:za(b+".100",b+".700")(a)},id),td:ob({borderBottom:"1px",borderColor:za(b+".100",b+".700")(a)},id),caption:{color:za("gray.600","gray.100")(a)},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}},striped:function(a){var b=a.colorScheme;return{th:ob({color:za("gray.600","gray.400")(a),borderBottom:"1px",borderColor:za(b+".100",b+".700")(a)},id),td:ob({borderBottom:"1px",borderColor:za(b+".100",b+".700")(a)},id),caption:{color:za("gray.600","gray.100")(a)},tbody:{tr:{"&:nth-of-type(odd)":{"th, td":{borderBottomWidth:"1px",borderColor:za(b+".100",b+".700")(a)},td:{background:za(b+".100",b+".700")(a)}}}},tfoot:{tr:{"&:last-of-type":{th:{borderBottomWidth:0}}}}}},unstyled:{}},sizes:{sm:{th:{px:"4",py:"1",lineHeight:"4",fontSize:"xs"},td:{px:"4",py:"2",fontSize:"sm",lineHeight:"4"},caption:{px:"4",py:"2",fontSize:"xs"}},md:{th:{px:"6",py:"3",lineHeight:"4",fontSize:"xs"},td:{px:"6",py:"4",lineHeight:"5"},caption:{px:"6",py:"2",fontSize:"sm"}},lg:{th:{px:"8",py:"4",lineHeight:"5",fontSize:"sm"},td:{px:"8",py:"5",lineHeight:"6"},caption:{px:"6",py:"2",fontSize:"md"}}},defaultProps:{variant:"simple",size:"md",colorScheme:"gray"}},kd=function(a){var b=a.align,c=a.orientation;return{justifyContent:({end:"flex-end",center:"center",start:"flex-start"})[void 0===b?"start":b],flexDirection:"vertical"===c?"column":"row"}},ld={p:4},md={parts:kb.keys,baseStyle:function(a){return{root:{display:"vertical"===a.orientation?"flex":"block"},tab:{flex:a.isFitted?1:void 0,transitionProperty:"common",transitionDuration:"normal",_focus:{zIndex:1,boxShadow:"outline"}},tablist:kd(a),tabpanel:ld}},sizes:{sm:{tab:{py:1,px:4,fontSize:"sm"}},md:{tab:{fontSize:"md",py:2,px:4}},lg:{tab:{fontSize:"lg",py:3,px:4}}},variants:{line:function(a){var b,c,d=a.colorScheme,e=a.orientation,f="vertical"===e?"borderStart":"borderBottom",g="vertical"===e?"marginStart":"marginBottom";return{tablist:((b={})[f]="2px solid",b.borderColor="inherit",b),tab:((c={})[f]="2px solid",c.borderColor="transparent",c[g]="-2px",c._selected={color:za(d+".600",d+".300")(a),borderColor:"currentColor"},c._active={bg:za("gray.200","whiteAlpha.300")(a)},c._disabled={opacity:0.4,cursor:"not-allowed"},c)}},enclosed:function(a){var b=a.colorScheme;return{tab:{borderTopRadius:"md",border:"1px solid",borderColor:"transparent",mb:"-1px",_selected:{color:za(b+".600",b+".300")(a),borderColor:"inherit",borderBottomColor:za("white","gray.800")(a)}},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}},"enclosed-colored":function(a){var b=a.colorScheme;return{tab:{border:"1px solid",borderColor:"inherit",bg:za("gray.50","whiteAlpha.50")(a),mb:"-1px",_notLast:{marginEnd:"-1px"},_selected:{bg:za("#fff","gray.800")(a),color:za(b+".600",b+".300")(a),borderColor:"inherit",borderTopColor:"currentColor",borderBottomColor:"transparent"}},tablist:{mb:"-1px",borderBottom:"1px solid",borderColor:"inherit"}}},"soft-rounded":function(a){var b=a.colorScheme,c=a.theme;return{tab:{borderRadius:"full",fontWeight:"semibold",color:"gray.600",_selected:{color:wa(c,b+".700"),bg:wa(c,b+".100")}}}},"solid-rounded":function(a){var b=a.colorScheme;return{tab:{borderRadius:"full",fontWeight:"semibold",color:za("gray.600","inherit")(a),_selected:{color:za("#fff","gray.800")(a),bg:za(b+".600",b+".300")(a)}}}},unstyled:{}},defaultProps:{size:"md",variant:"line",colorScheme:"blue"}},nd={parts:lb.keys,variants:{subtle:function(a){return{container:yb.variants.subtle(a)}},solid:function(a){return{container:yb.variants.solid(a)}},outline:function(a){return{container:yb.variants.outline(a)}}},baseStyle:{container:{fontWeight:"medium",lineHeight:1.2,outline:0,_focus:{boxShadow:"outline"}},label:{lineHeight:1.2,overflow:"visible"},closeButton:{fontSize:"18px",w:"1.25rem",h:"1.25rem",transitionProperty:"common",transitionDuration:"normal",borderRadius:"full",marginStart:"0.375rem",marginEnd:"-1",opacity:0.5,_disabled:{opacity:0.4},_focus:{boxShadow:"outline",bg:"rgba(0, 0, 0, 0.14)"},_hover:{opacity:0.8},_active:{opacity:1}}},sizes:{sm:{container:{minH:"1.25rem",minW:"1.25rem",fontSize:"xs",px:2,borderRadius:"md"},closeButton:{marginEnd:"-2px",marginStart:"0.35rem"}},md:{container:{minH:"1.5rem",minW:"1.5rem",fontSize:"sm",borderRadius:"md",px:2}},lg:{container:{minH:8,minW:8,fontSize:"md",borderRadius:"md",px:3}}},defaultProps:{size:"md",variant:"subtle",colorScheme:"gray"}},od=ob({},Yb.baseStyle.field,{paddingY:"8px",minHeight:"80px",lineHeight:"short",verticalAlign:"top"}),pd={outline:function(a){var b;return null!=(b=Yb.variants.outline(a).field)?b:{}},flushed:function(a){var b;return null!=(b=Yb.variants.flushed(a).field)?b:{}},filled:function(a){var b;return null!=(b=Yb.variants.filled(a).field)?b:{}},unstyled:null!=(s=Yb.variants.unstyled.field)?s:{}},qd={xs:null!=(t=Yb.sizes.xs.field)?t:{},sm:null!=(u=Yb.sizes.sm.field)?u:{},md:null!=(v=Yb.sizes.md.field)?v:{},lg:null!=(w=Yb.sizes.lg.field)?w:{}},rd=Oa("tooltip-bg"),sd=Oa("popper-arrow-bg"),td={parts:Ya.keys,baseStyle:function(a){var b,c;return{text:(b=a,{color:za("red.500","red.300")(b),mt:2,fontSize:"sm"}),icon:(c=a,{marginEnd:"0.5em",color:za("red.500","red.300")(c)})}}},ud=(wc={sm:"30em",md:"48em",lg:"62em",xl:"80em","2xl":"96em"},(0,A.ZK)({condition:!0,message:"[chakra-ui]: createBreakpoints(...) will be deprecated pretty soonsimply pass the breakpoints as an object. Remove the createBreakpoint(..) call"}),Ba({base:"0em"},wc)),vd=ob({breakpoints:ud,zIndices:{hide:-1,auto:"auto",base:0,docked:10,dropdown:1000,sticky:1100,banner:1200,overlay:1300,modal:1400,popover:1500,skipLink:1600,toast:1700,tooltip:1800},radii:{none:"0",sm:"0.125rem",base:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},blur:{none:0,sm:"4px",base:"8px",md:"12px",lg:"16px",xl:"24px","2xl":"40px","3xl":"64px"},colors:{transparent:"transparent",current:"currentColor",black:"#000000",white:"#FFFFFF",whiteAlpha:{50:"rgba(255, 255, 255, 0.04)",100:"rgba(255, 255, 255, 0.06)",200:"rgba(255, 255, 255, 0.08)",300:"rgba(255, 255, 255, 0.16)",400:"rgba(255, 255, 255, 0.24)",500:"rgba(255, 255, 255, 0.36)",600:"rgba(255, 255, 255, 0.48)",700:"rgba(255, 255, 255, 0.64)",800:"rgba(255, 255, 255, 0.80)",900:"rgba(255, 255, 255, 0.92)"},blackAlpha:{50:"rgba(0, 0, 0, 0.04)",100:"rgba(0, 0, 0, 0.06)",200:"rgba(0, 0, 0, 0.08)",300:"rgba(0, 0, 0, 0.16)",400:"rgba(0, 0, 0, 0.24)",500:"rgba(0, 0, 0, 0.36)",600:"rgba(0, 0, 0, 0.48)",700:"rgba(0, 0, 0, 0.64)",800:"rgba(0, 0, 0, 0.80)",900:"rgba(0, 0, 0, 0.92)"},gray:{50:"#F7FAFC",100:"#EDF2F7",200:"#E2E8F0",300:"#CBD5E0",400:"#A0AEC0",500:"#718096",600:"#4A5568",700:"#2D3748",800:"#1A202C",900:"#171923"},red:{50:"#FFF5F5",100:"#FED7D7",200:"#FEB2B2",300:"#FC8181",400:"#F56565",500:"#E53E3E",600:"#C53030",700:"#9B2C2C",800:"#822727",900:"#63171B"},orange:{50:"#FFFAF0",100:"#FEEBC8",200:"#FBD38D",300:"#F6AD55",400:"#ED8936",500:"#DD6B20",600:"#C05621",700:"#9C4221",800:"#7B341E",900:"#652B19"},yellow:{50:"#FFFFF0",100:"#FEFCBF",200:"#FAF089",300:"#F6E05E",400:"#ECC94B",500:"#D69E2E",600:"#B7791F",700:"#975A16",800:"#744210",900:"#5F370E"},green:{50:"#F0FFF4",100:"#C6F6D5",200:"#9AE6B4",300:"#68D391",400:"#48BB78",500:"#38A169",600:"#2F855A",700:"#276749",800:"#22543D",900:"#1C4532"},teal:{50:"#E6FFFA",100:"#B2F5EA",200:"#81E6D9",300:"#4FD1C5",400:"#38B2AC",500:"#319795",600:"#2C7A7B",700:"#285E61",800:"#234E52",900:"#1D4044"},blue:{50:"#ebf8ff",100:"#bee3f8",200:"#90cdf4",300:"#63b3ed",400:"#4299e1",500:"#3182ce",600:"#2b6cb0",700:"#2c5282",800:"#2a4365",900:"#1A365D"},cyan:{50:"#EDFDFD",100:"#C4F1F9",200:"#9DECF9",300:"#76E4F7",400:"#0BC5EA",500:"#00B5D8",600:"#00A3C4",700:"#0987A0",800:"#086F83",900:"#065666"},purple:{50:"#FAF5FF",100:"#E9D8FD",200:"#D6BCFA",300:"#B794F4",400:"#9F7AEA",500:"#805AD5",600:"#6B46C1",700:"#553C9A",800:"#44337A",900:"#322659"},pink:{50:"#FFF5F7",100:"#FED7E2",200:"#FBB6CE",300:"#F687B3",400:"#ED64A6",500:"#D53F8C",600:"#B83280",700:"#97266D",800:"#702459",900:"#521B41"},linkedin:{50:"#E8F4F9",100:"#CFEDFB",200:"#9BDAF3",300:"#68C7EC",400:"#34B3E4",500:"#00A0DC",600:"#008CC9",700:"#0077B5",800:"#005E93",900:"#004471"},facebook:{50:"#E8F4F9",100:"#D9DEE9",200:"#B7C2DA",300:"#6482C0",400:"#4267B2",500:"#385898",600:"#314E89",700:"#29487D",800:"#223B67",900:"#1E355B"},messenger:{50:"#D0E6FF",100:"#B9DAFF",200:"#A2CDFF",300:"#7AB8FF",400:"#2E90FF",500:"#0078FF",600:"#0063D1",700:"#0052AC",800:"#003C7E",900:"#002C5C"},whatsapp:{50:"#dffeec",100:"#b9f5d0",200:"#90edb3",300:"#65e495",400:"#3cdd78",500:"#22c35e",600:"#179848",700:"#0c6c33",800:"#01421c",900:"#001803"},twitter:{50:"#E5F4FD",100:"#C8E9FB",200:"#A8DCFA",300:"#83CDF7",400:"#57BBF5",500:"#1DA1F2",600:"#1A94DA",700:"#1681BF",800:"#136B9E",900:"#0D4D71"},telegram:{50:"#E3F2F9",100:"#C5E4F3",200:"#A2D4EC",300:"#7AC1E4",400:"#47A9DA",500:"#0088CC",600:"#007AB8",700:"#006BA1",800:"#005885",900:"#003F5E"}}},mc,{sizes:tb,shadows:{xs:"0 0 0 1px rgba(0, 0, 0, 0.05)",sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",base:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)","2xl":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",outline:"0 0 0 3px rgba(66, 153, 225, 0.6)",inner:"inset 0 2px 4px 0 rgba(0,0,0,0.06)",none:"none","dark-lg":"rgba(0, 0, 0, 0.1) 0px 0px 0px 1px, rgba(0, 0, 0, 0.2) 0px 5px 10px, rgba(0, 0, 0, 0.4) 0px 15px 40px"},space:sb,borders:{none:0,"1px":"1px solid","2px":"2px solid","4px":"4px solid","8px":"8px solid"},transition:{property:{common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, transform",colors:"background-color, border-color, color, fill, stroke",dimensions:"width, height",position:"left, right, top, bottom",background:"background-color, background-image, background-position"},easing:{"ease-in":"cubic-bezier(0.4, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.2, 1)","ease-in-out":"cubic-bezier(0.4, 0, 0.2, 1)"},duration:{"ultra-fast":"50ms",faster:"100ms",fast:"150ms",normal:"200ms",slow:"300ms",slower:"400ms","ultra-slow":"500ms"}}}),wd=["borders","breakpoints","colors","components","config","direction","fonts","fontSizes","fontWeights","letterSpacings","lineHeights","radii","shadows","sizes","space","styles","transition","zIndices"],xd=ob({direction:"ltr"},vd,{components:{Accordion:pb,Alert:rb,Avatar:xb,Badge:yb,Breadcrumb:zb,Button:{baseStyle:{lineHeight:"1.2",borderRadius:"md",fontWeight:"semibold",transitionProperty:"common",transitionDuration:"normal",_focus:{boxShadow:"outline"},_disabled:{opacity:0.4,cursor:"not-allowed",boxShadow:"none"},_hover:{_disabled:{bg:"initial"}}},variants:{ghost:Ab,outline:function(a){var b=a.colorScheme,c=za("gray.200","whiteAlpha.300")(a);return ob({border:"1px solid",borderColor:"gray"===b?c:"currentColor"},Ab(a))},solid:function(a){var b,c=a.colorScheme;if("gray"===c){var d=za("gray.100","whiteAlpha.200")(a);return{bg:d,_hover:{bg:za("gray.200","whiteAlpha.300")(a),_disabled:{bg:d}},_active:{bg:za("gray.300","whiteAlpha.400")(a)}}}var e=null!=(b=Bb[c])?b:{},f=e.bg,g=e.color,h=e.hoverBg,i=e.activeBg,j=za(void 0===f?c+".500":f,c+".200")(a);return{bg:j,color:za(void 0===g?"white":g,"gray.800")(a),_hover:{bg:za(void 0===h?c+".600":h,c+".300")(a),_disabled:{bg:j}},_active:{bg:za(void 0===i?c+".700":i,c+".400")(a)}}},link:function(a){var b=a.colorScheme;return{padding:0,height:"auto",lineHeight:"normal",verticalAlign:"baseline",color:za(b+".500",b+".200")(a),_hover:{textDecoration:"underline",_disabled:{textDecoration:"none"}},_active:{color:za(b+".700",b+".500")(a)}}},unstyled:{bg:"none",color:"inherit",display:"inline",lineHeight:"inherit",m:0,p:0}},sizes:{lg:{h:12,minW:12,fontSize:"lg",px:6},md:{h:10,minW:10,fontSize:"md",px:4},sm:{h:8,minW:8,fontSize:"sm",px:3},xs:{h:6,minW:6,fontSize:"xs",px:2}},defaultProps:{variant:"solid",size:"md",colorScheme:"gray"}},Checkbox:Fb,CloseButton:{baseStyle:function(a){var b=za("blackAlpha.100","whiteAlpha.100")(a),c=za("blackAlpha.200","whiteAlpha.200")(a);return{w:[Gb.reference],h:[Gb.reference],borderRadius:"md",transitionProperty:"common",transitionDuration:"normal",_disabled:{opacity:0.4,cursor:"not-allowed",boxShadow:"none"},_hover:{bg:b},_active:{bg:c},_focus:{boxShadow:"outline"}}},sizes:Hb,defaultProps:{size:"md"}},Code:{baseStyle:{fontFamily:"mono",fontSize:"sm",px:"0.2em",borderRadius:"sm"},variants:Ib,defaultProps:Jb},Container:{baseStyle:{w:"100%",mx:"auto",maxW:"60ch",px:"1rem"}},Divider:{baseStyle:{opacity:0.6,borderColor:"inherit"},variants:{solid:{borderStyle:"solid"},dashed:{borderStyle:"dashed"}},defaultProps:{variant:"solid"}},Drawer:Sb,Editable:Tb,Form:Ub,FormLabel:{baseStyle:{fontSize:"md",marginEnd:3,mb:2,fontWeight:"medium",transitionProperty:"common",transitionDuration:"normal",opacity:1,_disabled:{opacity:0.4}}},Heading:{baseStyle:{fontFamily:"heading",fontWeight:"bold"},sizes:{"4xl":{fontSize:["6xl",null,"7xl"],lineHeight:1},"3xl":{fontSize:["5xl",null,"6xl"],lineHeight:1},"2xl":{fontSize:["4xl",null,"5xl"],lineHeight:[1.2,null,1]},xl:{fontSize:["3xl",null,"4xl"],lineHeight:[1.33,null,1.2]},lg:{fontSize:["2xl",null,"3xl"],lineHeight:[1.33,null,1.2]},md:{fontSize:"xl",lineHeight:1.2},sm:{fontSize:"md",lineHeight:1.2},xs:{fontSize:"sm",lineHeight:1.2}},defaultProps:{size:"xl"}},Input:Yb,Kbd:{baseStyle:function(a){return{bg:za("gray.100","whiteAlpha")(a),borderRadius:"md",borderWidth:"1px",borderBottomWidth:"3px",fontSize:"0.8em",fontWeight:"bold",lineHeight:"normal",px:"0.4em",whiteSpace:"nowrap"}}},Link:{baseStyle:{transitionProperty:"common",transitionDuration:"fast",transitionTimingFunction:"ease-out",cursor:"pointer",textDecoration:"none",outline:"none",color:"inherit",_hover:{textDecoration:"underline"},_focus:{boxShadow:"outline"}}},List:Zb,Menu:cc,Modal:lc,NumberInput:yc,PinInput:{baseStyle:zc,sizes:{lg:{fontSize:"lg",w:12,h:12,borderRadius:"md"},md:{fontSize:"md",w:10,h:10,borderRadius:"md"},sm:{fontSize:"sm",w:8,h:8,borderRadius:"sm"},xs:{fontSize:"xs",w:6,h:6,borderRadius:"sm"}},variants:Ac,defaultProps:Bc},Popover:Lc,Progress:Oc,Radio:Qc,Select:Uc,Skeleton:{baseStyle:function(a){var b,c,d=za("gray.100","gray.800")(a),e=za("gray.400","gray.600")(a),f=a.startColor,g=a.endColor,h=a.speed,i=a.theme,j=wa(i,void 0===f?d:f),k=wa(i,void 0===g?e:g);return{opacity:0.7,borderRadius:"2px",borderColor:j,background:k,animation:h+"s linear infinite alternate "+(b=j,c=k,(0,z.F4)({from:{borderColor:b,background:b},to:{borderColor:c,background:c}}))}}},SkipLink:{baseStyle:function(a){return{borderRadius:"md",fontWeight:"semibold",_focus:{boxShadow:"outline",padding:"1rem",position:"fixed",top:"1.5rem",insetStart:"1.5rem",bg:za("white","gray.700")(a)}}}},Slider:Wc,Spinner:{baseStyle:Yc,sizes:Zc,defaultProps:{size:"md"}},Stat:$c,Switch:hd,Table:jd,Tabs:md,Tag:nd,Textarea:{baseStyle:od,sizes:qd,variants:pd,defaultProps:{size:"md",variant:"outline"}},Tooltip:{baseStyle:function(a){var b,c=za("gray.700","gray.300")(a);return(b={})[rd.variable]="colors."+c,b.px="8px",b.py="2px",b.bg=[rd.reference],b[sd.variable]=[rd.reference],b.color=za("whiteAlpha.900","gray.900")(a),b.borderRadius="sm",b.fontWeight="medium",b.fontSize="sm",b.boxShadow="md",b.maxW="320px",b.zIndex="tooltip",b}},FormError:td},styles:{global:function(a){return{body:{fontFamily:"body",color:za("gray.800","whiteAlpha.900")(a),bg:za("white","gray.800")(a),transitionProperty:"background-color",transitionDuration:"normal",lineHeight:"base"},"*::placeholder":{color:za("gray.400","whiteAlpha.400")(a)},"*, *::before, &::after":{borderColor:za("gray.200","whiteAlpha.300")(a),wordWrap:"break-word"}}}},config:{useSystemColorMode:!1,initialColorMode:"light",cssVarPrefix:"chakra"}}),yd=function(a){var b=a.children,c=a.colorModeManager,d=a.portalZIndex,e=a.resetCSS,f=a.theme,g=void 0===f?{}:f,h=a.environment,i=a.cssVarsRoot,j=y.createElement(T.u,{environment:h},b);return y.createElement(C.vc,null,y.createElement(R.f6,{theme:g,cssVarsRoot:i},y.createElement(S.SG,{colorModeManager:c,options:g.config},(void 0===e||e)&&y.createElement(function(){return y.createElement(z.xB,{styles:"\n      html {\n        line-height: 1.5;\n        -webkit-text-size-adjust: 100%;\n        font-family: system-ui, sans-serif;\n        -webkit-font-smoothing: antialiased;\n        text-rendering: optimizeLegibility;\n        -moz-osx-font-smoothing: grayscale;\n        touch-action: manipulation;\n      }\n\n      body {\n        position: relative;\n        min-height: 100%;\n        font-feature-settings: 'kern';\n      }\n\n      *,\n      *::before,\n      *::after {\n        border-width: 0;\n        border-style: solid;\n        box-sizing: border-box;\n      }\n\n      main {\n        display: block;\n      }\n\n      hr {\n        border-top-width: 1px;\n        box-sizing: content-box;\n        height: 0;\n        overflow: visible;\n      }\n\n      pre,\n      code,\n      kbd,\n      samp {\n        font-family: SFMono-Regular,  Menlo, Monaco, Consolas, monospace;\n        font-size: 1em;\n      }\n\n      a {\n        background-color: transparent;\n        color: inherit;\n        text-decoration: inherit;\n      }\n\n      abbr[title] {\n        border-bottom: none;\n        text-decoration: underline;\n        -webkit-text-decoration: underline dotted;\n        text-decoration: underline dotted;\n      }\n\n      b,\n      strong {\n        font-weight: bold;\n      }\n\n      small {\n        font-size: 80%;\n      }\n\n      sub,\n      sup {\n        font-size: 75%;\n        line-height: 0;\n        position: relative;\n        vertical-align: baseline;\n      }\n\n      sub {\n        bottom: -0.25em;\n      }\n\n      sup {\n        top: -0.5em;\n      }\n\n      img {\n        border-style: none;\n      }\n\n      button,\n      input,\n      optgroup,\n      select,\n      textarea {\n        font-family: inherit;\n        font-size: 100%;\n        line-height: 1.15;\n        margin: 0;\n      }\n\n      button,\n      input {\n        overflow: visible;\n      }\n\n      button,\n      select {\n        text-transform: none;\n      }\n\n      button::-moz-focus-inner,\n      [type=\"button\"]::-moz-focus-inner,\n      [type=\"reset\"]::-moz-focus-inner,\n      [type=\"submit\"]::-moz-focus-inner {\n        border-style: none;\n        padding: 0;\n      }\n\n      fieldset {\n        padding: 0.35em 0.75em 0.625em;\n      }\n\n      legend {\n        box-sizing: border-box;\n        color: inherit;\n        display: table;\n        max-width: 100%;\n        padding: 0;\n        white-space: normal;\n      }\n\n      progress {\n        vertical-align: baseline;\n      }\n\n      textarea {\n        overflow: auto;\n      }\n\n      [type=\"checkbox\"],\n      [type=\"radio\"] {\n        box-sizing: border-box;\n        padding: 0;\n      }\n\n      [type=\"number\"]::-webkit-inner-spin-button,\n      [type=\"number\"]::-webkit-outer-spin-button {\n        -webkit-appearance: none !important;\n      }\n\n      input[type=\"number\"] {\n        -moz-appearance: textfield;\n      }\n\n      [type=\"search\"] {\n        -webkit-appearance: textfield;\n        outline-offset: -2px;\n      }\n\n      [type=\"search\"]::-webkit-search-decoration {\n        -webkit-appearance: none !important;\n      }\n\n      ::-webkit-file-upload-button {\n        -webkit-appearance: button;\n        font: inherit;\n      }\n\n      details {\n        display: block;\n      }\n\n      summary {\n        display: list-item;\n      }\n\n      template {\n        display: none;\n      }\n\n      [hidden] {\n        display: none !important;\n      }\n\n      body,\n      blockquote,\n      dl,\n      dd,\n      h1,\n      h2,\n      h3,\n      h4,\n      h5,\n      h6,\n      hr,\n      figure,\n      p,\n      pre {\n        margin: 0;\n      }\n\n      button {\n        background: transparent;\n        padding: 0;\n      }\n\n      fieldset {\n        margin: 0;\n        padding: 0;\n      }\n\n      ol,\n      ul {\n        margin: 0;\n        padding: 0;\n      }\n\n      textarea {\n        resize: vertical;\n      }\n\n      button,\n      [role=\"button\"] {\n        cursor: pointer;\n      }\n\n      button::-moz-focus-inner {\n        border: 0 !important;\n      }\n\n      table {\n        border-collapse: collapse;\n      }\n\n      h1,\n      h2,\n      h3,\n      h4,\n      h5,\n      h6 {\n        font-size: inherit;\n        font-weight: inherit;\n      }\n\n      button,\n      input,\n      optgroup,\n      select,\n      textarea {\n        padding: 0;\n        line-height: inherit;\n        color: inherit;\n      }\n\n      img,\n      svg,\n      video,\n      canvas,\n      audio,\n      iframe,\n      embed,\n      object {\n        display: block;\n      }\n\n      img,\n      video {\n        max-width: 100%;\n        height: auto;\n      }\n\n      [data-js-focus-visible] :focus:not([data-focus-visible-added]) {\n        outline: none;\n        box-shadow: none;\n      }\n\n      select::-ms-expand {\n        display: none;\n      }\n    "})},null),y.createElement(R.ZL,null),d?y.createElement(H,{zIndex:d},j):j)))};function zd(a,b,c,d){if(((0,A.mf)(a)||(0,A.mf)(b))&&Object.prototype.hasOwnProperty.call(d,c))return function(){var c=(0,A.mf)(a)?a.apply(void 0,arguments):a,d=(0,A.mf)(b)?b.apply(void 0,arguments):b;return nb()({},c,d,zd)}}yd.defaultProps={theme:xd};var Ad=c(9008),Bd=c(1664),Cd=c(8527),Dd=c(3319);function Ed(){return(Ed=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}var Fd=["ref","isDisabled","isFocusable","clickOnEnter","clickOnSpace","onMouseDown","onMouseUp","onClick","onKeyDown","onKeyUp","tabIndex","onMouseOver","onMouseLeave"];function Gd(a){var b=a.target,c=b.tagName,d=b.isContentEditable;return"INPUT"!==c&&"TEXTAREA"!==c&& !0!==d}function Hd(){return(Hd=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}function Id(a){return a.sort(function(a,b){var c=a.compareDocumentPosition(b);if(c&Node.DOCUMENT_POSITION_FOLLOWING||c&Node.DOCUMENT_POSITION_CONTAINED_BY)return -1;if(c&Node.DOCUMENT_POSITION_PRECEDING||c&Node.DOCUMENT_POSITION_CONTAINS)return 1;if(!(c&Node.DOCUMENT_POSITION_DISCONNECTED)&&!(c&Node.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC))return 0;throw Error("Cannot sort the given nodes.")})}function Jd(a,b,c){var d=a+1;return c&&d>=b&&(d=0),d}function Kd(a,b,c){var d=a-1;return c&&d<0&&(d=b),d}var Ld="undefined"!=typeof window?y.useLayoutEffect:y.useEffect,Md=function(a){return a},Nd=function(){var a=this;this.descendants=new Map(),this.register=function(b){if(null!=b){var c;return"object"==typeof(c=b)&&"nodeType"in c&&c.nodeType===Node.ELEMENT_NODE?a.registerNode(b):function(c){a.registerNode(c,b)}}},this.unregister=function(b){a.descendants.delete(b);var c=Id(Array.from(a.descendants.keys()));a.assignIndex(c)},this.destroy=function(){a.descendants.clear()},this.assignIndex=function(b){a.descendants.forEach(function(a){var c=b.indexOf(a.node);a.index=c,a.node.dataset.index=a.index.toString()})},this.count=function(){return a.descendants.size},this.enabledCount=function(){return a.enabledValues().length},this.values=function(){return Array.from(a.descendants.values()).sort(function(a,b){return a.index-b.index})},this.enabledValues=function(){return a.values().filter(function(a){return!a.disabled})},this.item=function(b){if(0!==a.count())return a.values()[b]},this.enabledItem=function(b){if(0!==a.enabledCount())return a.enabledValues()[b]},this.first=function(){return a.item(0)},this.firstEnabled=function(){return a.enabledItem(0)},this.last=function(){return a.item(a.descendants.size-1)},this.lastEnabled=function(){var b=a.enabledValues().length-1;return a.enabledItem(b)},this.indexOf=function(b){var c,d;return b&&null!=(c=null==(d=a.descendants.get(b))?void 0:d.index)?c:-1},this.enabledIndexOf=function(b){return null==b?-1:a.enabledValues().findIndex(function(a){return a.node.isSameNode(b)})},this.next=function(b,c){void 0===c&&(c=!0);var d=Jd(b,a.count(),c);return a.item(d)},this.nextEnabled=function(b,c){void 0===c&&(c=!0);var d=a.item(b);if(d){var e=Jd(a.enabledIndexOf(d.node),a.enabledCount(),c);return a.enabledItem(e)}},this.prev=function(b,c){void 0===c&&(c=!0);var d=Kd(b,a.count()-1,c);return a.item(d)},this.prevEnabled=function(b,c){void 0===c&&(c=!0);var d=a.item(b);if(d){var e=Kd(a.enabledIndexOf(d.node),a.enabledCount()-1,c);return a.enabledItem(e)}},this.registerNode=function(b,c){if(!(!b||a.descendants.has(b))){var d=Id(Array.from(a.descendants.keys()).concat(b));null!=c&&c.disabled&&(c.disabled=!!c.disabled);var e=Hd({node:b,index:-1},c);a.descendants.set(b,e),a.assignIndex(d)}}},Od=(0,B.kr)({name:"DescendantsProvider",errorMessage:"useDescendantsContext must be used within DescendantsProvider"}),Pd=Od[0],Qd=Od[1];function Rd(a){if(null==a)return window;if("[object Window]"!==a.toString()){var b=a.ownerDocument;return b?b.defaultView||window:window}return a}function Sd(a){var b=Rd(a).Element;return a instanceof b||a instanceof Element}function Td(a){var b=Rd(a).HTMLElement;return a instanceof b||a instanceof HTMLElement}function Ud(a){if("undefined"==typeof ShadowRoot)return!1;var b=Rd(a).ShadowRoot;return a instanceof b||a instanceof ShadowRoot}var Vd=Math.max,Wd=Math.min,Xd=Math.round;function Yd(a,b){void 0===b&&(b=!1);var c=a.getBoundingClientRect(),d=1,e=1;if(Td(a)&&b){var f=a.offsetHeight,g=a.offsetWidth;g>0&&(d=Xd(c.width)/g||1),f>0&&(e=Xd(c.height)/f||1)}return{width:c.width/d,height:c.height/e,top:c.top/e,right:c.right/d,bottom:c.bottom/e,left:c.left/d,x:c.left/d,y:c.top/e}}function Zd(a){var b=Rd(a),c=b.pageXOffset,d=b.pageYOffset;return{scrollLeft:c,scrollTop:d}}function $d(a){return a?(a.nodeName||"").toLowerCase():null}function _d(a){return((Sd(a)?a.ownerDocument:a.document)||window.document).documentElement}function ae(a){return Yd(_d(a)).left+Zd(a).scrollLeft}function be(a){return Rd(a).getComputedStyle(a)}function ce(a){var b=be(a),c=b.overflow,d=b.overflowX,e=b.overflowY;return/auto|scroll|overlay|hidden/.test(c+e+d)}function de(a){var b=Yd(a),c=a.offsetWidth,d=a.offsetHeight;return 1>=Math.abs(b.width-c)&&(c=b.width),1>=Math.abs(b.height-d)&&(d=b.height),{x:a.offsetLeft,y:a.offsetTop,width:c,height:d}}function ee(a){return"html"===$d(a)?a:a.assignedSlot||a.parentNode||(Ud(a)?a.host:null)||_d(a)}function fe(a){return["html","body","#document"].indexOf($d(a))>=0?a.ownerDocument.body:Td(a)&&ce(a)?a:fe(ee(a))}function ge(a,b){var c;void 0===b&&(b=[]);var d=fe(a),e=d===(null==(c=a.ownerDocument)?void 0:c.body),f=Rd(d),g=e?[f].concat(f.visualViewport||[],ce(d)?d:[]):d,h=b.concat(g);return e?h:h.concat(ge(ee(g)))}function he(a){return["table","td","th"].indexOf($d(a))>=0}function ie(a){return Td(a)&&"fixed"!==be(a).position?a.offsetParent:null}function je(a){for(var b=Rd(a),c=ie(a);c&&he(c)&&"static"===be(c).position;)c=ie(c);return c&&("html"===$d(c)||"body"===$d(c)&&"static"===be(c).position)?b:c||(function(a){var b=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&Td(a)&&"fixed"===be(a).position)return null;for(var c=ee(a);Td(c)&&0>["html","body"].indexOf($d(c));){var d=be(c);if("none"!==d.transform||"none"!==d.perspective||"paint"===d.contain|| -1!==["transform","perspective"].indexOf(d.willChange)||b&&"filter"===d.willChange||b&&d.filter&&"none"!==d.filter)return c;c=c.parentNode}return null})(a)||b}var ke="top",le="bottom",me="right",ne="left",oe="auto",pe=[ke,le,me,ne],qe="start",re="viewport",se="popper",te=pe.reduce(function(a,b){return a.concat([b+"-"+qe,b+"-end"])},[]),ue=[].concat(pe,[oe]).reduce(function(a,b){return a.concat([b,b+"-"+qe,b+"-end"])},[]),ve=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"],we={placement:"bottom",modifiers:[],strategy:"absolute"};function xe(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return!b.some(function(a){return!(a&&"function"==typeof a.getBoundingClientRect)})}var ye={passive:!0};function ze(a){return a.split("-")[0]}function Ae(a){return a.split("-")[1]}function Be(a){return["top","bottom"].indexOf(a)>=0?"x":"y"}function Ce(a){var b,c=a.reference,d=a.element,e=a.placement,f=e?ze(e):null,g=e?Ae(e):null,h=c.x+c.width/2-d.width/2,i=c.y+c.height/2-d.height/2;switch(f){case ke:b={x:h,y:c.y-d.height};break;case le:b={x:h,y:c.y+c.height};break;case me:b={x:c.x+c.width,y:i};break;case ne:b={x:c.x-d.width,y:i};break;default:b={x:c.x,y:c.y}}var j=f?Be(f):null;if(null!=j){var k="y"===j?"height":"width";switch(g){case qe:b[j]=b[j]-(c[k]/2-d[k]/2);break;case"end":b[j]=b[j]+(c[k]/2-d[k]/2);break;default:}}return b}var De={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Ee(a){var b,c,d,e,f,g,h=a.popper,i=a.popperRect,j=a.placement,k=a.variation,l=a.offsets,m=a.position,n=a.gpuAcceleration,o=a.adaptive,p=a.roundOffsets,q=a.isFixed,r=!0===p?(e=(d=l).x,f=d.y,g=window.devicePixelRatio||1,{x:Xd(e*g)/g||0,y:Xd(f*g)/g||0}):"function"==typeof p?p(l):l,s=r.x,t=void 0===s?0:s,u=r.y,v=void 0===u?0:u,w=l.hasOwnProperty("x"),x=l.hasOwnProperty("y"),y=ne,z=ke,A=window;if(o){var B=je(h),C="clientHeight",D="clientWidth";B===Rd(h)&&"static"!==be(B=_d(h)).position&&"absolute"===m&&(C="scrollHeight",D="scrollWidth"),B=B,(j===ke||(j===ne||j===me)&&"end"===k)&&(z=le,v-=(q&&A.visualViewport?A.visualViewport.height:B[C])-i.height,v*=n?1:-1),(j===ne||(j===ke||j===le)&&"end"===k)&&(y=me,t-=(q&&A.visualViewport?A.visualViewport.width:B[D])-i.width,t*=n?1:-1)}var E=Object.assign({position:m},o&&De);return n?Object.assign({},E,((c={})[z]=x?"0":"",c[y]=w?"0":"",c.transform=1>=(A.devicePixelRatio||1)?"translate("+t+"px, "+v+"px)":"translate3d("+t+"px, "+v+"px, 0)",c)):Object.assign({},E,((b={})[z]=x?v+"px":"",b[y]=w?t+"px":"",b.transform="",b))}var Fe={left:"right",right:"left",bottom:"top",top:"bottom"};function Ge(a){return a.replace(/left|right|bottom|top/g,function(a){return Fe[a]})}var He={start:"end",end:"start"};function Ie(a){return a.replace(/start|end/g,function(a){return He[a]})}function Je(a,b){var c=b.getRootNode&&b.getRootNode();if(a.contains(b))return!0;if(c&&Ud(c)){var d=b;do{if(d&&a.isSameNode(d))return!0;d=d.parentNode||d.host}while(d)}return!1}function Ke(a){return Object.assign({},a,{left:a.x,top:a.y,right:a.x+a.width,bottom:a.y+a.height})}function Le(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u;return b===re?Ke((d=Rd(c=a),e=_d(c),f=d.visualViewport,g=e.clientWidth,h=e.clientHeight,i=0,j=0,f&&(g=f.width,h=f.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(i=f.offsetLeft,j=f.offsetTop)),{width:g,height:h,x:i+ae(c),y:j})):Sd(b)?((l=Yd(k=b)).top=l.top+k.clientTop,l.left=l.left+k.clientLeft,l.bottom=l.top+k.clientHeight,l.right=l.left+k.clientWidth,l.width=k.clientWidth,l.height=k.clientHeight,l.x=l.left,l.y=l.top,l):Ke((m=_d(a),o=_d(m),p=Zd(m),q=null==(n=m.ownerDocument)?void 0:n.body,r=Vd(o.scrollWidth,o.clientWidth,q?q.scrollWidth:0,q?q.clientWidth:0),s=Vd(o.scrollHeight,o.clientHeight,q?q.scrollHeight:0,q?q.clientHeight:0),t=-p.scrollLeft+ae(m),u=-p.scrollTop,"rtl"===be(q||o).direction&&(t+=Vd(o.clientWidth,q?q.clientWidth:0)-r),{width:r,height:s,x:t,y:u}))}function Me(){return{top:0,right:0,bottom:0,left:0}}function Ne(a){return Object.assign({},Me(),a)}function Oe(a,b){return b.reduce(function(b,c){return b[c]=a,b},{})}function Pe(a,b){void 0===b&&(b={});var c,d,e,f,g,h,i,j,k,l,m,n=b,o=n.placement,p=void 0===o?a.placement:o,q=n.boundary,r=n.rootBoundary,s=n.elementContext,t=void 0===s?se:s,u=n.altBoundary,v=n.padding,w=void 0===v?0:v,x=Ne("number"!=typeof w?w:Oe(w,pe)),y=a.rects.popper,z=a.elements[void 0!==u&&u?t===se?"reference":se:t],A=(c=Sd(z)?z:z.contextElement||_d(a.elements.popper),d=void 0===q?"clippingParents":q,e=void 0===r?re:r,j="clippingParents"===d?(g=ge(ee(f=c)),Sd(i=(h=["absolute","fixed"].indexOf(be(f).position)>=0)&&Td(f)?je(f):f)?g.filter(function(a){return Sd(a)&&Je(a,i)&&"body"!==$d(a)&&(!h||"static"!==be(a).position)}):[]):[].concat(d),l=(k=[].concat(j,[e]))[0],m=k.reduce(function(a,b){var d=Le(c,b);return a.top=Vd(d.top,a.top),a.right=Wd(d.right,a.right),a.bottom=Wd(d.bottom,a.bottom),a.left=Vd(d.left,a.left),a},Le(c,l)),m.width=m.right-m.left,m.height=m.bottom-m.top,m.x=m.left,m.y=m.top,m),B=Yd(a.elements.reference),C=Ce({reference:B,element:y,strategy:"absolute",placement:p}),D=Ke(Object.assign({},y,C)),E=t===se?D:B,F={top:A.top-E.top+x.top,bottom:E.bottom-A.bottom+x.bottom,left:A.left-E.left+x.left,right:E.right-A.right+x.right},G=a.modifiersData.offset;if(t===se&&G){var H=G[p];Object.keys(F).forEach(function(a){var b=[me,le].indexOf(a)>=0?1:-1,c=[ke,le].indexOf(a)>=0?"y":"x";F[a]+=H[c]*b})}return F}function Qe(a,b,c){return Vd(a,Wd(b,c))}function Re(a,b,c){return void 0===c&&(c={x:0,y:0}),{top:a.top-b.height-c.y,right:a.right-b.width+c.x,bottom:a.bottom-b.height+c.y,left:a.left-b.width-c.x}}function Se(a){return[ke,me,le,ne].some(function(b){return a[b]>=0})}var Te,Ue,Ve,We,Xe,Ye=(Ve=void 0===(Ue=(Te={defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(a){var b=a.state,c=a.instance,d=a.options,e=d.scroll,f=void 0===e||e,g=d.resize,h=void 0===g||g,i=Rd(b.elements.popper),j=[].concat(b.scrollParents.reference,b.scrollParents.popper);return f&&j.forEach(function(a){a.addEventListener("scroll",c.update,ye)}),h&&i.addEventListener("resize",c.update,ye),function(){f&&j.forEach(function(a){a.removeEventListener("scroll",c.update,ye)}),h&&i.removeEventListener("resize",c.update,ye)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(a){var b=a.state,c=a.name;b.modifiersData[c]=Ce({reference:b.rects.reference,element:b.rects.popper,strategy:"absolute",placement:b.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(a){var b=a.state,c=a.options,d=c.gpuAcceleration,e=c.adaptive,f=c.roundOffsets,g=void 0===f||f,h={placement:ze(b.placement),variation:Ae(b.placement),popper:b.elements.popper,popperRect:b.rects.popper,gpuAcceleration:void 0===d||d,isFixed:"fixed"===b.options.strategy};null!=b.modifiersData.popperOffsets&&(b.styles.popper=Object.assign({},b.styles.popper,Ee(Object.assign({},h,{offsets:b.modifiersData.popperOffsets,position:b.options.strategy,adaptive:void 0===e||e,roundOffsets:g})))),null!=b.modifiersData.arrow&&(b.styles.arrow=Object.assign({},b.styles.arrow,Ee(Object.assign({},h,{offsets:b.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:g})))),b.attributes.popper=Object.assign({},b.attributes.popper,{"data-popper-placement":b.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(a){var b=a.state;Object.keys(b.elements).forEach(function(a){var c=b.styles[a]||{},d=b.attributes[a]||{},e=b.elements[a];Td(e)&&$d(e)&&(Object.assign(e.style,c),Object.keys(d).forEach(function(a){var b=d[a];!1===b?e.removeAttribute(a):e.setAttribute(a,!0===b?"":b)}))})},effect:function(a){var b=a.state,c={popper:{position:b.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(b.elements.popper.style,c.popper),b.styles=c,b.elements.arrow&&Object.assign(b.elements.arrow.style,c.arrow),function(){Object.keys(b.elements).forEach(function(a){var d=b.elements[a],e=b.attributes[a]||{},f=Object.keys(b.styles.hasOwnProperty(a)?b.styles[a]:c[a]).reduce(function(a,b){return a[b]="",a},{});Td(d)&&$d(d)&&(Object.assign(d.style,f),Object.keys(e).forEach(function(a){d.removeAttribute(a)}))})}},requires:["computeStyles"]},{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(a){var b=a.state,c=a.options,d=a.name,e=c.offset,f=void 0===e?[0,0]:e,g=ue.reduce(function(a,c){var d,e,g,h,i,j,k,l;return d=c,e=b.rects,g=f,h=ze(d),i=[ne,ke].indexOf(h)>=0?-1:1,k=(j="function"==typeof g?g(Object.assign({},e,{placement:d})):g)[0],l=j[1],k=k||0,l=(l||0)*i,a[c]=[ne,me].indexOf(h)>=0?{x:l,y:k}:{x:k,y:l},a},{}),h=g[b.placement],i=h.x,j=h.y;null!=b.modifiersData.popperOffsets&&(b.modifiersData.popperOffsets.x+=i,b.modifiersData.popperOffsets.y+=j),b.modifiersData[d]=g}},{name:"flip",enabled:!0,phase:"main",fn:function(a){var b=a.state,c=a.options,d=a.name;if(!b.modifiersData[d]._skip){for(var e=c.mainAxis,f=void 0===e||e,g=c.altAxis,h=void 0===g||g,i=c.fallbackPlacements,j=c.padding,k=c.boundary,l=c.rootBoundary,m=c.altBoundary,n=c.flipVariations,o=void 0===n||n,p=c.allowedAutoPlacements,q=b.options.placement,r=ze(q),s=i||(r!==q&&o?function(a){if(ze(a)===oe)return[];var b=Ge(a);return[Ie(a),b,Ie(b)]}(q):[Ge(q)]),t=[q].concat(s).reduce(function(a,c){var d,e,f,g,h,i,m,n,q,r,s,t,u;return a.concat(ze(c)===oe?(d=b,f=(e={placement:c,boundary:k,rootBoundary:l,padding:j,flipVariations:o,allowedAutoPlacements:p}).placement,g=e.boundary,h=e.rootBoundary,i=e.padding,m=e.flipVariations,n=e.allowedAutoPlacements,q=void 0===n?ue:n,r=Ae(f),s=r?m?te:te.filter(function(a){return Ae(a)===r}):pe,t=s.filter(function(a){return q.indexOf(a)>=0}),0===t.length&&(t=s),u=t.reduce(function(a,b){return a[b]=Pe(d,{placement:b,boundary:g,rootBoundary:h,padding:i})[ze(b)],a},{}),Object.keys(u).sort(function(a,b){return u[a]-u[b]})):c)},[]),u=b.rects.reference,v=b.rects.popper,w=new Map(),x=!0,y=t[0],z=0;z<t.length;z++){var A=t[z],B=ze(A),C=Ae(A)===qe,D=[ke,le].indexOf(B)>=0,E=D?"width":"height",F=Pe(b,{placement:A,boundary:k,rootBoundary:l,altBoundary:m,padding:j}),G=D?C?me:ne:C?le:ke;u[E]>v[E]&&(G=Ge(G));var H=Ge(G),I=[];if(f&&I.push(F[B]<=0),h&&I.push(F[G]<=0,F[H]<=0),I.every(function(a){return a})){y=A,x=!1;break}w.set(A,I)}if(x)for(var J=o?3:1,K=function(a){var b=t.find(function(b){var c=w.get(b);if(c)return c.slice(0,a).every(function(a){return a})});if(b)return y=b,"break"},L=J;L>0&&"break"!==K(L);L--);b.placement!==y&&(b.modifiersData[d]._skip=!0,b.placement=y,b.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(a){var b,c,d=a.state,e=a.options,f=a.name,g=e.mainAxis,h=e.altAxis,i=e.boundary,j=e.rootBoundary,k=e.altBoundary,l=e.padding,m=e.tether,n=void 0===m||m,o=e.tetherOffset,p=void 0===o?0:o,q=Pe(d,{boundary:i,rootBoundary:j,padding:l,altBoundary:k}),r=ze(d.placement),s=Ae(d.placement),t=!s,u=Be(r),v="x"===u?"y":"x",w=d.modifiersData.popperOffsets,x=d.rects.reference,y=d.rects.popper,z="function"==typeof p?p(Object.assign({},d.rects,{placement:d.placement})):p,A="number"==typeof z?{mainAxis:z,altAxis:z}:Object.assign({mainAxis:0,altAxis:0},z),B=d.modifiersData.offset?d.modifiersData.offset[d.placement]:null,C={x:0,y:0};if(w){if(void 0===g||g){var D="y"===u?ke:ne,E="y"===u?le:me,F="y"===u?"height":"width",G=w[u],H=G+q[D],I=G-q[E],J=n?-y[F]/2:0,K=s===qe?x[F]:y[F],L=s===qe?-y[F]:-x[F],M=d.elements.arrow,N=n&&M?de(M):{width:0,height:0},O=d.modifiersData["arrow#persistent"]?d.modifiersData["arrow#persistent"].padding:Me(),P=O[D],Q=O[E],R=Qe(0,x[F],N[F]),S=t?x[F]/2-J-R-P-A.mainAxis:K-R-P-A.mainAxis,T=t?-x[F]/2+J+R+Q+A.mainAxis:L+R+Q+A.mainAxis,U=d.elements.arrow&&je(d.elements.arrow),V=U?"y"===u?U.clientTop||0:U.clientLeft||0:0,W=null!=(b=null==B?void 0:B[u])?b:0,X=G+S-W-V,Y=G+T-W,Z=Qe(n?Wd(H,X):H,G,n?Vd(I,Y):I);w[u]=Z,C[u]=Z-G}if(void 0!==h&&h){var $,_,aa="x"===u?ke:ne,ba="x"===u?le:me,ca=w[v],da="y"===v?"height":"width",ea=ca+q[aa],fa=ca-q[ba],ga=-1!==[ke,ne].indexOf(r),ha=null!=(c=null==B?void 0:B[v])?c:0,ia=ga?ea:ca-x[da]-y[da]-ha+A.altAxis,ja=ga?ca+x[da]+y[da]-ha-A.altAxis:fa,ka=n&&ga?(_=Qe(ia,ca,$=ja))>$?$:_:Qe(n?ia:ea,ca,n?ja:fa);w[v]=ka,C[v]=ka-ca}d.modifiersData[f]=C}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(a){var b,c=a.state,d=a.name,e=a.options,f=c.elements.arrow,g=c.modifiersData.popperOffsets,h=ze(c.placement),i=Be(h),j=[ne,me].indexOf(h)>=0,k=j?"height":"width";if(f&&g){var l,m,n=(l=e.padding,m=c,Ne("number"!=typeof(l="function"==typeof l?l(Object.assign({},m.rects,{placement:m.placement})):l)?l:Oe(l,pe))),o=de(f),p=c.rects.reference[k]+c.rects.reference[i]-g[i]-c.rects.popper[k],q=g[i]-c.rects.reference[i],r=je(f),s=r?"y"===i?r.clientHeight||0:r.clientWidth||0:0,t=n["y"===i?ke:ne],u=s-o[k]-n["y"===i?le:me],v=s/2-o[k]/2+(p/2-q/2),w=Qe(t,v,u),x=i;c.modifiersData[d]=((b={})[x]=w,b.centerOffset=w-v,b)}},effect:function(a){var b=a.state,c=a.options.element,d=void 0===c?"[data-popper-arrow]":c;null==d||("string"!=typeof d||(d=b.elements.popper.querySelector(d)))&&Je(b.elements.popper,d)&&(b.elements.arrow=d)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(a){var b=a.state,c=a.name,d=b.rects.reference,e=b.rects.popper,f=b.modifiersData.preventOverflow,g=Pe(b,{elementContext:"reference"}),h=Pe(b,{altBoundary:!0}),i=Re(g,d),j=Re(h,e,f),k=Se(i),l=Se(j);b.modifiersData[c]={referenceClippingOffsets:i,popperEscapeOffsets:j,isReferenceHidden:k,hasPopperEscaped:l},b.attributes.popper=Object.assign({},b.attributes.popper,{"data-popper-reference-hidden":k,"data-popper-escaped":l})}}]}).defaultModifiers)?[]:Ue,We=Te.defaultOptions,Xe=void 0===We?we:We,function(a,b,c){void 0===c&&(c=Xe);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},we,Xe),modifiersData:{},elements:{reference:a,popper:b},attributes:{},styles:{}},e=[],f=!1,g={state:d,setOptions:function(c){var e="function"==typeof c?c(d.options):c;i(),d.options=Object.assign({},Xe,d.options,e),d.scrollParents={reference:Sd(a)?ge(a):a.contextElement?ge(a.contextElement):[],popper:ge(b)};var f,j,k=(j=function(a){var b=new Map(),c=new Set(),d=[];function e(a){c.add(a.name),[].concat(a.requires||[],a.requiresIfExists||[]).forEach(function(a){if(!c.has(a)){var d=b.get(a);d&&e(d)}}),d.push(a)}return a.forEach(function(a){b.set(a.name,a)}),a.forEach(function(a){c.has(a.name)||e(a)}),d}((f=[].concat(Ve,d.options.modifiers).reduce(function(a,b){var c=a[b.name];return a[b.name]=c?Object.assign({},c,b,{options:Object.assign({},c.options,b.options),data:Object.assign({},c.data,b.data)}):b,a},{}),Object.keys(f).map(function(a){return f[a]}))),ve.reduce(function(a,b){return a.concat(j.filter(function(a){return a.phase===b}))},[]));return d.orderedModifiers=k.filter(function(a){return a.enabled}),h(),g.update()},forceUpdate:function(){if(!f){var a,b,c,e,h,i,j,k,l,m,n,o,p,q,r,s=d.elements,t=s.reference,u=s.popper;if(xe(t,u)){d.rects={reference:(c=t,e=je(u),h="fixed"===d.options.strategy,i=Td(e),n=Td(e)&&(l=Xd((k=(j=e).getBoundingClientRect()).width)/j.offsetWidth||1,m=Xd(k.height)/j.offsetHeight||1,1!==l||1!==m),o=_d(e),p=Yd(c,n),q={scrollLeft:0,scrollTop:0},r={x:0,y:0},(i|| !i&&!h)&&(("body"!==$d(e)||ce(o))&&(q=(a=e)!==Rd(a)&&Td(a)?{scrollLeft:(b=a).scrollLeft,scrollTop:b.scrollTop}:Zd(a)),Td(e)?(r=Yd(e,!0),r.x+=e.clientLeft,r.y+=e.clientTop):o&&(r.x=ae(o))),{x:p.left+q.scrollLeft-r.x,y:p.top+q.scrollTop-r.y,width:p.width,height:p.height}),popper:de(u)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(a){return d.modifiersData[a.name]=Object.assign({},a.data)});for(var v=0;v<d.orderedModifiers.length;v++){if(!0===d.reset){d.reset=!1,v=-1;continue}var w=d.orderedModifiers[v],x=w.fn,y=w.options,z=void 0===y?{}:y,A=w.name;"function"==typeof x&&(d=x({state:d,options:z,name:A,instance:g})||d)}}}},update:function(a){var b;return function(){return b||(b=new Promise(function(c){Promise.resolve().then(function(){b=void 0,c(a())})})),b}}(function(){return new Promise(function(a){g.forceUpdate(),a(d)})}),destroy:function(){i(),f=!0}};if(!xe(a,b))return g;function h(){d.orderedModifiers.forEach(function(a){var b=a.name,c=a.options,f=a.effect;if("function"==typeof f){var h=f({state:d,name:b,instance:g,options:void 0===c?{}:c}),i=function(){};e.push(h||i)}})}function i(){e.forEach(function(a){return a()}),e=[]}return g.setOptions(c).then(function(a){!f&&c.onFirstUpdate&&c.onFirstUpdate(a)}),g});function Ze(){return(Ze=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}var $e=function(a,b){return{"var":a,varRef:b?"var("+a+", "+b+")":"var("+a+")"}},_e={arrowShadowColor:$e("--popper-arrow-shadow-color"),arrowSize:$e("--popper-arrow-size","8px"),arrowSizeHalf:$e("--popper-arrow-size-half"),arrowBg:$e("--popper-arrow-bg"),transformOrigin:$e("--popper-transform-origin"),arrowOffset:$e("--popper-arrow-offset")},af={top:"bottom center","top-start":"bottom left","top-end":"bottom right",bottom:"top center","bottom-start":"top left","bottom-end":"top right",left:"right center","left-start":"right top","left-end":"right bottom",right:"left center","right-start":"left top","right-end":"left bottom"},bf={scroll:!0,resize:!0},cf={name:"matchWidth",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(a){var b=a.state;b.styles.popper.width=b.rects.reference.width+"px"},effect:function(a){var b=a.state;return function(){var a=b.elements.reference;b.elements.popper.style.width=a.offsetWidth+"px"}}},df={name:"transformOrigin",enabled:!0,phase:"write",fn:function(a){ef(a.state)},effect:function(a){var b=a.state;return function(){ef(b)}}},ef=function(a){a.elements.popper.style.setProperty(_e.transformOrigin.var,(a.placement,af[a.placement]))},ff={name:"positionArrow",enabled:!0,phase:"afterWrite",fn:function(a){gf(a.state)}},gf=function(a){if(a.placement){var b,c,d,e=hf(a.placement);if(null!=(b=a.elements)&&b.arrow&&e){Object.assign(a.elements.arrow.style,((c={})[e.property]=e.value,c.width=_e.arrowSize.varRef,c.height=_e.arrowSize.varRef,c.zIndex=-1,c));var f=((d={})[_e.arrowSizeHalf.var]="calc("+_e.arrowSize.varRef+" / 2)",d[_e.arrowOffset.var]="calc("+_e.arrowSizeHalf.varRef+" * -1)",d);for(var g in f)a.elements.arrow.style.setProperty(g,f[g])}}},hf=function(a){return a.startsWith("top")?{property:"bottom",value:_e.arrowOffset.varRef}:a.startsWith("bottom")?{property:"top",value:_e.arrowOffset.varRef}:a.startsWith("left")?{property:"right",value:_e.arrowOffset.varRef}:a.startsWith("right")?{property:"left",value:_e.arrowOffset.varRef}:void 0},jf={name:"innerArrow",enabled:!0,phase:"main",requires:["arrow"],fn:function(a){kf(a.state)},effect:function(a){var b=a.state;return function(){kf(b)}}},kf=function(a){if(a.elements.arrow){var b,c=a.elements.arrow.querySelector("[data-popper-arrow-inner]");c&&Object.assign(c.style,{transform:"rotate(45deg)",background:_e.arrowBg.varRef,top:0,left:0,width:"100%",height:"100%",position:"absolute",zIndex:"inherit",boxShadow:(b=a.placement).includes("top")?"1px 1px 1px 0 var(--popper-arrow-shadow-color)":b.includes("bottom")?"-1px -1px 1px 0 var(--popper-arrow-shadow-color)":b.includes("right")?"-1px 1px 1px 0 var(--popper-arrow-shadow-color)":b.includes("left")?"1px -1px 1px 0 var(--popper-arrow-shadow-color)":void 0})}},lf={"start-start":{ltr:"left-start",rtl:"right-start"},"start-end":{ltr:"left-end",rtl:"right-end"},"end-start":{ltr:"right-start",rtl:"left-start"},"end-end":{ltr:"right-end",rtl:"left-end"},start:{ltr:"left",rtl:"right"},end:{ltr:"right",rtl:"left"}},mf={"auto-start":"auto-end","auto-end":"auto-start","top-start":"top-end","top-end":"top-start","bottom-start":"bottom-end","bottom-end":"bottom-start"},nf=["size","shadowColor","bg","style"];function of(){return(of=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}function pf(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||(e[c]=a[c]);return e}var qf=["id","closeOnSelect","closeOnBlur","autoSelect","isLazy","isOpen","defaultIsOpen","onClose","onOpen","placement","lazyBehavior","direction","computePositionOnMount"],rf=["onMouseEnter","onMouseMove","onMouseLeave","onClick","isDisabled","isFocusable","closeOnSelect"],sf=["type","isChecked"],tf=["children","type","value","defaultValue","onChange"],uf=[Md(Pd),function(){return Md(Qd())},function(){var a;return a=(0,y.useRef)(new Nd()),Ld(function(){return function(){return a.current.destroy()}}),a.current},function(a){var b,c,d,e,f,g,h;return b=a,c=Qd(),e=(d=(0,y.useState)(-1))[0],f=d[1],g=(0,y.useRef)(null),Ld(function(){return function(){g.current&&c.unregister(g.current)}},[]),Ld(function(){if(g.current){var a=Number(g.current.dataset.index);e==a||Number.isNaN(a)||f(a)}}),h=b?Md(c.register(b)):Md(c.register),{descendants:c,index:e,enabledIndex:c.enabledIndexOf(g.current),register:(0,B.lq)(h,g)}}],vf=uf[0],wf=uf[1],xf=uf[2],yf=uf[3],zf=(0,B.kr)({strict:!1,name:"MenuContext"}),Af=zf[0],Bf=zf[1];function Cf(a){var b;return(0,A.Re)(a)&&!!(null!=(b=a.getAttribute("role"))&&b.startsWith("menuitem"))}function Df(a,b){void 0===a&&(a={}),void 0===b&&(b=null);var c=a,d=c.onMouseEnter,e=c.onMouseMove,f=c.onMouseLeave,g=c.onClick,h=c.isDisabled,i=c.isFocusable,j=c.closeOnSelect,k=pf(c,rf),l=Bf(),m=l.setFocusedIndex,n=l.focusedIndex,o=l.closeOnSelect,p=l.onClose,q=l.menuRef,r=l.isOpen,s=l.menuId,t=y.useRef(null),u=s+"-menuitem-"+(0,C.Me)(),v=yf({disabled:h&&!i}),w=v.index,x=v.register,z=y.useCallback(function(a){null==d||d(a),h||m(w)},[m,w,h,d]),D=y.useCallback(function(a){null==e||e(a),t.current&&!(0,A.H9)(t.current)&&z(a)},[z,e]),E=y.useCallback(function(a){null==f||f(a),h||m(-1)},[m,h,f]),F=y.useCallback(function(a){null==g||g(a),!!Cf(a.currentTarget)&&(null!=j?j:o)&&p()},[p,g,o,j]),G=w===n,H=h&&!i;(0,C.rf)(function(){r&&(G&&!H&&t.current?(0,A.T_)(t.current,{nextTick:!0,selectTextIfInput:!1,preventScroll:!1}):q.current&&!(0,A.H9)(q.current)&&(0,A.T_)(q.current,{preventScroll:!1}))},[G,H,q,r]);var I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa,ra=((I={onClick:F,onMouseEnter:z,onMouseMove:D,onMouseLeave:E,ref:(0,B.lq)(x,t,b),isDisabled:h,isFocusable:i}).ref,J=I.isDisabled,I.isFocusable,K=I.clickOnEnter,L=void 0===K||K,M=I.clickOnSpace,N=void 0===M||M,O=I.onMouseDown,P=I.onMouseUp,Q=I.onClick,R=I.onKeyDown,S=I.onKeyUp,T=I.tabIndex,U=I.onMouseOver,V=I.onMouseLeave,W=function(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||(e[c]=a[c]);return e}(I,Fd),X=y.useState(!0),Y=X[0],Z=X[1],$=y.useState(!1),_=$[0],aa=$[1],ca=(ba=y.useRef(new Map())).current,da=y.useCallback(function(a,b,c,d){ba.current.set(c,{type:b,el:a,options:d}),a.addEventListener(b,c,d)},[]),ea=y.useCallback(function(a,b,c,d){a.removeEventListener(b,c,d),ba.current.delete(c)},[]),y.useEffect(function(){return function(){ca.forEach(function(a,b){ea(a.el,a.type,b,a.options)})}},[ea,ca]),fa={add:da,remove:ea},ga=J&&!I.isFocusable,ha=y.useCallback(function(a){if(J){a.stopPropagation(),a.preventDefault();return}a.currentTarget.focus(),null==Q||Q(a)},[J,Q]),ia=y.useCallback(function(a){_&&Gd(a)&&(a.preventDefault(),a.stopPropagation(),aa(!1),fa.remove(document,"keyup",ia,!1))},[_,fa]),ja=y.useCallback(function(a){if(null==R||R(a),!J&&!a.defaultPrevented&&!a.metaKey&&Gd(a.nativeEvent)&&!Y){var b=L&&"Enter"===a.key;N&&" "===a.key&&(a.preventDefault(),aa(!0)),b&&(a.preventDefault(),a.currentTarget.click()),fa.add(document,"keyup",ia,!1)}},[J,Y,R,L,N,fa,ia]),ka=y.useCallback(function(a){null==S||S(a),J||a.defaultPrevented||a.metaKey||Gd(a.nativeEvent)&&!Y&&N&&" "===a.key&&(a.preventDefault(),aa(!1),a.currentTarget.click())},[N,Y,J,S]),la=y.useCallback(function(a){0===a.button&&(aa(!1),fa.remove(document,"mouseup",la,!1))},[fa]),ma=y.useCallback(function(a){if(!(0,A.n_)(a)){if(J){a.stopPropagation(),a.preventDefault();return}Y||aa(!0),a.currentTarget.focus({preventScroll:!0}),fa.add(document,"mouseup",la,!1),null==O||O(a)}},[J,Y,O,fa,la]),na=y.useCallback(function(a){(0,A.n_)(a)||(Y||aa(!1),null==P||P(a))},[P,Y]),oa=y.useCallback(function(a){if(J){a.preventDefault();return}null==U||U(a)},[J,U]),pa=y.useCallback(function(a){_&&(a.preventDefault(),aa(!1)),null==V||V(a)},[_,V]),qa=(0,B.lq)(I.ref,function(a){a&&"BUTTON"!==a.tagName&&Z(!1)}),Y?Ed({},W,{ref:qa,type:"button","aria-disabled":ga?void 0:J,disabled:ga,onClick:ha,onMouseDown:O,onMouseUp:P,onKeyUp:S,onKeyDown:R,onMouseOver:U,onMouseLeave:V}):Ed({},W,{ref:qa,role:"button","data-active":(0,A.PB)(_),"aria-disabled":J?"true":void 0,tabIndex:ga?void 0:Y?T:T||0,onClick:ha,onMouseDown:ma,onMouseUp:na,onKeyUp:ka,onKeyDown:ja,onMouseOver:oa,onMouseLeave:pa}));return of({},k,ra,{id:u,role:"menuitem",tabIndex:G?0:-1})}var Ef=["descendants"],Ff=["children","as"],Gf=["rootProps"],Hf=["type"],If=["icon","iconSpacing","command","commandSpacing","children"],Jf=["icon","iconSpacing"],Kf=["className","title"],Lf=["title","children","className"],Mf=["className","children"],Nf=["className"],Of=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,z,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,S,T,U,V,W,X,Y,Z,$,_,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa,ra,sa,ta,ua,va,wa,xa,ya,za,Aa,Ba=a.children,Ca=(0,R.jC)("Menu",a),Da=(0,R.Lr)(a),Ea=(0,R.Fg)(),Fa=Ea.direction,Ga=(void 0===(b=of({},Da,{direction:Fa}))&&(b={}),(c=b).id,d=c.closeOnSelect,e=c.closeOnBlur,f=void 0===e||e,g=c.autoSelect,h=void 0===g||g,c.isLazy,c.isOpen,c.defaultIsOpen,c.onClose,i=c.onOpen,j=c.placement,k=c.lazyBehavior,c.direction,l=c.computePositionOnMount,m=pf(c,qf),n=y.useRef(null),o=y.useRef(null),p=xf(),q=y.useCallback(function(){(0,A.T_)(n.current,{nextTick:!0,selectTextIfInput:!1})},[]),r=y.useCallback(function(){var a=setTimeout(function(){var a=p.firstEnabled();a&&sa(a.index)});xa.current.add(a)},[p]),s=y.useCallback(function(){var a=setTimeout(function(){var a=p.lastEnabled();a&&sa(a.index)});xa.current.add(a)},[p]),t=y.useCallback(function(){null==i||i(),h?r():q()},[h,r,q,i]),u=(0,C.qY)({isOpen:c.isOpen,defaultIsOpen:c.defaultIsOpen,onClose:c.onClose,onOpen:t}),v=u.isOpen,w=u.onOpen,x=u.onClose,u.onToggle,(0,C.O3)({enabled:v&&f,ref:n,handler:function(a){var b;null!=(b=o.current)&&b.contains(a.target)||x()}}),void 0===(z=of({},m,{enabled:v|| void 0!==l&&l,placement:void 0===j?"bottom-start":j,direction:c.direction}))&&(z={}),F=void 0===(E=(D=z).enabled)||E,G=D.modifiers,H=D.placement,I=D.strategy,J=void 0===I?"absolute":I,K=D.arrowPadding,L=void 0===K?8:K,M=D.eventListeners,N=void 0===M||M,O=D.offset,P=D.gutter,Q=void 0===P?8:P,S=D.flip,T=void 0===S||S,U=D.boundary,V=void 0===U?"clippingParents":U,W=D.preventOverflow,X=void 0===W||W,Y=D.matchWidth,Z=D.direction,$=(0,y.useRef)(null),_=(0,y.useRef)(null),aa=(0,y.useRef)(null),ba=void 0===H?"bottom":H,void 0===(ca=void 0===Z?"ltr":Z)&&(ca="ltr"),fa=(null==(da=lf[ba])?void 0:da[ca])||ba,ga="ltr"===ca?fa:null!=(ea=mf[ba])?ea:fa,ha=(0,y.useRef)(function(){}),ia=(0,y.useCallback)(function(){if(F&&$.current&&_.current){var a;null==ha.current||ha.current(),aa.current=Ye($.current,_.current,{placement:ga,modifiers:[jf,ff,df,Ze({},cf,{enabled:!!Y}),Ze({name:"eventListeners"},"object"==typeof(a=N)?{enabled:!0,options:Ze({},bf,a)}:{enabled:a,options:bf}),{name:"arrow",options:{padding:L}},{name:"offset",options:{offset:null!=O?O:[0,Q]}},{name:"flip",enabled:!!T,options:{padding:8}},{name:"preventOverflow",enabled:!!X,options:{boundary:V}}].concat(null!=G?G:[]),strategy:J}),aa.current.forceUpdate(),ha.current=aa.current.destroy}},[ga,F,G,Y,N,L,O,Q,T,X,V,J]),(0,y.useEffect)(function(){return function(){if(!$.current&&!_.current){var a;null==(a=aa.current)||a.destroy(),aa.current=null}}},[]),ja=(0,y.useCallback)(function(a){$.current=a,ia()},[ia]),ka=(0,y.useCallback)(function(a,b){return void 0===a&&(a={}),void 0===b&&(b=null),Ze({},a,{ref:(0,B.lq)(ja,b)})},[ja]),la=(0,y.useCallback)(function(a){_.current=a,ia()},[ia]),ma=(0,y.useCallback)(function(a,b){return void 0===a&&(a={}),void 0===b&&(b=null),Ze({},a,{ref:(0,B.lq)(la,b),style:Ze({},a.style,{position:J,minWidth:"max-content",inset:"0 auto auto 0"})})},[J,la]),na=(0,y.useCallback)(function(a,b){void 0===a&&(a={}),void 0===b&&(b=null);var c,d,e,f,g,h=a;return h.size,h.shadowColor,h.bg,h.style,Ze({},function(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||(e[c]=a[c]);return e}(h,nf),{ref:b,"data-popper-arrow":"",style:(d=(c=a).size,e=c.shadowColor,f=c.bg,g=Ze({},c.style,{position:"absolute"}),d&&(g["--popper-arrow-size"]=d),e&&(g["--popper-arrow-shadow-color"]=e),f&&(g["--popper-arrow-bg"]=f),g)})},[]),oa=(0,y.useCallback)(function(a,b){return void 0===a&&(a={}),void 0===b&&(b=null),Ze({},a,{ref:b,"data-popper-arrow-inner":""})},[]),pa={update:function(){var a;null==(a=aa.current)||a.update()},forceUpdate:function(){var a;null==(a=aa.current)||a.forceUpdate()},transformOrigin:_e.transformOrigin.varRef,referenceRef:ja,popperRef:la,getPopperProps:ma,getArrowProps:na,getArrowInnerProps:oa,getReferenceProps:ka},qa=y.useState(-1),ra=qa[0],sa=qa[1],(0,C.rf)(function(){v||sa(-1)},[v]),(0,C.Ck)(n,{focusRef:o,visible:v,shouldFocus:!0}),ta=(0,C.ZS)(c.id,"menu-button","menu-list"),ua=ta[0],va=ta[1],wa=y.useCallback(function(){w(),q()},[w,q]),xa=y.useRef(new Set([])),(0,C.zq)(function(){xa.current.forEach(function(a){return clearTimeout(a)}),xa.current.clear()}),ya=y.useCallback(function(){w(),r()},[r,w]),za=y.useCallback(function(){w(),s()},[w,s]),Aa=y.useCallback(function(){var a,b,c=(0,A.lZ)(n.current),d=null==(a=n.current)?void 0:a.contains(c.activeElement);if(v&&!d){var e=null==(b=p.item(ra))?void 0:b.node;e&&(0,A.T_)(e,{selectTextIfInput:!1,preventScroll:!1})}},[v,ra,p]),{openAndFocusMenu:wa,openAndFocusFirstItem:ya,openAndFocusLastItem:za,onTransitionEnd:Aa,descendants:p,popper:pa,buttonId:ua,menuId:va,forceUpdate:pa.forceUpdate,orientation:"vertical",isOpen:v,onToggle:u.onToggle,onOpen:w,onClose:x,menuRef:n,buttonRef:o,focusedIndex:ra,closeOnSelect:void 0===d||d,closeOnBlur:f,autoSelect:h,setFocusedIndex:sa,isLazy:c.isLazy,lazyBehavior:void 0===k?"unmount":k}),Ha=Ga.descendants,Ia=pf(Ga,Ef),Ja=y.useMemo(function(){return Ia},[Ia]),Ka=Ja.isOpen,La=Ja.onClose,Ma=Ja.forceUpdate;return y.createElement(vf,{value:Ha},y.createElement(Af,{value:Ja},y.createElement(R.Fo,{value:Ca},(0,A.Pu)(Ba,{isOpen:Ka,onClose:La,forceUpdate:Ma}))))};A.Ts&&(Of.displayName="Menu");var Pf=(0,R.Gp)(function(a,b){var c=(0,R.yK)();return y.createElement(R.m$.button,of({ref:b},a,{__css:of({display:"inline-flex",appearance:"none",alignItems:"center",outline:0},c.button)}))}),Qf=(0,R.Gp)(function(a,b){a.children;var c,d,e,f,g,h,i=a.as,j=pf(a,Ff),k=(void 0===(c=j)&&(c={}),void 0===(d=b)&&(d=null),(e=Bf()).onToggle,e.popper,f=e.openAndFocusFirstItem,g=e.openAndFocusLastItem,h=y.useCallback(function(a){var b={Enter:f,ArrowDown:f,ArrowUp:g}[(0,A.uh)(a)];b&&(a.preventDefault(),a.stopPropagation(),b(a))},[f,g]),of({},c,{ref:(0,B.lq)(e.buttonRef,d,e.popper.referenceRef),id:e.buttonId,"data-active":(0,A.PB)(e.isOpen),"aria-expanded":e.isOpen,"aria-haspopup":"menu","aria-controls":e.menuId,onClick:(0,A.v0)(c.onClick,e.onToggle),onKeyDown:(0,A.v0)(c.onKeyDown,h)}));return y.createElement(i||Pf,of({},k,{className:(0,A.cx)("chakra-menu__menu-button",a.className)}),y.createElement(R.m$.span,{__css:{pointerEvents:"none",flex:"1 1 auto",minW:0}},a.children))});A.Ts&&(Qf.displayName="MenuButton");var Rf={enter:{visibility:"visible",opacity:1,scale:1,transition:{duration:0.2,ease:[0.4,0,0.2,1]}},exit:{transitionEnd:{visibility:"hidden"},opacity:0,scale:0.8,transition:{duration:0.1,easings:"easeOut"}}},Sf="custom"in Dd.E?Dd.E.custom(R.m$.div):(0,Dd.E)(R.m$.div),Tf=(0,R.Gp)(function(a,b){var c,d,e,f,g=a.rootProps,h=pf(a,Gf),i=Bf(),j=i.isOpen,k=i.onTransitionEnd,l=function(a,b){void 0===a&&(a={}),void 0===b&&(b=null);var c=Bf();if(!c)throw new Error("useMenuContext: context is undefined. Seems you forgot to wrap component within <Menu>");var d=c.focusedIndex,e=c.setFocusedIndex,f=c.menuRef,g=c.isOpen,h=c.onClose,i=c.menuId,j=c.isLazy,k=c.lazyBehavior,l=wf(),m=(0,C.bx)({preventDefault:function(a){return" "!==a.key&&Cf(a.target)}}),n=y.useCallback(function(a){var b={Tab:function(a){return a.preventDefault()},Escape:h,ArrowDown:function(){var a=l.nextEnabled(d);a&&e(a.index)},ArrowUp:function(){var a=l.prevEnabled(d);a&&e(a.index)}}[(0,A.uh)(a)];if(b){a.preventDefault(),b(a);return}var c=m(function(a){var b=(0,A.LP)(l.values(),a,function(a){var b,c;return null!=(b=null==a?void 0:null==(c=a.node)?void 0:c.textContent)?b:""},l.item(d));b&&e(l.indexOf(b.node))});Cf(a.target)&&c(a)},[l,d,m,h,e]),o=y.useRef(!1);g&&(o.current=!0);var p=(0,A.VI)({hasBeenSelected:o.current,isLazy:j,lazyBehavior:k,isSelected:g});return of({},a,{ref:(0,B.lq)(f,b),children:p?a.children:null,tabIndex:-1,role:"menu",id:i,style:of({},a.style,{transformOrigin:"var(--popper-transform-origin)"}),"aria-orientation":"vertical",onKeyDown:(0,A.v0)(a.onKeyDown,n)})}(h,b),m=(void 0===(e=g)&&(e={}),(f=Bf()).popper,f.isOpen,f.popper.getPopperProps(of({},e,{style:of({visibility:f.isOpen?"visible":"hidden"},e.style)}))),n=(0,R.yK)();return y.createElement(R.m$.div,of({},m,{__css:{zIndex:null!=(c=a.zIndex)?c:null==(d=n.list)?void 0:d.zIndex}}),y.createElement(Sf,of({},l,{onUpdate:k,className:(0,A.cx)("chakra-menu__menu-list",l.className),variants:Rf,initial:!1,animate:j?"enter":"exit",__css:of({outline:0},n.list)})))});A.Ts&&(Tf.displayName="MenuList");var Uf=(0,R.Gp)(function(a,b){var c=a.type,d=pf(a,Hf),e=(0,R.yK)(),f=d.as?null!=c?c:void 0:"button",g=of({textDecoration:"none",color:"inherit",userSelect:"none",display:"flex",width:"100%",alignItems:"center",textAlign:"start",flex:"0 0 auto",outline:0},e.item);return y.createElement(R.m$.button,of({ref:b,type:f},d,{__css:g}))}),Vf=(0,R.Gp)(function(a,b){var c=a.icon,d=a.iconSpacing,e=a.command,f=a.commandSpacing,g=a.children,h=Df(pf(a,If),b),i=c||e?y.createElement("span",{style:{pointerEvents:"none",flex:1}},g):g;return y.createElement(Uf,of({},h,{className:(0,A.cx)("chakra-menu__menuitem",h.className)}),c&&y.createElement($f,{fontSize:"0.8em",marginEnd:void 0===d?"0.75rem":d},c),i,e&&y.createElement(Zf,{marginStart:void 0===f?"0.75rem":f},e))});A.Ts&&(Vf.displayName="MenuItem");var Wf=(0,R.Gp)(function(a,b){var c,d,e,f,g,h,i=a.icon,j=a.iconSpacing,k=pf(a,Jf),l=(void 0===(c=k)&&(c={}),void 0===(d=b)&&(d=null),f=(e=c).type,e.isChecked,g=pf(e,sf),h=Df(g,d),of({},h,{role:"menuitem"+(void 0===f?"radio":f),"aria-checked":e.isChecked}));return y.createElement(Uf,of({},l,{className:(0,A.cx)("chakra-menu__menuitem-option",k.className)}),y.createElement($f,{fontSize:"0.8em",marginEnd:void 0===j?"0.75rem":j,opacity:a.isChecked?1:0},i||y.createElement(function(a){return y.createElement("svg",of({viewBox:"0 0 14 14",width:"1em",height:"1em"},a),y.createElement("polygon",{fill:"currentColor",points:"5.5 11.9993304 14 3.49933039 12.5 2 5.5 8.99933039 1.5 4.9968652 0 6.49933039"}))},null)),y.createElement("span",{style:{flex:1}},l.children))});Wf.id="MenuItemOption",A.Ts&&(Wf.displayName="MenuItemOption");var Xf=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n=a.className,o=a.title,p=pf(a,Kf),q=(void 0===(b=p)&&(b={}),(c=b).children,e=void 0===(d=c.type)?"radio":d,c.value,f=c.defaultValue,c.onChange,g=pf(c,tf),h=(0,C.Tx)({defaultValue:null!=f?f:"radio"===e?"":[],value:c.value,onChange:c.onChange}),i=h[0],j=h[1],k=y.useCallback(function(a){"radio"===e&&(0,A.HD)(i)&&j(a),"checkbox"===e&&(0,A.kJ)(i)&&j(i.includes(a)?(0,A.cl)(i,a):(0,A.jX)(i,a))},[i,j,e]),l=(0,B.WR)(c.children),m=l.map(function(a){if("MenuItemOption"!==a.type.id)return a;var b=function(b){k(a.props.value),null==a.props.onClick||a.props.onClick(b)},c="radio"===e?a.props.value===i:i.includes(a.props.value);return y.cloneElement(a,{type:e,onClick:b,isChecked:c})}),of({},g,{children:m}));return y.createElement(Yf,of({title:o,className:(0,A.cx)("chakra-menu__option-group",n)},q))};A.Ts&&(Xf.displayName="MenuOptionGroup");var Yf=(0,R.Gp)(function(a,b){var c=a.title,d=a.children,e=a.className,f=pf(a,Lf),g=(0,A.cx)("chakra-menu__group__title",e),h=(0,R.yK)();return y.createElement("div",{ref:b,className:"chakra-menu__group",role:"group"},c&&y.createElement(R.m$.p,of({className:g},f,{__css:h.groupTitle}),c),d)});A.Ts&&(Yf.displayName="MenuGroup");var Zf=(0,R.Gp)(function(a,b){var c=(0,R.yK)();return y.createElement(R.m$.span,of({ref:b},a,{__css:c.command,className:"chakra-menu__command"}))});A.Ts&&(Zf.displayName="MenuCommand");var $f=function(a){var b=a.className,c=a.children,d=pf(a,Mf),e=y.Children.only(c),f=y.isValidElement(e)?y.cloneElement(e,{focusable:"false","aria-hidden":!0,className:(0,A.cx)("chakra-menu__icon",e.props.className)}):null,g=(0,A.cx)("chakra-menu__icon-wrapper",b);return y.createElement(R.m$.span,of({className:g},d,{__css:{flexShrink:0}}),f)};A.Ts&&($f.displayName="MenuIcon");var _f=function(a){var b=a.className,c=pf(a,Nf),d=(0,R.yK)();return y.createElement(R.m$.hr,of({role:"separator","aria-orientation":"horizontal",className:(0,A.cx)("chakra-menu__divider",b)},c,{__css:d.divider}))};A.Ts&&(_f.displayName="MenuDivider");var ag=c(5193),bg=c(8485),cg=c(5675),dg=c(5934);function eg(){var a,b,c=(a=["\n    font-weight: bold;\n    font-size: 18px;\n    display: inline-flex;\n    align-items: center;\n    height: 30px;\n    line-height: 20px;\n    padding: 10px;\n\n    &:hover img {\n        transform: rotate(20deg);\n    }\n"],b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}})));return eg=function(){return c},c}var fg=dg.Z.span(eg()),gg=function(){var a="/images/coding".concat((0,S.ff)("-dark","-dark"),".png");return(0,x.jsx)(Bd.default,{href:"/",children:(0,x.jsx)("a",{children:(0,x.jsxs)(fg,{children:[(0,x.jsx)(cg.default,{src:a,width:30,height:30,alt:"logo"}),(0,x.jsx)(Cd.xv,{color:(0,S.ff)("gray.800","whiteAlpha.900"),fontFamily:"M PLUS ROUNDED 1c",fontWeight:"bold",ml:3,children:"Essohanam TAMBANA"})]})})})},hg=c(655),ig=c(9073),jg=c(5411),kg=c(240),lg=c(6681),mg=0;function ng(){var a=mg;return mg++,a}var og=function(a){var b=a.children,c=a.initial,d=a.isPresent,e=a.onExitComplete,f=a.custom,g=a.presenceAffectsLayout,h=(0,lg.h)(pg),i=(0,lg.h)(ng),j=(0,y.useMemo)(function(){return{id:i,initial:c,isPresent:d,custom:f,onExitComplete:function(a){var b,c;h.set(a,!0);try{for(var d=(0,hg.XA)(h.values()),f=d.next();!f.done;f=d.next())if(!f.value)return}catch(g){b={error:g}}finally{try{f&&!f.done&&(c=d.return)&&c.call(d)}finally{if(b)throw b.error}}null==e||e()},register:function(a){return h.set(a,!1),function(){return h.delete(a)}}}},g?void 0:[d]);return(0,y.useMemo)(function(){h.forEach(function(a,b){return h.set(b,!1)})},[d]),y.useEffect(function(){d||h.size||null==e||e()},[d]),y.createElement(kg.O.Provider,{value:j},b)};function pg(){return new Map()}var qg=c(5364);function rg(a){return a.key||""}var sg=function(a){var b,c,d,e,f,g=a.children,h=a.custom,i=a.initial,j=void 0===i||i,k=a.onExitComplete,l=a.exitBeforeEnter,m=a.presenceAffectsLayout,n=void 0===m||m,o=(0,hg.CR)((b=(0,y.useRef)(!1),d=(c=(0,hg.CR)((0,y.useState)(0),2))[0],e=c[1],(0,jg.z)(function(){return b.current=!0}),f=(0,y.useCallback)(function(){b.current||e(d+1)},[d]),[(0,y.useCallback)(function(){return ig.ZP.postRender(f)},[f]),d]),1),p=o[0],q=(0,y.useContext)(qg.p).forceRender;q&&(p=q);var r=(0,y.useRef)(!0),s=(0,y.useRef)(!0);(0,y.useEffect)(function(){return function(){s.current=!1}},[]);var t,u,v=(t=g,u=[],y.Children.forEach(t,function(a){(0,y.isValidElement)(a)&&u.push(a)}),u),w=(0,y.useRef)(v),x=(0,y.useRef)(new Map()).current,z=(0,y.useRef)(new Set()).current;if(!function(a,b){a.forEach(function(a){var c=rg(a);b.set(c,a)})}(v,x),r.current)return r.current=!1,y.createElement(y.Fragment,null,v.map(function(a){return y.createElement(og,{key:rg(a),isPresent:!0,initial:!!j&&void 0,presenceAffectsLayout:n},a)}));for(var A=(0,hg.ev)([],(0,hg.CR)(v),!1),B=w.current.map(rg),C=v.map(rg),D=B.length,E=0;E<D;E++){var F=B[E];-1===C.indexOf(F)?z.add(F):z.delete(F)}return l&&z.size&&(A=[]),z.forEach(function(a){if(-1===C.indexOf(a)){var b=x.get(a);if(b){var c=B.indexOf(a),d=function(){x.delete(a),z.delete(a);var b=w.current.findIndex(function(b){return b.key===a});if(w.current.splice(b,1),!z.size){if(w.current=v,!1===s.current)return;p(),k&&k()}};A.splice(c,0,y.createElement(og,{key:rg(b),isPresent:!1,onExitComplete:d,custom:h,presenceAffectsLayout:n},b))}}}),A=A.map(function(a){var b=a.key;return z.has(b)?a:y.createElement(og,{key:rg(a),isPresent:!0,presenceAffectsLayout:n},a)}),w.current=A,y.createElement(y.Fragment,null,z.size?A:A.map(function(a){return(0,y.cloneElement)(a)}))},tg=function(){var a=(0,S.If)().toggleColorMode;return(0,x.jsx)(sg,{exitBeforeEnter:!0,initial:!1,children:(0,x.jsx)(Dd.E.div,{style:{display:"inline-block"},initial:{y:-20,opacity:0},animate:{y:0,opacity:1},exit:{y:20,opacity:0},transition:{duration:0.2},children:(0,x.jsx)(ag.hU,{"aria-label":"Toggle theme",colorScheme:(0,S.ff)("purple","orange"),icon:(0,S.ff)((0,x.jsx)(bg.kL,{}),(0,x.jsx)(bg.NW,{})),onClick:a})},(0,S.ff)("light","dark"))})};function ug(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var vg=function(a){var b=a.href,c=a.path,d=a.children,e=c===b,f=(0,S.ff)("gray200","whiteAlpha.900");return(0,x.jsx)(Bd.default,{href:b,children:(0,x.jsx)(Cd.rU,{p:2,bg:e?"glassTeal":void 0,color:e?"#202023":f,children:d})})},wg=function(a){var b=a.path;return(0,x.jsx)(Cd.xu,function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){ug(a,b,c[b])})}return a}({position:"fixed",as:"nav",w:"100%",bg:(0,S.ff)("#ffffff40","#20202380"),style:{backdropFilter:"blur(10px)"},zIndex:1},a,{children:(0,x.jsxs)(Cd.W2,{display:"flex",p:2,maxW:"container.md",wrap:"wrap",align:"center",justify:"space-between",children:[(0,x.jsx)(Cd.kC,{align:"center",mr:5,children:(0,x.jsx)(Cd.X6,{as:"h1",size:"lg",letterSpacing:"tighter",children:(0,x.jsx)(gg,{})})}),(0,x.jsxs)(Cd.Kq,{direction:{base:"column",md:"row"},display:{base:"none",md:"flex"},width:{base:"full",md:"auto"},alignItems:"center",flexGrow:1,mt:{base:4,nmd:0},children:[(0,x.jsx)(vg,{href:"/works",path:b,children:"Works"}),(0,x.jsx)(vg,{href:"/posts",path:b,children:"Posts"}),(0,x.jsx)(vg,{href:"#contact",path:b,children:"Contact Me"})]}),(0,x.jsxs)(Cd.xu,{flex:1,align:"right",children:[(0,x.jsx)(tg,{}),(0,x.jsx)(Cd.xu,{ml:2,display:{base:"inline-block",md:"none"},children:(0,x.jsxs)(Of,{children:[(0,x.jsx)(Qf,{as:ag.hU,icon:(0,x.jsx)(bg.Uq,{}),variant:"outline","aria-label":"Options"}),(0,x.jsxs)(Tf,{children:[(0,x.jsx)(Bd.default,{href:"/posts",passHref:!0,children:(0,x.jsx)(Vf,{as:Cd.rU,children:"Posts"})}),(0,x.jsx)(Bd.default,{href:"/works",passHref:!0,children:(0,x.jsx)(Vf,{as:Cd.rU,children:"Works"})}),(0,x.jsx)(Bd.default,{href:"#contact",passHref:!0,children:(0,x.jsx)(Vf,{as:Cd.rU,children:"Contact Me"})})]})]})})]})]})}))},xg=(0,c(5152).default)(function(){return Promise.resolve(function(a){return(0,x.jsx)(x.Fragment,{children:a.children})})},{ssr:!1}),yg=c(9238);const zg=1,Ag="300 es";class Bg{addEventListener(Cg,Dg){void 0===this._listeners&&(this._listeners={});const Eg=this._listeners;void 0===Eg[Cg]&&(Eg[Cg]=[]),-1===Eg[Cg].indexOf(Dg)&&Eg[Cg].push(Dg)}hasEventListener(Fg,Gg){if(void 0===this._listeners)return!1;const Hg=this._listeners;return void 0!==Hg[Fg]&& -1!==Hg[Fg].indexOf(Gg)}removeEventListener(Ig,Jg){if(void 0!==this._listeners){const Kg=this._listeners,Lg=Kg[Ig];if(void 0!==Lg){const Mg=Lg.indexOf(Jg);-1!==Mg&&Lg.splice(Mg,1)}}}dispatchEvent(Ng){if(void 0!==this._listeners){const Og=this._listeners,Pg=Og[Ng.type];if(void 0!==Pg){Ng.target=this;const Qg=Pg.slice(0);for(let Rg=0,Sg=Qg.length;Rg<Sg;Rg++)Qg[Rg].call(this,Ng);Ng.target=null}}}}const Tg=[];for(let Ug=0;Ug<256;Ug++)Tg[Ug]=(Ug<16?"0":"")+Ug.toString(16);let Vg=1234567;const Wg=Math.PI/180,Xg=180/Math.PI;function Yg(){const a=4294967295*Math.random()|0,b=4294967295*Math.random()|0,c=4294967295*Math.random()|0,d=4294967295*Math.random()|0,e=Tg[255&a]+Tg[a>>8&255]+Tg[a>>16&255]+Tg[a>>24&255]+"-"+Tg[255&b]+Tg[b>>8&255]+"-"+Tg[b>>16&15|64]+Tg[b>>24&255]+"-"+Tg[63&c|128]+Tg[c>>8&255]+"-"+Tg[c>>16&255]+Tg[c>>24&255]+Tg[255&d]+Tg[d>>8&255]+Tg[d>>16&255]+Tg[d>>24&255];return e.toUpperCase()}function Zg(a,b,c){return Math.max(b,Math.min(c,a))}function $g(a,b){return(a%b+b)%b}function _g(a,b,c){return(1-c)*a+c*b}function ah(a){return(a&a-1)==0&&0!==a}function bh(a){return Math.pow(2,Math.ceil(Math.log(a)/Math.LN2))}function ch(a){return Math.pow(2,Math.floor(Math.log(a)/Math.LN2))}var dh=Object.freeze({__proto__:null,DEG2RAD:Wg,RAD2DEG:Xg,generateUUID:Yg,clamp:Zg,euclideanModulo:$g,mapLinear:function(a,b,c,d,e){return d+(a-b)*(e-d)/(c-b)},inverseLerp:function(a,b,c){return a!==b?(c-a)/(b-a):0},lerp:_g,damp:function(a,b,c,d){return _g(a,b,1-Math.exp(-c*d))},pingpong:function(a,b=1){return b-Math.abs($g(a,2*b)-b)},smoothstep:function(a,b,c){return a<=b?0:a>=c?1:(a=(a-b)/(c-b))*a*(3-2*a)},smootherstep:function(a,b,c){return a<=b?0:a>=c?1:(a=(a-b)/(c-b))*a*a*(a*(6*a-15)+10)},randInt:function(a,b){return a+Math.floor(Math.random()*(b-a+1))},randFloat:function(a,b){return a+Math.random()*(b-a)},randFloatSpread:function(a){return a*(0.5-Math.random())},seededRandom:function(a){return void 0!==a&&(Vg=a%2147483647),((Vg=16807*Vg%2147483647)-1)/2147483646},degToRad:function(a){return a*Wg},radToDeg:function(a){return a*Xg},isPowerOfTwo:ah,ceilPowerOfTwo:bh,floorPowerOfTwo:ch,setQuaternionFromProperEuler:function(a,b,c,d,e){const f=Math.cos,g=Math.sin,h=f(c/2),i=g(c/2),j=f((b+d)/2),k=g((b+d)/2),l=f((b-d)/2),m=g((b-d)/2),n=f((d-b)/2),o=g((d-b)/2);switch(e){case"XYX":a.set(h*k,i*l,i*m,h*j);break;case"YZY":a.set(i*m,h*k,i*l,h*j);break;case"ZXZ":a.set(i*l,i*m,h*k,h*j);break;case"XZX":a.set(h*k,i*o,i*n,h*j);break;case"YXY":a.set(i*n,h*k,i*o,h*j);break;case"ZYZ":a.set(i*o,i*n,h*k,h*j);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+e)}}});class eh{constructor(fh=0,gh=0){this.x=fh,this.y=gh}get width(){return this.x}set width(hh){this.x=hh}get height(){return this.y}set height(ih){this.y=ih}set(jh,kh){return this.x=jh,this.y=kh,this}setScalar(lh){return this.x=lh,this.y=lh,this}setX(mh){return this.x=mh,this}setY(nh){return this.y=nh,this}setComponent(oh,ph){switch(oh){case 0:this.x=ph;break;case 1:this.y=ph;break;default:throw new Error("index is out of range: "+oh)}return this}getComponent(qh){switch(qh){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+qh)}}clone(){return new this.constructor(this.x,this.y)}copy(rh){return this.x=rh.x,this.y=rh.y,this}add(sh,th){return void 0!==th?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(sh,th)):(this.x+=sh.x,this.y+=sh.y,this)}addScalar(uh){return this.x+=uh,this.y+=uh,this}addVectors(vh,wh){return this.x=vh.x+wh.x,this.y=vh.y+wh.y,this}addScaledVector(xh,yh){return this.x+=xh.x*yh,this.y+=xh.y*yh,this}sub(zh,Ah){return void 0!==Ah?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(zh,Ah)):(this.x-=zh.x,this.y-=zh.y,this)}subScalar(Bh){return this.x-=Bh,this.y-=Bh,this}subVectors(Ch,Dh){return this.x=Ch.x-Dh.x,this.y=Ch.y-Dh.y,this}multiply(Eh){return this.x*=Eh.x,this.y*=Eh.y,this}multiplyScalar(Fh){return this.x*=Fh,this.y*=Fh,this}divide(Gh){return this.x/=Gh.x,this.y/=Gh.y,this}divideScalar(Hh){return this.multiplyScalar(1/Hh)}applyMatrix3(Ih){const Jh=this.x,Kh=this.y,Lh=Ih.elements;return this.x=Lh[0]*Jh+Lh[3]*Kh+Lh[6],this.y=Lh[1]*Jh+Lh[4]*Kh+Lh[7],this}min(Mh){return this.x=Math.min(this.x,Mh.x),this.y=Math.min(this.y,Mh.y),this}max(Nh){return this.x=Math.max(this.x,Nh.x),this.y=Math.max(this.y,Nh.y),this}clamp(Oh,Ph){return this.x=Math.max(Oh.x,Math.min(Ph.x,this.x)),this.y=Math.max(Oh.y,Math.min(Ph.y,this.y)),this}clampScalar(Qh,Rh){return this.x=Math.max(Qh,Math.min(Rh,this.x)),this.y=Math.max(Qh,Math.min(Rh,this.y)),this}clampLength(Sh,Th){const Uh=this.length();return this.divideScalar(Uh||1).multiplyScalar(Math.max(Sh,Math.min(Th,Uh)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(Vh){return this.x*Vh.x+this.y*Vh.y}cross(Wh){return this.x*Wh.y-this.y*Wh.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){const Xh=Math.atan2(-this.y,-this.x)+Math.PI;return Xh}distanceTo(Yh){return Math.sqrt(this.distanceToSquared(Yh))}distanceToSquared(Zh){const $h=this.x-Zh.x,_h=this.y-Zh.y;return $h*$h+_h*_h}manhattanDistanceTo(ai){return Math.abs(this.x-ai.x)+Math.abs(this.y-ai.y)}setLength(bi){return this.normalize().multiplyScalar(bi)}lerp(ci,di){return this.x+=(ci.x-this.x)*di,this.y+=(ci.y-this.y)*di,this}lerpVectors(ei,fi,gi){return this.x=ei.x+(fi.x-ei.x)*gi,this.y=ei.y+(fi.y-ei.y)*gi,this}equals(hi){return hi.x===this.x&&hi.y===this.y}fromArray(ii,ji=0){return this.x=ii[ji],this.y=ii[ji+1],this}toArray(ki=[],li=0){return ki[li]=this.x,ki[li+1]=this.y,ki}fromBufferAttribute(mi,ni,oi){return void 0!==oi&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=mi.getX(ni),this.y=mi.getY(ni),this}rotateAround(pi,qi){const ri=Math.cos(qi),si=Math.sin(qi),ti=this.x-pi.x,ui=this.y-pi.y;return this.x=ti*ri-ui*si+pi.x,this.y=ti*si+ui*ri+pi.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}eh.prototype.isVector2=!0;class vi{constructor(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(wi,xi,yi,zi,Ai,Bi,Ci,Di,Ei){const Fi=this.elements;return Fi[0]=wi,Fi[1]=zi,Fi[2]=Ci,Fi[3]=xi,Fi[4]=Ai,Fi[5]=Di,Fi[6]=yi,Fi[7]=Bi,Fi[8]=Ei,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(Gi){const Hi=this.elements,Ii=Gi.elements;return Hi[0]=Ii[0],Hi[1]=Ii[1],Hi[2]=Ii[2],Hi[3]=Ii[3],Hi[4]=Ii[4],Hi[5]=Ii[5],Hi[6]=Ii[6],Hi[7]=Ii[7],Hi[8]=Ii[8],this}extractBasis(Ji,Ki,Li){return Ji.setFromMatrix3Column(this,0),Ki.setFromMatrix3Column(this,1),Li.setFromMatrix3Column(this,2),this}setFromMatrix4(Mi){const Ni=Mi.elements;return this.set(Ni[0],Ni[4],Ni[8],Ni[1],Ni[5],Ni[9],Ni[2],Ni[6],Ni[10]),this}multiply(Oi){return this.multiplyMatrices(this,Oi)}premultiply(Pi){return this.multiplyMatrices(Pi,this)}multiplyMatrices(Qi,Ri){const Si=Qi.elements,Ti=Ri.elements,Ui=this.elements,Vi=Si[0],Wi=Si[3],Xi=Si[6],Yi=Si[1],Zi=Si[4],$i=Si[7],_i=Si[2],aj=Si[5],bj=Si[8],cj=Ti[0],dj=Ti[3],ej=Ti[6],fj=Ti[1],gj=Ti[4],hj=Ti[7],ij=Ti[2],jj=Ti[5],kj=Ti[8];return Ui[0]=Vi*cj+Wi*fj+Xi*ij,Ui[3]=Vi*dj+Wi*gj+Xi*jj,Ui[6]=Vi*ej+Wi*hj+Xi*kj,Ui[1]=Yi*cj+Zi*fj+$i*ij,Ui[4]=Yi*dj+Zi*gj+$i*jj,Ui[7]=Yi*ej+Zi*hj+$i*kj,Ui[2]=_i*cj+aj*fj+bj*ij,Ui[5]=_i*dj+aj*gj+bj*jj,Ui[8]=_i*ej+aj*hj+bj*kj,this}multiplyScalar(lj){const mj=this.elements;return mj[0]*=lj,mj[3]*=lj,mj[6]*=lj,mj[1]*=lj,mj[4]*=lj,mj[7]*=lj,mj[2]*=lj,mj[5]*=lj,mj[8]*=lj,this}determinant(){const nj=this.elements,oj=nj[0],pj=nj[1],qj=nj[2],rj=nj[3],sj=nj[4],tj=nj[5],uj=nj[6],vj=nj[7],wj=nj[8];return oj*sj*wj-oj*tj*vj-pj*rj*wj+pj*tj*uj+qj*rj*vj-qj*sj*uj}invert(){const xj=this.elements,yj=xj[0],zj=xj[1],Aj=xj[2],Bj=xj[3],Cj=xj[4],Dj=xj[5],Ej=xj[6],Fj=xj[7],Gj=xj[8],Hj=Gj*Cj-Dj*Fj,Ij=Dj*Ej-Gj*Bj,Jj=Fj*Bj-Cj*Ej,Kj=yj*Hj+zj*Ij+Aj*Jj;if(0===Kj)return this.set(0,0,0,0,0,0,0,0,0);const Lj=1/Kj;return xj[0]=Hj*Lj,xj[1]=(Aj*Fj-Gj*zj)*Lj,xj[2]=(Dj*zj-Aj*Cj)*Lj,xj[3]=Ij*Lj,xj[4]=(Gj*yj-Aj*Ej)*Lj,xj[5]=(Aj*Bj-Dj*yj)*Lj,xj[6]=Jj*Lj,xj[7]=(zj*Ej-Fj*yj)*Lj,xj[8]=(Cj*yj-zj*Bj)*Lj,this}transpose(){let Mj;const Nj=this.elements;return Mj=Nj[1],Nj[1]=Nj[3],Nj[3]=Mj,Mj=Nj[2],Nj[2]=Nj[6],Nj[6]=Mj,Mj=Nj[5],Nj[5]=Nj[7],Nj[7]=Mj,this}getNormalMatrix(Oj){return this.setFromMatrix4(Oj).invert().transpose()}transposeIntoArray(Pj){const Qj=this.elements;return Pj[0]=Qj[0],Pj[1]=Qj[3],Pj[2]=Qj[6],Pj[3]=Qj[1],Pj[4]=Qj[4],Pj[5]=Qj[7],Pj[6]=Qj[2],Pj[7]=Qj[5],Pj[8]=Qj[8],this}setUvTransform(Rj,Sj,Tj,Uj,Vj,Wj,Xj){const Yj=Math.cos(Vj),Zj=Math.sin(Vj);return this.set(Tj*Yj,Tj*Zj,-Tj*(Yj*Wj+Zj*Xj)+Wj+Rj,-Uj*Zj,Uj*Yj,-Uj*(-Zj*Wj+Yj*Xj)+Xj+Sj,0,0,1),this}scale($j,_j){const ak=this.elements;return ak[0]*=$j,ak[3]*=$j,ak[6]*=$j,ak[1]*=_j,ak[4]*=_j,ak[7]*=_j,this}rotate(bk){const ck=Math.cos(bk),dk=Math.sin(bk),ek=this.elements,fk=ek[0],gk=ek[3],hk=ek[6],ik=ek[1],jk=ek[4],kk=ek[7];return ek[0]=ck*fk+dk*ik,ek[3]=ck*gk+dk*jk,ek[6]=ck*hk+dk*kk,ek[1]=-dk*fk+ck*ik,ek[4]=-dk*gk+ck*jk,ek[7]=-dk*hk+ck*kk,this}translate(lk,mk){const nk=this.elements;return nk[0]+=lk*nk[2],nk[3]+=lk*nk[5],nk[6]+=lk*nk[8],nk[1]+=mk*nk[2],nk[4]+=mk*nk[5],nk[7]+=mk*nk[8],this}equals(ok){const pk=this.elements,qk=ok.elements;for(let rk=0;rk<9;rk++)if(pk[rk]!==qk[rk])return!1;return!0}fromArray(sk,tk=0){for(let uk=0;uk<9;uk++)this.elements[uk]=sk[uk+tk];return this}toArray(vk=[],wk=0){const xk=this.elements;return vk[wk]=xk[0],vk[wk+1]=xk[1],vk[wk+2]=xk[2],vk[wk+3]=xk[3],vk[wk+4]=xk[4],vk[wk+5]=xk[5],vk[wk+6]=xk[6],vk[wk+7]=xk[7],vk[wk+8]=xk[8],vk}clone(){return new this.constructor().fromArray(this.elements)}}function yk(a){if(0===a.length)return-1/0;let b=a[0];for(let c=1,d=a.length;c<d;++c)a[c]>b&&(b=a[c]);return b}function zk(a){return document.createElementNS("http://www.w3.org/1999/xhtml",a)}function Ak(a,b=0){let c=3735928559^b,d=1103547991^b;for(let e=0,f;e<a.length;e++)c=Math.imul(c^(f=a.charCodeAt(e)),2654435761),d=Math.imul(d^f,1597334677);return c=Math.imul(c^c>>>16,2246822507)^Math.imul(d^d>>>13,3266489909),d=Math.imul(d^d>>>16,2246822507)^Math.imul(c^c>>>13,3266489909),4294967296*(2097151&d)+(c>>>0)}vi.prototype.isMatrix3=!0;let Bk;class Ck{static getDataURL(Dk){if(/^data:/i.test(Dk.src))return Dk.src;if("undefined"==typeof HTMLCanvasElement)return Dk.src;let Ek;if(Dk instanceof HTMLCanvasElement)Ek=Dk;else{void 0===Bk&&(Bk=zk("canvas")),Bk.width=Dk.width,Bk.height=Dk.height;const Fk=Bk.getContext("2d");Dk instanceof ImageData?Fk.putImageData(Dk,0,0):Fk.drawImage(Dk,0,0,Dk.width,Dk.height),Ek=Bk}return Ek.width>2048||Ek.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",Dk),Ek.toDataURL("image/jpeg",0.6)):Ek.toDataURL("image/png")}}let Gk=0;class Hk extends Bg{constructor(Ik=Hk.DEFAULT_IMAGE,Jk=Hk.DEFAULT_MAPPING,Kk=1001,Lk=1001,Mk=1006,Nk=1008,Ok=1023,Pk=1009,Qk=1,Rk=3000){super(),Object.defineProperty(this,"id",{value:Gk++}),this.uuid=Yg(),this.name="",this.image=Ik,this.mipmaps=[],this.mapping=Jk,this.wrapS=Kk,this.wrapT=Lk,this.magFilter=Mk,this.minFilter=Nk,this.anisotropy=Qk,this.format=Ok,this.internalFormat=null,this.type=Pk,this.offset=new eh(0,0),this.repeat=new eh(1,1),this.center=new eh(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new vi(),this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=Rk,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(Sk){return this.name=Sk.name,this.image=Sk.image,this.mipmaps=Sk.mipmaps.slice(0),this.mapping=Sk.mapping,this.wrapS=Sk.wrapS,this.wrapT=Sk.wrapT,this.magFilter=Sk.magFilter,this.minFilter=Sk.minFilter,this.anisotropy=Sk.anisotropy,this.format=Sk.format,this.internalFormat=Sk.internalFormat,this.type=Sk.type,this.offset.copy(Sk.offset),this.repeat.copy(Sk.repeat),this.center.copy(Sk.center),this.rotation=Sk.rotation,this.matrixAutoUpdate=Sk.matrixAutoUpdate,this.matrix.copy(Sk.matrix),this.generateMipmaps=Sk.generateMipmaps,this.premultiplyAlpha=Sk.premultiplyAlpha,this.flipY=Sk.flipY,this.unpackAlignment=Sk.unpackAlignment,this.encoding=Sk.encoding,this.userData=JSON.parse(JSON.stringify(Sk.userData)),this}toJSON(Tk){const Uk=void 0===Tk||"string"==typeof Tk;if(!Uk&& void 0!==Tk.textures[this.uuid])return Tk.textures[this.uuid];const Vk={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){const Wk=this.image;if(void 0===Wk.uuid&&(Wk.uuid=Yg()),!Uk&& void 0===Tk.images[Wk.uuid]){let Xk;if(Array.isArray(Wk)){Xk=[];for(let Yk=0,Zk=Wk.length;Yk<Zk;Yk++)Wk[Yk].isDataTexture?Xk.push(al(Wk[Yk].image)):Xk.push(al(Wk[Yk]))}else Xk=al(Wk);Tk.images[Wk.uuid]={uuid:Wk.uuid,url:Xk}}Vk.image=Wk.uuid}return"{}"!==JSON.stringify(this.userData)&&(Vk.userData=this.userData),Uk||(Tk.textures[this.uuid]=Vk),Vk}dispose(){this.dispatchEvent({type:"dispose"})}transformUv($k){if(300!==this.mapping)return $k;if($k.applyMatrix3(this.matrix),$k.x<0||$k.x>1)switch(this.wrapS){case 1000:$k.x=$k.x-Math.floor($k.x);break;case 1001:$k.x=$k.x<0?0:1;break;case 1002:1===Math.abs(Math.floor($k.x)%2)?$k.x=Math.ceil($k.x)-$k.x:$k.x=$k.x-Math.floor($k.x);break}if($k.y<0||$k.y>1)switch(this.wrapT){case 1000:$k.y=$k.y-Math.floor($k.y);break;case 1001:$k.y=$k.y<0?0:1;break;case 1002:1===Math.abs(Math.floor($k.y)%2)?$k.y=Math.ceil($k.y)-$k.y:$k.y=$k.y-Math.floor($k.y);break}return this.flipY&&($k.y=1-$k.y),$k}set needsUpdate(_k){!0===_k&&this.version++}}function al(a){return"undefined"!=typeof HTMLImageElement&&a instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&a instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&a instanceof ImageBitmap?Ck.getDataURL(a):a.data?{data:Array.prototype.slice.call(a.data),width:a.width,height:a.height,type:a.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}Hk.DEFAULT_IMAGE=void 0,Hk.DEFAULT_MAPPING=300,Hk.prototype.isTexture=!0;class bl{constructor(cl=0,dl=0,el=0,fl=1){this.x=cl,this.y=dl,this.z=el,this.w=fl}get width(){return this.z}set width(gl){this.z=gl}get height(){return this.w}set height(hl){this.w=hl}set(il,jl,kl,ll){return this.x=il,this.y=jl,this.z=kl,this.w=ll,this}setScalar(ml){return this.x=ml,this.y=ml,this.z=ml,this.w=ml,this}setX(nl){return this.x=nl,this}setY(ol){return this.y=ol,this}setZ(pl){return this.z=pl,this}setW(ql){return this.w=ql,this}setComponent(rl,sl){switch(rl){case 0:this.x=sl;break;case 1:this.y=sl;break;case 2:this.z=sl;break;case 3:this.w=sl;break;default:throw new Error("index is out of range: "+rl)}return this}getComponent(tl){switch(tl){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+tl)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(ul){return this.x=ul.x,this.y=ul.y,this.z=ul.z,this.w=void 0!==ul.w?ul.w:1,this}add(vl,wl){return void 0!==wl?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(vl,wl)):(this.x+=vl.x,this.y+=vl.y,this.z+=vl.z,this.w+=vl.w,this)}addScalar(xl){return this.x+=xl,this.y+=xl,this.z+=xl,this.w+=xl,this}addVectors(yl,zl){return this.x=yl.x+zl.x,this.y=yl.y+zl.y,this.z=yl.z+zl.z,this.w=yl.w+zl.w,this}addScaledVector(Al,Bl){return this.x+=Al.x*Bl,this.y+=Al.y*Bl,this.z+=Al.z*Bl,this.w+=Al.w*Bl,this}sub(Cl,Dl){return void 0!==Dl?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(Cl,Dl)):(this.x-=Cl.x,this.y-=Cl.y,this.z-=Cl.z,this.w-=Cl.w,this)}subScalar(El){return this.x-=El,this.y-=El,this.z-=El,this.w-=El,this}subVectors(Fl,Gl){return this.x=Fl.x-Gl.x,this.y=Fl.y-Gl.y,this.z=Fl.z-Gl.z,this.w=Fl.w-Gl.w,this}multiply(Hl){return this.x*=Hl.x,this.y*=Hl.y,this.z*=Hl.z,this.w*=Hl.w,this}multiplyScalar(Il){return this.x*=Il,this.y*=Il,this.z*=Il,this.w*=Il,this}applyMatrix4(Jl){const Kl=this.x,Ll=this.y,Ml=this.z,Nl=this.w,Ol=Jl.elements;return this.x=Ol[0]*Kl+Ol[4]*Ll+Ol[8]*Ml+Ol[12]*Nl,this.y=Ol[1]*Kl+Ol[5]*Ll+Ol[9]*Ml+Ol[13]*Nl,this.z=Ol[2]*Kl+Ol[6]*Ll+Ol[10]*Ml+Ol[14]*Nl,this.w=Ol[3]*Kl+Ol[7]*Ll+Ol[11]*Ml+Ol[15]*Nl,this}divideScalar(Pl){return this.multiplyScalar(1/Pl)}setAxisAngleFromQuaternion(Ql){this.w=2*Math.acos(Ql.w);const Rl=Math.sqrt(1-Ql.w*Ql.w);return Rl<0.0001?(this.x=1,this.y=0,this.z=0):(this.x=Ql.x/Rl,this.y=Ql.y/Rl,this.z=Ql.z/Rl),this}setAxisAngleFromRotationMatrix(Sl){let Tl,Ul,Vl,Wl;const Xl=Sl.elements,Yl=Xl[0],Zl=Xl[4],$l=Xl[8],_l=Xl[1],am=Xl[5],bm=Xl[9],cm=Xl[2],dm=Xl[6],em=Xl[10];if(0.01>Math.abs(Zl-_l)&&0.01>Math.abs($l-cm)&&0.01>Math.abs(bm-dm)){if(0.1>Math.abs(Zl+_l)&&0.1>Math.abs($l+cm)&&0.1>Math.abs(bm+dm)&&0.1>Math.abs(Yl+am+em-3))return this.set(1,0,0,0),this;Tl=Math.PI;const fm=(Yl+1)/2,gm=(am+1)/2,hm=(em+1)/2,im=(Zl+_l)/4,jm=($l+cm)/4,km=(bm+dm)/4;return fm>gm&&fm>hm?fm<0.01?(Ul=0,Vl=0.707106781,Wl=0.707106781):(Vl=im/(Ul=Math.sqrt(fm)),Wl=jm/Ul):gm>hm?gm<0.01?(Ul=0.707106781,Vl=0,Wl=0.707106781):(Ul=im/(Vl=Math.sqrt(gm)),Wl=km/Vl):hm<0.01?(Ul=0.707106781,Vl=0.707106781,Wl=0):(Ul=jm/(Wl=Math.sqrt(hm)),Vl=km/Wl),this.set(Ul,Vl,Wl,Tl),this}let lm=Math.sqrt((dm-bm)*(dm-bm)+($l-cm)*($l-cm)+(_l-Zl)*(_l-Zl));return 0.001>Math.abs(lm)&&(lm=1),this.x=(dm-bm)/lm,this.y=($l-cm)/lm,this.z=(_l-Zl)/lm,this.w=Math.acos((Yl+am+em-1)/2),this}min(mm){return this.x=Math.min(this.x,mm.x),this.y=Math.min(this.y,mm.y),this.z=Math.min(this.z,mm.z),this.w=Math.min(this.w,mm.w),this}max(nm){return this.x=Math.max(this.x,nm.x),this.y=Math.max(this.y,nm.y),this.z=Math.max(this.z,nm.z),this.w=Math.max(this.w,nm.w),this}clamp(om,pm){return this.x=Math.max(om.x,Math.min(pm.x,this.x)),this.y=Math.max(om.y,Math.min(pm.y,this.y)),this.z=Math.max(om.z,Math.min(pm.z,this.z)),this.w=Math.max(om.w,Math.min(pm.w,this.w)),this}clampScalar(qm,rm){return this.x=Math.max(qm,Math.min(rm,this.x)),this.y=Math.max(qm,Math.min(rm,this.y)),this.z=Math.max(qm,Math.min(rm,this.z)),this.w=Math.max(qm,Math.min(rm,this.w)),this}clampLength(sm,tm){const um=this.length();return this.divideScalar(um||1).multiplyScalar(Math.max(sm,Math.min(tm,um)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(vm){return this.x*vm.x+this.y*vm.y+this.z*vm.z+this.w*vm.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(wm){return this.normalize().multiplyScalar(wm)}lerp(xm,ym){return this.x+=(xm.x-this.x)*ym,this.y+=(xm.y-this.y)*ym,this.z+=(xm.z-this.z)*ym,this.w+=(xm.w-this.w)*ym,this}lerpVectors(zm,Am,Bm){return this.x=zm.x+(Am.x-zm.x)*Bm,this.y=zm.y+(Am.y-zm.y)*Bm,this.z=zm.z+(Am.z-zm.z)*Bm,this.w=zm.w+(Am.w-zm.w)*Bm,this}equals(Cm){return Cm.x===this.x&&Cm.y===this.y&&Cm.z===this.z&&Cm.w===this.w}fromArray(Dm,Em=0){return this.x=Dm[Em],this.y=Dm[Em+1],this.z=Dm[Em+2],this.w=Dm[Em+3],this}toArray(Fm=[],Gm=0){return Fm[Gm]=this.x,Fm[Gm+1]=this.y,Fm[Gm+2]=this.z,Fm[Gm+3]=this.w,Fm}fromBufferAttribute(Hm,Im,Jm){return void 0!==Jm&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=Hm.getX(Im),this.y=Hm.getY(Im),this.z=Hm.getZ(Im),this.w=Hm.getW(Im),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}bl.prototype.isVector4=!0;class Km extends Bg{constructor(Lm,Mm,Nm={}){super(),this.width=Lm,this.height=Mm,this.depth=1,this.scissor=new bl(0,0,Lm,Mm),this.scissorTest=!1,this.viewport=new bl(0,0,Lm,Mm),this.texture=new Hk(void 0,Nm.mapping,Nm.wrapS,Nm.wrapT,Nm.magFilter,Nm.minFilter,Nm.format,Nm.type,Nm.anisotropy,Nm.encoding),this.texture.isRenderTargetTexture=!0,this.texture.image={width:Lm,height:Mm,depth:1},this.texture.generateMipmaps=void 0!==Nm.generateMipmaps&&Nm.generateMipmaps,this.texture.internalFormat=void 0!==Nm.internalFormat?Nm.internalFormat:null,this.texture.minFilter=void 0!==Nm.minFilter?Nm.minFilter:1006,this.depthBuffer=void 0===Nm.depthBuffer||Nm.depthBuffer,this.stencilBuffer=void 0!==Nm.stencilBuffer&&Nm.stencilBuffer,this.depthTexture=void 0!==Nm.depthTexture?Nm.depthTexture:null}setTexture(Om){Om.image={width:this.width,height:this.height,depth:this.depth},this.texture=Om}setSize(Pm,Qm,Rm=1){(this.width!==Pm||this.height!==Qm||this.depth!==Rm)&&(this.width=Pm,this.height=Qm,this.depth=Rm,this.texture.image.width=Pm,this.texture.image.height=Qm,this.texture.image.depth=Rm,this.dispose()),this.viewport.set(0,0,Pm,Qm),this.scissor.set(0,0,Pm,Qm)}clone(){return new this.constructor().copy(this)}copy(Sm){return this.width=Sm.width,this.height=Sm.height,this.depth=Sm.depth,this.viewport.copy(Sm.viewport),this.texture=Sm.texture.clone(),this.texture.image={...this.texture.image},this.depthBuffer=Sm.depthBuffer,this.stencilBuffer=Sm.stencilBuffer,this.depthTexture=Sm.depthTexture,this}dispose(){this.dispatchEvent({type:"dispose"})}}Km.prototype.isWebGLRenderTarget=!0,(class extends Km{constructor(Tm,Um,Vm){super(Tm,Um);const Wm=this.texture;this.texture=[];for(let Xm=0;Xm<Vm;Xm++)this.texture[Xm]=Wm.clone()}setSize(Ym,Zm,$m=1){if(this.width!==Ym||this.height!==Zm||this.depth!==$m){this.width=Ym,this.height=Zm,this.depth=$m;for(let _m=0,an=this.texture.length;_m<an;_m++)this.texture[_m].image.width=Ym,this.texture[_m].image.height=Zm,this.texture[_m].image.depth=$m;this.dispose()}return this.viewport.set(0,0,Ym,Zm),this.scissor.set(0,0,Ym,Zm),this}copy(bn){this.dispose(),this.width=bn.width,this.height=bn.height,this.depth=bn.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=bn.depthBuffer,this.stencilBuffer=bn.stencilBuffer,this.depthTexture=bn.depthTexture,this.texture.length=0;for(let cn=0,dn=bn.texture.length;cn<dn;cn++)this.texture[cn]=bn.texture[cn].clone();return this}}).prototype.isWebGLMultipleRenderTargets=!0;class en extends Km{constructor(fn,gn,hn={}){super(fn,gn,hn),this.samples=4,this.ignoreDepthForMultisampleCopy=void 0===hn.ignoreDepth||hn.ignoreDepth,this.useRenderToTexture=void 0!==hn.useRenderToTexture&&hn.useRenderToTexture,this.useRenderbuffer=!1===this.useRenderToTexture}copy(jn){return super.copy.call(this,jn),this.samples=jn.samples,this.useRenderToTexture=jn.useRenderToTexture,this.useRenderbuffer=jn.useRenderbuffer,this}}en.prototype.isWebGLMultisampleRenderTarget=!0;class kn{constructor(ln=0,mn=0,nn=0,on=1){this._x=ln,this._y=mn,this._z=nn,this._w=on}static slerp(pn,qn,rn,sn){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),rn.slerpQuaternions(pn,qn,sn)}static slerpFlat(tn,un,vn,wn,xn,yn,zn){let An=vn[wn+0],Bn=vn[wn+1],Cn=vn[wn+2],Dn=vn[wn+3];const En=xn[yn+0],Fn=xn[yn+1],Gn=xn[yn+2],Hn=xn[yn+3];if(0===zn){tn[un+0]=An,tn[un+1]=Bn,tn[un+2]=Cn,tn[un+3]=Dn;return}if(1===zn){tn[un+0]=En,tn[un+1]=Fn,tn[un+2]=Gn,tn[un+3]=Hn;return}if(Dn!==Hn||An!==En||Bn!==Fn||Cn!==Gn){let In=1-zn;const Jn=An*En+Bn*Fn+Cn*Gn+Dn*Hn,Kn=Jn>=0?1:-1,Ln=1-Jn*Jn;if(Ln>Number.EPSILON){const Mn=Math.sqrt(Ln),Nn=Math.atan2(Mn,Jn*Kn);In=Math.sin(In*Nn)/Mn,zn=Math.sin(zn*Nn)/Mn}const On=zn*Kn;if(An=An*In+En*On,Bn=Bn*In+Fn*On,Cn=Cn*In+Gn*On,Dn=Dn*In+Hn*On,In===1-zn){const Pn=1/Math.sqrt(An*An+Bn*Bn+Cn*Cn+Dn*Dn);An*=Pn,Bn*=Pn,Cn*=Pn,Dn*=Pn}}tn[un]=An,tn[un+1]=Bn,tn[un+2]=Cn,tn[un+3]=Dn}static multiplyQuaternionsFlat(Qn,Rn,Sn,Tn,Un,Vn){const Wn=Sn[Tn],Xn=Sn[Tn+1],Yn=Sn[Tn+2],Zn=Sn[Tn+3],$n=Un[Vn],_n=Un[Vn+1],ao=Un[Vn+2],bo=Un[Vn+3];return Qn[Rn]=Wn*bo+Zn*$n+Xn*ao-Yn*_n,Qn[Rn+1]=Xn*bo+Zn*_n+Yn*$n-Wn*ao,Qn[Rn+2]=Yn*bo+Zn*ao+Wn*_n-Xn*$n,Qn[Rn+3]=Zn*bo-Wn*$n-Xn*_n-Yn*ao,Qn}get x(){return this._x}set x(co){this._x=co,this._onChangeCallback()}get y(){return this._y}set y(eo){this._y=eo,this._onChangeCallback()}get z(){return this._z}set z(fo){this._z=fo,this._onChangeCallback()}get w(){return this._w}set w(go){this._w=go,this._onChangeCallback()}set(ho,io,jo,ko){return this._x=ho,this._y=io,this._z=jo,this._w=ko,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(lo){return this._x=lo.x,this._y=lo.y,this._z=lo.z,this._w=lo.w,this._onChangeCallback(),this}setFromEuler(mo,no){if(!(mo&&mo.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const oo=mo._x,po=mo._y,qo=mo._z,ro=mo._order,so=Math.cos,to=Math.sin,uo=so(oo/2),vo=so(po/2),wo=so(qo/2),xo=to(oo/2),yo=to(po/2),zo=to(qo/2);switch(ro){case"XYZ":this._x=xo*vo*wo+uo*yo*zo,this._y=uo*yo*wo-xo*vo*zo,this._z=uo*vo*zo+xo*yo*wo,this._w=uo*vo*wo-xo*yo*zo;break;case"YXZ":this._x=xo*vo*wo+uo*yo*zo,this._y=uo*yo*wo-xo*vo*zo,this._z=uo*vo*zo-xo*yo*wo,this._w=uo*vo*wo+xo*yo*zo;break;case"ZXY":this._x=xo*vo*wo-uo*yo*zo,this._y=uo*yo*wo+xo*vo*zo,this._z=uo*vo*zo+xo*yo*wo,this._w=uo*vo*wo-xo*yo*zo;break;case"ZYX":this._x=xo*vo*wo-uo*yo*zo,this._y=uo*yo*wo+xo*vo*zo,this._z=uo*vo*zo-xo*yo*wo,this._w=uo*vo*wo+xo*yo*zo;break;case"YZX":this._x=xo*vo*wo+uo*yo*zo,this._y=uo*yo*wo+xo*vo*zo,this._z=uo*vo*zo-xo*yo*wo,this._w=uo*vo*wo-xo*yo*zo;break;case"XZY":this._x=xo*vo*wo-uo*yo*zo,this._y=uo*yo*wo-xo*vo*zo,this._z=uo*vo*zo+xo*yo*wo,this._w=uo*vo*wo+xo*yo*zo;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+ro)}return!1!==no&&this._onChangeCallback(),this}setFromAxisAngle(Ao,Bo){const Co=Bo/2,Do=Math.sin(Co);return this._x=Ao.x*Do,this._y=Ao.y*Do,this._z=Ao.z*Do,this._w=Math.cos(Co),this._onChangeCallback(),this}setFromRotationMatrix(Eo){const Fo=Eo.elements,Go=Fo[0],Ho=Fo[4],Io=Fo[8],Jo=Fo[1],Ko=Fo[5],Lo=Fo[9],Mo=Fo[2],No=Fo[6],Oo=Fo[10],Po=Go+Ko+Oo;if(Po>0){const Qo=0.5/Math.sqrt(Po+1);this._w=0.25/Qo,this._x=(No-Lo)*Qo,this._y=(Io-Mo)*Qo,this._z=(Jo-Ho)*Qo}else if(Go>Ko&&Go>Oo){const Ro=2*Math.sqrt(1+Go-Ko-Oo);this._w=(No-Lo)/Ro,this._x=0.25*Ro,this._y=(Ho+Jo)/Ro,this._z=(Io+Mo)/Ro}else if(Ko>Oo){const So=2*Math.sqrt(1+Ko-Go-Oo);this._w=(Io-Mo)/So,this._x=(Ho+Jo)/So,this._y=0.25*So,this._z=(Lo+No)/So}else{const To=2*Math.sqrt(1+Oo-Go-Ko);this._w=(Jo-Ho)/To,this._x=(Io+Mo)/To,this._y=(Lo+No)/To,this._z=0.25*To}return this._onChangeCallback(),this}setFromUnitVectors(Uo,Vo){let Wo=Uo.dot(Vo)+1;return Wo<Number.EPSILON?(Wo=0,Math.abs(Uo.x)>Math.abs(Uo.z)?(this._x=-Uo.y,this._y=Uo.x,this._z=0,this._w=0):(this._x=0,this._y=-Uo.z,this._z=Uo.y,this._w=0)):(this._x=Uo.y*Vo.z-Uo.z*Vo.y,this._y=Uo.z*Vo.x-Uo.x*Vo.z,this._z=Uo.x*Vo.y-Uo.y*Vo.x,this._w=0),this.normalize()}angleTo(Xo){return 2*Math.acos(Math.abs(Zg(this.dot(Xo),-1,1)))}rotateTowards(Yo,Zo){const $o=this.angleTo(Yo);if(0===$o)return this;const _o=Math.min(1,Zo/$o);return this.slerp(Yo,_o),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(ap){return this._x*ap._x+this._y*ap._y+this._z*ap._z+this._w*ap._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let bp=this.length();return 0===bp?(this._x=0,this._y=0,this._z=0,this._w=1):(bp=1/bp,this._x=this._x*bp,this._y=this._y*bp,this._z=this._z*bp,this._w=this._w*bp),this._onChangeCallback(),this}multiply(cp,dp){return void 0!==dp?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(cp,dp)):this.multiplyQuaternions(this,cp)}premultiply(ep){return this.multiplyQuaternions(ep,this)}multiplyQuaternions(fp,gp){const hp=fp._x,ip=fp._y,jp=fp._z,kp=fp._w,lp=gp._x,mp=gp._y,np=gp._z,op=gp._w;return this._x=hp*op+kp*lp+ip*np-jp*mp,this._y=ip*op+kp*mp+jp*lp-hp*np,this._z=jp*op+kp*np+hp*mp-ip*lp,this._w=kp*op-hp*lp-ip*mp-jp*np,this._onChangeCallback(),this}slerp(pp,qp){if(0===qp)return this;if(1===qp)return this.copy(pp);const rp=this._x,sp=this._y,tp=this._z,up=this._w;let vp=up*pp._w+rp*pp._x+sp*pp._y+tp*pp._z;if(vp<0?(this._w=-pp._w,this._x=-pp._x,this._y=-pp._y,this._z=-pp._z,vp=-vp):this.copy(pp),vp>=1)return this._w=up,this._x=rp,this._y=sp,this._z=tp,this;const wp=1-vp*vp;if(wp<=Number.EPSILON){const xp=1-qp;return this._w=xp*up+qp*this._w,this._x=xp*rp+qp*this._x,this._y=xp*sp+qp*this._y,this._z=xp*tp+qp*this._z,this.normalize(),this._onChangeCallback(),this}const yp=Math.sqrt(wp),zp=Math.atan2(yp,vp),Ap=Math.sin((1-qp)*zp)/yp,Bp=Math.sin(qp*zp)/yp;return this._w=up*Ap+this._w*Bp,this._x=rp*Ap+this._x*Bp,this._y=sp*Ap+this._y*Bp,this._z=tp*Ap+this._z*Bp,this._onChangeCallback(),this}slerpQuaternions(Cp,Dp,Ep){this.copy(Cp).slerp(Dp,Ep)}random(){const Fp=Math.random(),Gp=Math.sqrt(1-Fp),Hp=Math.sqrt(Fp),Ip=2*Math.PI*Math.random(),Jp=2*Math.PI*Math.random();return this.set(Gp*Math.cos(Ip),Hp*Math.sin(Jp),Hp*Math.cos(Jp),Gp*Math.sin(Ip))}equals(Kp){return Kp._x===this._x&&Kp._y===this._y&&Kp._z===this._z&&Kp._w===this._w}fromArray(Lp,Mp=0){return this._x=Lp[Mp],this._y=Lp[Mp+1],this._z=Lp[Mp+2],this._w=Lp[Mp+3],this._onChangeCallback(),this}toArray(Np=[],Op=0){return Np[Op]=this._x,Np[Op+1]=this._y,Np[Op+2]=this._z,Np[Op+3]=this._w,Np}fromBufferAttribute(Pp,Qp){return this._x=Pp.getX(Qp),this._y=Pp.getY(Qp),this._z=Pp.getZ(Qp),this._w=Pp.getW(Qp),this}_onChange(Rp){return this._onChangeCallback=Rp,this}_onChangeCallback(){}}kn.prototype.isQuaternion=!0;class Sp{constructor(Tp=0,Up=0,Vp=0){this.x=Tp,this.y=Up,this.z=Vp}set(Wp,Xp,Yp){return void 0===Yp&&(Yp=this.z),this.x=Wp,this.y=Xp,this.z=Yp,this}setScalar(Zp){return this.x=Zp,this.y=Zp,this.z=Zp,this}setX($p){return this.x=$p,this}setY(_p){return this.y=_p,this}setZ(aq){return this.z=aq,this}setComponent(bq,cq){switch(bq){case 0:this.x=cq;break;case 1:this.y=cq;break;case 2:this.z=cq;break;default:throw new Error("index is out of range: "+bq)}return this}getComponent(dq){switch(dq){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+dq)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(eq){return this.x=eq.x,this.y=eq.y,this.z=eq.z,this}add(fq,gq){return void 0!==gq?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(fq,gq)):(this.x+=fq.x,this.y+=fq.y,this.z+=fq.z,this)}addScalar(hq){return this.x+=hq,this.y+=hq,this.z+=hq,this}addVectors(iq,jq){return this.x=iq.x+jq.x,this.y=iq.y+jq.y,this.z=iq.z+jq.z,this}addScaledVector(kq,lq){return this.x+=kq.x*lq,this.y+=kq.y*lq,this.z+=kq.z*lq,this}sub(mq,nq){return void 0!==nq?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(mq,nq)):(this.x-=mq.x,this.y-=mq.y,this.z-=mq.z,this)}subScalar(oq){return this.x-=oq,this.y-=oq,this.z-=oq,this}subVectors(pq,qq){return this.x=pq.x-qq.x,this.y=pq.y-qq.y,this.z=pq.z-qq.z,this}multiply(rq,sq){return void 0!==sq?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(rq,sq)):(this.x*=rq.x,this.y*=rq.y,this.z*=rq.z,this)}multiplyScalar(tq){return this.x*=tq,this.y*=tq,this.z*=tq,this}multiplyVectors(uq,vq){return this.x=uq.x*vq.x,this.y=uq.y*vq.y,this.z=uq.z*vq.z,this}applyEuler(wq){return wq&&wq.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(vs.setFromEuler(wq))}applyAxisAngle(xq,yq){return this.applyQuaternion(vs.setFromAxisAngle(xq,yq))}applyMatrix3(zq){const Aq=this.x,Bq=this.y,Cq=this.z,Dq=zq.elements;return this.x=Dq[0]*Aq+Dq[3]*Bq+Dq[6]*Cq,this.y=Dq[1]*Aq+Dq[4]*Bq+Dq[7]*Cq,this.z=Dq[2]*Aq+Dq[5]*Bq+Dq[8]*Cq,this}applyNormalMatrix(Eq){return this.applyMatrix3(Eq).normalize()}applyMatrix4(Fq){const Gq=this.x,Hq=this.y,Iq=this.z,Jq=Fq.elements,Kq=1/(Jq[3]*Gq+Jq[7]*Hq+Jq[11]*Iq+Jq[15]);return this.x=(Jq[0]*Gq+Jq[4]*Hq+Jq[8]*Iq+Jq[12])*Kq,this.y=(Jq[1]*Gq+Jq[5]*Hq+Jq[9]*Iq+Jq[13])*Kq,this.z=(Jq[2]*Gq+Jq[6]*Hq+Jq[10]*Iq+Jq[14])*Kq,this}applyQuaternion(Lq){const Mq=this.x,Nq=this.y,Oq=this.z,Pq=Lq.x,Qq=Lq.y,Rq=Lq.z,Sq=Lq.w,Tq=Sq*Mq+Qq*Oq-Rq*Nq,Uq=Sq*Nq+Rq*Mq-Pq*Oq,Vq=Sq*Oq+Pq*Nq-Qq*Mq,Wq=-Pq*Mq-Qq*Nq-Rq*Oq;return this.x=Tq*Sq+ -(Wq*Pq)+ -(Uq*Rq)- -(Vq*Qq),this.y=Uq*Sq+ -(Wq*Qq)+ -(Vq*Pq)- -(Tq*Rq),this.z=Vq*Sq+ -(Wq*Rq)+ -(Tq*Qq)- -(Uq*Pq),this}project(Xq){return this.applyMatrix4(Xq.matrixWorldInverse).applyMatrix4(Xq.projectionMatrix)}unproject(Yq){return this.applyMatrix4(Yq.projectionMatrixInverse).applyMatrix4(Yq.matrixWorld)}transformDirection(Zq){const $q=this.x,_q=this.y,ar=this.z,br=Zq.elements;return this.x=br[0]*$q+br[4]*_q+br[8]*ar,this.y=br[1]*$q+br[5]*_q+br[9]*ar,this.z=br[2]*$q+br[6]*_q+br[10]*ar,this.normalize()}divide(cr){return this.x/=cr.x,this.y/=cr.y,this.z/=cr.z,this}divideScalar(dr){return this.multiplyScalar(1/dr)}min(er){return this.x=Math.min(this.x,er.x),this.y=Math.min(this.y,er.y),this.z=Math.min(this.z,er.z),this}max(fr){return this.x=Math.max(this.x,fr.x),this.y=Math.max(this.y,fr.y),this.z=Math.max(this.z,fr.z),this}clamp(gr,hr){return this.x=Math.max(gr.x,Math.min(hr.x,this.x)),this.y=Math.max(gr.y,Math.min(hr.y,this.y)),this.z=Math.max(gr.z,Math.min(hr.z,this.z)),this}clampScalar(ir,jr){return this.x=Math.max(ir,Math.min(jr,this.x)),this.y=Math.max(ir,Math.min(jr,this.y)),this.z=Math.max(ir,Math.min(jr,this.z)),this}clampLength(kr,lr){const mr=this.length();return this.divideScalar(mr||1).multiplyScalar(Math.max(kr,Math.min(lr,mr)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(nr){return this.x*nr.x+this.y*nr.y+this.z*nr.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(or){return this.normalize().multiplyScalar(or)}lerp(pr,qr){return this.x+=(pr.x-this.x)*qr,this.y+=(pr.y-this.y)*qr,this.z+=(pr.z-this.z)*qr,this}lerpVectors(rr,sr,tr){return this.x=rr.x+(sr.x-rr.x)*tr,this.y=rr.y+(sr.y-rr.y)*tr,this.z=rr.z+(sr.z-rr.z)*tr,this}cross(ur,vr){return void 0!==vr?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(ur,vr)):this.crossVectors(this,ur)}crossVectors(wr,xr){const yr=wr.x,zr=wr.y,Ar=wr.z,Br=xr.x,Cr=xr.y,Dr=xr.z;return this.x=zr*Dr-Ar*Cr,this.y=Ar*Br-yr*Dr,this.z=yr*Cr-zr*Br,this}projectOnVector(Er){const Fr=Er.lengthSq();if(0===Fr)return this.set(0,0,0);const Gr=Er.dot(this)/Fr;return this.copy(Er).multiplyScalar(Gr)}projectOnPlane(Hr){return us.copy(this).projectOnVector(Hr),this.sub(us)}reflect(Ir){return this.sub(us.copy(Ir).multiplyScalar(2*this.dot(Ir)))}angleTo(Jr){const Kr=Math.sqrt(this.lengthSq()*Jr.lengthSq());if(0===Kr)return Math.PI/2;const Lr=this.dot(Jr)/Kr;return Math.acos(Zg(Lr,-1,1))}distanceTo(Mr){return Math.sqrt(this.distanceToSquared(Mr))}distanceToSquared(Nr){const Or=this.x-Nr.x,Pr=this.y-Nr.y,Qr=this.z-Nr.z;return Or*Or+Pr*Pr+Qr*Qr}manhattanDistanceTo(Rr){return Math.abs(this.x-Rr.x)+Math.abs(this.y-Rr.y)+Math.abs(this.z-Rr.z)}setFromSpherical(Sr){return this.setFromSphericalCoords(Sr.radius,Sr.phi,Sr.theta)}setFromSphericalCoords(Tr,Ur,Vr){const Wr=Math.sin(Ur)*Tr;return this.x=Wr*Math.sin(Vr),this.y=Math.cos(Ur)*Tr,this.z=Wr*Math.cos(Vr),this}setFromCylindrical(Xr){return this.setFromCylindricalCoords(Xr.radius,Xr.theta,Xr.y)}setFromCylindricalCoords(Yr,Zr,$r){return this.x=Yr*Math.sin(Zr),this.y=$r,this.z=Yr*Math.cos(Zr),this}setFromMatrixPosition(_r){const as=_r.elements;return this.x=as[12],this.y=as[13],this.z=as[14],this}setFromMatrixScale(bs){const cs=this.setFromMatrixColumn(bs,0).length(),ds=this.setFromMatrixColumn(bs,1).length(),es=this.setFromMatrixColumn(bs,2).length();return this.x=cs,this.y=ds,this.z=es,this}setFromMatrixColumn(fs,gs){return this.fromArray(fs.elements,4*gs)}setFromMatrix3Column(hs,is){return this.fromArray(hs.elements,3*is)}equals(js){return js.x===this.x&&js.y===this.y&&js.z===this.z}fromArray(ks,ls=0){return this.x=ks[ls],this.y=ks[ls+1],this.z=ks[ls+2],this}toArray(ms=[],ns=0){return ms[ns]=this.x,ms[ns+1]=this.y,ms[ns+2]=this.z,ms}fromBufferAttribute(os,ps,qs){return void 0!==qs&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=os.getX(ps),this.y=os.getY(ps),this.z=os.getZ(ps),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const rs=(Math.random()-0.5)*2,ss=Math.random()*Math.PI*2,ts=Math.sqrt(1-rs**2);return this.x=ts*Math.cos(ss),this.y=ts*Math.sin(ss),this.z=rs,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}Sp.prototype.isVector3=!0;const us=new Sp(),vs=new kn();class ws{constructor(xs=new Sp(Infinity,Infinity,Infinity),ys=new Sp(-1/0,-1/0,-1/0)){this.min=xs,this.max=ys}set(zs,As){return this.min.copy(zs),this.max.copy(As),this}setFromArray(Bs){let Cs=Infinity,Ds=Infinity,Es=Infinity,Fs=-1/0,Gs=-1/0,Hs=-1/0;for(let Is=0,Js=Bs.length;Is<Js;Is+=3){const Ks=Bs[Is],Ls=Bs[Is+1],Ms=Bs[Is+2];Ks<Cs&&(Cs=Ks),Ls<Ds&&(Ds=Ls),Ms<Es&&(Es=Ms),Ks>Fs&&(Fs=Ks),Ls>Gs&&(Gs=Ls),Ms>Hs&&(Hs=Ms)}return this.min.set(Cs,Ds,Es),this.max.set(Fs,Gs,Hs),this}setFromBufferAttribute(Ns){let Os=Infinity,Ps=Infinity,Qs=Infinity,Rs=-1/0,Ss=-1/0,Ts=-1/0;for(let Us=0,Vs=Ns.count;Us<Vs;Us++){const Ws=Ns.getX(Us),Xs=Ns.getY(Us),Ys=Ns.getZ(Us);Ws<Os&&(Os=Ws),Xs<Ps&&(Ps=Xs),Ys<Qs&&(Qs=Ys),Ws>Rs&&(Rs=Ws),Xs>Ss&&(Ss=Xs),Ys>Ts&&(Ts=Ys)}return this.min.set(Os,Ps,Qs),this.max.set(Rs,Ss,Ts),this}setFromPoints(Zs){this.makeEmpty();for(let $s=0,_s=Zs.length;$s<_s;$s++)this.expandByPoint(Zs[$s]);return this}setFromCenterAndSize(at,bt){const ct=Lt.copy(bt).multiplyScalar(0.5);return this.min.copy(at).sub(ct),this.max.copy(at).add(ct),this}setFromObject(dt){return this.makeEmpty(),this.expandByObject(dt)}clone(){return new this.constructor().copy(this)}copy(et){return this.min.copy(et.min),this.max.copy(et.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=Infinity,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(ft){return this.isEmpty()?ft.set(0,0,0):ft.addVectors(this.min,this.max).multiplyScalar(0.5)}getSize(gt){return this.isEmpty()?gt.set(0,0,0):gt.subVectors(this.max,this.min)}expandByPoint(ht){return this.min.min(ht),this.max.max(ht),this}expandByVector(it){return this.min.sub(it),this.max.add(it),this}expandByScalar(jt){return this.min.addScalar(-jt),this.max.addScalar(jt),this}expandByObject(kt){kt.updateWorldMatrix(!1,!1);const lt=kt.geometry;void 0!==lt&&(null===lt.boundingBox&&lt.computeBoundingBox(),Mt.copy(lt.boundingBox),Mt.applyMatrix4(kt.matrixWorld),this.union(Mt));const mt=kt.children;for(let nt=0,ot=mt.length;nt<ot;nt++)this.expandByObject(mt[nt]);return this}containsPoint(pt){return!(pt.x<this.min.x)&&!(pt.x>this.max.x)&&!(pt.y<this.min.y)&&!(pt.y>this.max.y)&&!(pt.z<this.min.z)&&!(pt.z>this.max.z)}containsBox(qt){return this.min.x<=qt.min.x&&qt.max.x<=this.max.x&&this.min.y<=qt.min.y&&qt.max.y<=this.max.y&&this.min.z<=qt.min.z&&qt.max.z<=this.max.z}getParameter(rt,st){return st.set((rt.x-this.min.x)/(this.max.x-this.min.x),(rt.y-this.min.y)/(this.max.y-this.min.y),(rt.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(tt){return!(tt.max.x<this.min.x)&&!(tt.min.x>this.max.x)&&!(tt.max.y<this.min.y)&&!(tt.min.y>this.max.y)&&!(tt.max.z<this.min.z)&&!(tt.min.z>this.max.z)}intersectsSphere(ut){return this.clampPoint(ut.center,Lt),Lt.distanceToSquared(ut.center)<=ut.radius*ut.radius}intersectsPlane(vt){let wt,xt;return vt.normal.x>0?(wt=vt.normal.x*this.min.x,xt=vt.normal.x*this.max.x):(wt=vt.normal.x*this.max.x,xt=vt.normal.x*this.min.x),vt.normal.y>0?(wt+=vt.normal.y*this.min.y,xt+=vt.normal.y*this.max.y):(wt+=vt.normal.y*this.max.y,xt+=vt.normal.y*this.min.y),vt.normal.z>0?(wt+=vt.normal.z*this.min.z,xt+=vt.normal.z*this.max.z):(wt+=vt.normal.z*this.max.z,xt+=vt.normal.z*this.min.z),wt<= -vt.constant&&xt>= -vt.constant}intersectsTriangle(yt){if(this.isEmpty())return!1;this.getCenter(Tt),Ut.subVectors(this.max,Tt),Nt.subVectors(yt.a,Tt),Ot.subVectors(yt.b,Tt),Pt.subVectors(yt.c,Tt),Qt.subVectors(Ot,Nt),Rt.subVectors(Pt,Ot),St.subVectors(Nt,Pt);let zt=[0,-Qt.z,Qt.y,0,-Rt.z,Rt.y,0,-St.z,St.y,Qt.z,0,-Qt.x,Rt.z,0,-Rt.x,St.z,0,-St.x,-Qt.y,Qt.x,0,-Rt.y,Rt.x,0,-St.y,St.x,0];return!!Xt(zt,Nt,Ot,Pt,Ut)&& !!Xt(zt=[1,0,0,0,1,0,0,0,1],Nt,Ot,Pt,Ut)&&(Vt.crossVectors(Qt,Rt),Xt(zt=[Vt.x,Vt.y,Vt.z],Nt,Ot,Pt,Ut))}clampPoint(At,Bt){return Bt.copy(At).clamp(this.min,this.max)}distanceToPoint(Ct){const Dt=Lt.copy(Ct).clamp(this.min,this.max);return Dt.sub(Ct).length()}getBoundingSphere(Et){return this.getCenter(Et.center),Et.radius=0.5*this.getSize(Lt).length(),Et}intersect(Ft){return this.min.max(Ft.min),this.max.min(Ft.max),this.isEmpty()&&this.makeEmpty(),this}union(Gt){return this.min.min(Gt.min),this.max.max(Gt.max),this}applyMatrix4(Ht){return this.isEmpty()||(Kt[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(Ht),Kt[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(Ht),Kt[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(Ht),Kt[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(Ht),Kt[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(Ht),Kt[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(Ht),Kt[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(Ht),Kt[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(Ht),this.setFromPoints(Kt)),this}translate(It){return this.min.add(It),this.max.add(It),this}equals(Jt){return Jt.min.equals(this.min)&&Jt.max.equals(this.max)}}ws.prototype.isBox3=!0;const Kt=[new Sp(),new Sp(),new Sp(),new Sp(),new Sp(),new Sp(),new Sp(),new Sp()],Lt=new Sp(),Mt=new ws(),Nt=new Sp(),Ot=new Sp(),Pt=new Sp(),Qt=new Sp(),Rt=new Sp(),St=new Sp(),Tt=new Sp(),Ut=new Sp(),Vt=new Sp(),Wt=new Sp();function Xt(a,b,c,d,e){for(let f=0,g=a.length-3;f<=g;f+=3){Wt.fromArray(a,f);const h=e.x*Math.abs(Wt.x)+e.y*Math.abs(Wt.y)+e.z*Math.abs(Wt.z),i=b.dot(Wt),j=c.dot(Wt),k=d.dot(Wt);if(Math.max(-Math.max(i,j,k),Math.min(i,j,k))>h)return!1}return!0}const Yt=new ws(),Zt=new Sp(),$t=new Sp(),_t=new Sp();class au{constructor(bu=new Sp(),cu=-1){this.center=bu,this.radius=cu}set(du,eu){return this.center.copy(du),this.radius=eu,this}setFromPoints(fu,gu){const hu=this.center;void 0!==gu?hu.copy(gu):Yt.setFromPoints(fu).getCenter(hu);let iu=0;for(let ju=0,ku=fu.length;ju<ku;ju++)iu=Math.max(iu,hu.distanceToSquared(fu[ju]));return this.radius=Math.sqrt(iu),this}copy(lu){return this.center.copy(lu.center),this.radius=lu.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(mu){return mu.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(nu){return nu.distanceTo(this.center)-this.radius}intersectsSphere(ou){const pu=this.radius+ou.radius;return ou.center.distanceToSquared(this.center)<=pu*pu}intersectsBox(qu){return qu.intersectsSphere(this)}intersectsPlane(ru){return Math.abs(ru.distanceToPoint(this.center))<=this.radius}clampPoint(su,tu){const uu=this.center.distanceToSquared(su);return tu.copy(su),uu>this.radius*this.radius&&(tu.sub(this.center).normalize(),tu.multiplyScalar(this.radius).add(this.center)),tu}getBoundingBox(vu){return this.isEmpty()?(vu.makeEmpty(),vu):(vu.set(this.center,this.center),vu.expandByScalar(this.radius),vu)}applyMatrix4(wu){return this.center.applyMatrix4(wu),this.radius=this.radius*wu.getMaxScaleOnAxis(),this}translate(xu){return this.center.add(xu),this}expandByPoint(yu){_t.subVectors(yu,this.center);const zu=_t.lengthSq();if(zu>this.radius*this.radius){const Au=Math.sqrt(zu),Bu=(Au-this.radius)*0.5;this.center.add(_t.multiplyScalar(Bu/Au)),this.radius+=Bu}return this}union(Cu){return $t.subVectors(Cu.center,this.center).normalize().multiplyScalar(Cu.radius),this.expandByPoint(Zt.copy(Cu.center).add($t)),this.expandByPoint(Zt.copy(Cu.center).sub($t)),this}equals(Du){return Du.center.equals(this.center)&&Du.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Eu=new Sp(),Fu=new Sp(),Gu=new Sp(),Hu=new Sp(),Iu=new Sp(),Ju=new Sp(),Ku=new Sp();class Lu{constructor(Mu=new Sp(),Nu=new Sp(0,0,-1)){this.origin=Mu,this.direction=Nu}set(Ou,Pu){return this.origin.copy(Ou),this.direction.copy(Pu),this}copy(Qu){return this.origin.copy(Qu.origin),this.direction.copy(Qu.direction),this}at(Ru,Su){return Su.copy(this.direction).multiplyScalar(Ru).add(this.origin)}lookAt(Tu){return this.direction.copy(Tu).sub(this.origin).normalize(),this}recast(Uu){return this.origin.copy(this.at(Uu,Eu)),this}closestPointToPoint(Vu,Wu){Wu.subVectors(Vu,this.origin);const Xu=Wu.dot(this.direction);return Xu<0?Wu.copy(this.origin):Wu.copy(this.direction).multiplyScalar(Xu).add(this.origin)}distanceToPoint(Yu){return Math.sqrt(this.distanceSqToPoint(Yu))}distanceSqToPoint(Zu){const $u=Eu.subVectors(Zu,this.origin).dot(this.direction);return $u<0?this.origin.distanceToSquared(Zu):(Eu.copy(this.direction).multiplyScalar($u).add(this.origin),Eu.distanceToSquared(Zu))}distanceSqToSegment(_u,av,bv,cv){Fu.copy(_u).add(av).multiplyScalar(0.5),Gu.copy(av).sub(_u).normalize(),Hu.copy(this.origin).sub(Fu);const dv=0.5*_u.distanceTo(av),ev=-this.direction.dot(Gu),fv=Hu.dot(this.direction),gv=-Hu.dot(Gu),hv=Hu.lengthSq(),iv=Math.abs(1-ev*ev);let jv,kv,lv,mv;if(iv>0)if(jv=ev*gv-fv,kv=ev*fv-gv,mv=dv*iv,jv>=0)if(kv>= -mv)if(kv<=mv){const nv=1/iv;jv*=nv,kv*=nv,lv=jv*(jv+ev*kv+2*fv)+kv*(ev*jv+kv+2*gv)+hv}else lv=-(jv=Math.max(0,-(ev*(kv=dv)+fv)))*jv+kv*(kv+2*gv)+hv;else lv=-(jv=Math.max(0,-(ev*(kv=-dv)+fv)))*jv+kv*(kv+2*gv)+hv;else kv<= -mv?(kv=(jv=Math.max(0,-(-ev*dv+fv)))>0?-dv:Math.min(Math.max(-dv,-gv),dv),lv=-jv*jv+kv*(kv+2*gv)+hv):kv<=mv?(jv=0,lv=(kv=Math.min(Math.max(-dv,-gv),dv))*(kv+2*gv)+hv):(kv=(jv=Math.max(0,-(ev*dv+fv)))>0?dv:Math.min(Math.max(-dv,-gv),dv),lv=-jv*jv+kv*(kv+2*gv)+hv);else kv=ev>0?-dv:dv,jv=Math.max(0,-(ev*kv+fv)),lv=-jv*jv+kv*(kv+2*gv)+hv;return bv&&bv.copy(this.direction).multiplyScalar(jv).add(this.origin),cv&&cv.copy(Gu).multiplyScalar(kv).add(Fu),lv}intersectSphere(ov,pv){Eu.subVectors(ov.center,this.origin);const qv=Eu.dot(this.direction),rv=Eu.dot(Eu)-qv*qv,sv=ov.radius*ov.radius;if(rv>sv)return null;const tv=Math.sqrt(sv-rv),uv=qv-tv,vv=qv+tv;return uv<0&&vv<0?null:uv<0?this.at(vv,pv):this.at(uv,pv)}intersectsSphere(wv){return this.distanceSqToPoint(wv.center)<=wv.radius*wv.radius}distanceToPlane(xv){const yv=xv.normal.dot(this.direction);if(0===yv)return 0===xv.distanceToPoint(this.origin)?0:null;const zv=-(this.origin.dot(xv.normal)+xv.constant)/yv;return zv>=0?zv:null}intersectPlane(Av,Bv){const Cv=this.distanceToPlane(Av);return null===Cv?null:this.at(Cv,Bv)}intersectsPlane(Dv){const Ev=Dv.distanceToPoint(this.origin);if(0===Ev)return!0;const Fv=Dv.normal.dot(this.direction);return Fv*Ev<0}intersectBox(Gv,Hv){let Iv,Jv,Kv,Lv,Mv,Nv;const Ov=1/this.direction.x,Pv=1/this.direction.y,Qv=1/this.direction.z,Rv=this.origin;return(Ov>=0?(Iv=(Gv.min.x-Rv.x)*Ov,Jv=(Gv.max.x-Rv.x)*Ov):(Iv=(Gv.max.x-Rv.x)*Ov,Jv=(Gv.min.x-Rv.x)*Ov),Pv>=0?(Kv=(Gv.min.y-Rv.y)*Pv,Lv=(Gv.max.y-Rv.y)*Pv):(Kv=(Gv.max.y-Rv.y)*Pv,Lv=(Gv.min.y-Rv.y)*Pv),Iv>Lv||Kv>Jv)?null:((Kv>Iv||Iv!=Iv)&&(Iv=Kv),(Lv<Jv||Jv!=Jv)&&(Jv=Lv),Qv>=0?(Mv=(Gv.min.z-Rv.z)*Qv,Nv=(Gv.max.z-Rv.z)*Qv):(Mv=(Gv.max.z-Rv.z)*Qv,Nv=(Gv.min.z-Rv.z)*Qv),Iv>Nv||Mv>Jv)?null:((Mv>Iv||Iv!=Iv)&&(Iv=Mv),(Nv<Jv||Jv!=Jv)&&(Jv=Nv),Jv<0)?null:this.at(Iv>=0?Iv:Jv,Hv)}intersectsBox(Sv){return null!==this.intersectBox(Sv,Eu)}intersectTriangle(Tv,Uv,Vv,Wv,Xv){Iu.subVectors(Uv,Tv),Ju.subVectors(Vv,Tv),Ku.crossVectors(Iu,Ju);let Yv=this.direction.dot(Ku),Zv;if(Yv>0){if(Wv)return null;Zv=1}else{if(!(Yv<0))return null;Zv=-1,Yv=-Yv}Hu.subVectors(this.origin,Tv);const $v=Zv*this.direction.dot(Ju.crossVectors(Hu,Ju));if($v<0)return null;const _v=Zv*this.direction.dot(Iu.cross(Hu));if(_v<0)return null;if($v+_v>Yv)return null;const aw=-Zv*Hu.dot(Ku);return aw<0?null:this.at(aw/Yv,Xv)}applyMatrix4(bw){return this.origin.applyMatrix4(bw),this.direction.transformDirection(bw),this}equals(cw){return cw.origin.equals(this.origin)&&cw.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class dw{constructor(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(ew,fw,gw,hw,iw,jw,kw,lw,mw,nw,ow,pw,qw,rw,sw,tw){const uw=this.elements;return uw[0]=ew,uw[4]=fw,uw[8]=gw,uw[12]=hw,uw[1]=iw,uw[5]=jw,uw[9]=kw,uw[13]=lw,uw[2]=mw,uw[6]=nw,uw[10]=ow,uw[14]=pw,uw[3]=qw,uw[7]=rw,uw[11]=sw,uw[15]=tw,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new dw().fromArray(this.elements)}copy(vw){const ww=this.elements,xw=vw.elements;return ww[0]=xw[0],ww[1]=xw[1],ww[2]=xw[2],ww[3]=xw[3],ww[4]=xw[4],ww[5]=xw[5],ww[6]=xw[6],ww[7]=xw[7],ww[8]=xw[8],ww[9]=xw[9],ww[10]=xw[10],ww[11]=xw[11],ww[12]=xw[12],ww[13]=xw[13],ww[14]=xw[14],ww[15]=xw[15],this}copyPosition(yw){const zw=this.elements,Aw=yw.elements;return zw[12]=Aw[12],zw[13]=Aw[13],zw[14]=Aw[14],this}setFromMatrix3(Bw){const Cw=Bw.elements;return this.set(Cw[0],Cw[3],Cw[6],0,Cw[1],Cw[4],Cw[7],0,Cw[2],Cw[5],Cw[8],0,0,0,0,1),this}extractBasis(Dw,Ew,Fw){return Dw.setFromMatrixColumn(this,0),Ew.setFromMatrixColumn(this,1),Fw.setFromMatrixColumn(this,2),this}makeBasis(Gw,Hw,Iw){return this.set(Gw.x,Hw.x,Iw.x,0,Gw.y,Hw.y,Iw.y,0,Gw.z,Hw.z,Iw.z,0,0,0,0,1),this}extractRotation(Jw){const Kw=this.elements,Lw=Jw.elements,Mw=1/aB.setFromMatrixColumn(Jw,0).length(),Nw=1/aB.setFromMatrixColumn(Jw,1).length(),Ow=1/aB.setFromMatrixColumn(Jw,2).length();return Kw[0]=Lw[0]*Mw,Kw[1]=Lw[1]*Mw,Kw[2]=Lw[2]*Mw,Kw[3]=0,Kw[4]=Lw[4]*Nw,Kw[5]=Lw[5]*Nw,Kw[6]=Lw[6]*Nw,Kw[7]=0,Kw[8]=Lw[8]*Ow,Kw[9]=Lw[9]*Ow,Kw[10]=Lw[10]*Ow,Kw[11]=0,Kw[12]=0,Kw[13]=0,Kw[14]=0,Kw[15]=1,this}makeRotationFromEuler(Pw){Pw&&Pw.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const Qw=this.elements,Rw=Pw.x,Sw=Pw.y,Tw=Pw.z,Uw=Math.cos(Rw),Vw=Math.sin(Rw),Ww=Math.cos(Sw),Xw=Math.sin(Sw),Yw=Math.cos(Tw),Zw=Math.sin(Tw);if("XYZ"===Pw.order){const $w=Uw*Yw,_w=Uw*Zw,ax=Vw*Yw,bx=Vw*Zw;Qw[0]=Ww*Yw,Qw[4]=-Ww*Zw,Qw[8]=Xw,Qw[1]=_w+ax*Xw,Qw[5]=$w-bx*Xw,Qw[9]=-Vw*Ww,Qw[2]=bx-$w*Xw,Qw[6]=ax+_w*Xw,Qw[10]=Uw*Ww}else if("YXZ"===Pw.order){const cx=Ww*Yw,dx=Ww*Zw,ex=Xw*Yw,fx=Xw*Zw;Qw[0]=cx+fx*Vw,Qw[4]=ex*Vw-dx,Qw[8]=Uw*Xw,Qw[1]=Uw*Zw,Qw[5]=Uw*Yw,Qw[9]=-Vw,Qw[2]=dx*Vw-ex,Qw[6]=fx+cx*Vw,Qw[10]=Uw*Ww}else if("ZXY"===Pw.order){const gx=Ww*Yw,hx=Ww*Zw,ix=Xw*Yw,jx=Xw*Zw;Qw[0]=gx-jx*Vw,Qw[4]=-Uw*Zw,Qw[8]=ix+hx*Vw,Qw[1]=hx+ix*Vw,Qw[5]=Uw*Yw,Qw[9]=jx-gx*Vw,Qw[2]=-Uw*Xw,Qw[6]=Vw,Qw[10]=Uw*Ww}else if("ZYX"===Pw.order){const kx=Uw*Yw,lx=Uw*Zw,mx=Vw*Yw,nx=Vw*Zw;Qw[0]=Ww*Yw,Qw[4]=mx*Xw-lx,Qw[8]=kx*Xw+nx,Qw[1]=Ww*Zw,Qw[5]=nx*Xw+kx,Qw[9]=lx*Xw-mx,Qw[2]=-Xw,Qw[6]=Vw*Ww,Qw[10]=Uw*Ww}else if("YZX"===Pw.order){const ox=Uw*Ww,px=Uw*Xw,qx=Vw*Ww,rx=Vw*Xw;Qw[0]=Ww*Yw,Qw[4]=rx-ox*Zw,Qw[8]=qx*Zw+px,Qw[1]=Zw,Qw[5]=Uw*Yw,Qw[9]=-Vw*Yw,Qw[2]=-Xw*Yw,Qw[6]=px*Zw+qx,Qw[10]=ox-rx*Zw}else if("XZY"===Pw.order){const sx=Uw*Ww,tx=Uw*Xw,ux=Vw*Ww,vx=Vw*Xw;Qw[0]=Ww*Yw,Qw[4]=-Zw,Qw[8]=Xw*Yw,Qw[1]=sx*Zw+vx,Qw[5]=Uw*Yw,Qw[9]=tx*Zw-ux,Qw[2]=ux*Zw-tx,Qw[6]=Vw*Yw,Qw[10]=vx*Zw+sx}return Qw[3]=0,Qw[7]=0,Qw[11]=0,Qw[12]=0,Qw[13]=0,Qw[14]=0,Qw[15]=1,this}makeRotationFromQuaternion(wx){return this.compose(cB,wx,dB)}lookAt(xx,yx,zx){const Ax=this.elements;return gB.subVectors(xx,yx),0===gB.lengthSq()&&(gB.z=1),gB.normalize(),eB.crossVectors(zx,gB),0===eB.lengthSq()&&(1===Math.abs(zx.z)?gB.x+=0.0001:gB.z+=0.0001,gB.normalize(),eB.crossVectors(zx,gB)),eB.normalize(),fB.crossVectors(gB,eB),Ax[0]=eB.x,Ax[4]=fB.x,Ax[8]=gB.x,Ax[1]=eB.y,Ax[5]=fB.y,Ax[9]=gB.y,Ax[2]=eB.z,Ax[6]=fB.z,Ax[10]=gB.z,this}multiply(Bx,Cx){return void 0!==Cx?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(Bx,Cx)):this.multiplyMatrices(this,Bx)}premultiply(Dx){return this.multiplyMatrices(Dx,this)}multiplyMatrices(Ex,Fx){const Gx=Ex.elements,Hx=Fx.elements,Ix=this.elements,Jx=Gx[0],Kx=Gx[4],Lx=Gx[8],Mx=Gx[12],Nx=Gx[1],Ox=Gx[5],Px=Gx[9],Qx=Gx[13],Rx=Gx[2],Sx=Gx[6],Tx=Gx[10],Ux=Gx[14],Vx=Gx[3],Wx=Gx[7],Xx=Gx[11],Yx=Gx[15],Zx=Hx[0],$x=Hx[4],_x=Hx[8],ay=Hx[12],by=Hx[1],cy=Hx[5],dy=Hx[9],ey=Hx[13],fy=Hx[2],gy=Hx[6],hy=Hx[10],iy=Hx[14],jy=Hx[3],ky=Hx[7],ly=Hx[11],my=Hx[15];return Ix[0]=Jx*Zx+Kx*by+Lx*fy+Mx*jy,Ix[4]=Jx*$x+Kx*cy+Lx*gy+Mx*ky,Ix[8]=Jx*_x+Kx*dy+Lx*hy+Mx*ly,Ix[12]=Jx*ay+Kx*ey+Lx*iy+Mx*my,Ix[1]=Nx*Zx+Ox*by+Px*fy+Qx*jy,Ix[5]=Nx*$x+Ox*cy+Px*gy+Qx*ky,Ix[9]=Nx*_x+Ox*dy+Px*hy+Qx*ly,Ix[13]=Nx*ay+Ox*ey+Px*iy+Qx*my,Ix[2]=Rx*Zx+Sx*by+Tx*fy+Ux*jy,Ix[6]=Rx*$x+Sx*cy+Tx*gy+Ux*ky,Ix[10]=Rx*_x+Sx*dy+Tx*hy+Ux*ly,Ix[14]=Rx*ay+Sx*ey+Tx*iy+Ux*my,Ix[3]=Vx*Zx+Wx*by+Xx*fy+Yx*jy,Ix[7]=Vx*$x+Wx*cy+Xx*gy+Yx*ky,Ix[11]=Vx*_x+Wx*dy+Xx*hy+Yx*ly,Ix[15]=Vx*ay+Wx*ey+Xx*iy+Yx*my,this}multiplyScalar(ny){const oy=this.elements;return oy[0]*=ny,oy[4]*=ny,oy[8]*=ny,oy[12]*=ny,oy[1]*=ny,oy[5]*=ny,oy[9]*=ny,oy[13]*=ny,oy[2]*=ny,oy[6]*=ny,oy[10]*=ny,oy[14]*=ny,oy[3]*=ny,oy[7]*=ny,oy[11]*=ny,oy[15]*=ny,this}determinant(){const py=this.elements,qy=py[0],ry=py[4],sy=py[8],ty=py[12],uy=py[1],vy=py[5],wy=py[9],xy=py[13],yy=py[2],zy=py[6],Ay=py[10],By=py[14],Cy=py[3],Dy=py[7],Ey=py[11],Fy=py[15];return Cy*(+ty*wy*zy-sy*xy*zy-ty*vy*Ay+ry*xy*Ay+sy*vy*By-ry*wy*By)+Dy*(+qy*wy*By-qy*xy*Ay+ty*uy*Ay-sy*uy*By+sy*xy*yy-ty*wy*yy)+Ey*(+qy*xy*zy-qy*vy*By-ty*uy*zy+ry*uy*By+ty*vy*yy-ry*xy*yy)+Fy*(-sy*vy*yy-qy*wy*zy+qy*vy*Ay+sy*uy*zy-ry*uy*Ay+ry*wy*yy)}transpose(){const Gy=this.elements;let Hy;return Hy=Gy[1],Gy[1]=Gy[4],Gy[4]=Hy,Hy=Gy[2],Gy[2]=Gy[8],Gy[8]=Hy,Hy=Gy[6],Gy[6]=Gy[9],Gy[9]=Hy,Hy=Gy[3],Gy[3]=Gy[12],Gy[12]=Hy,Hy=Gy[7],Gy[7]=Gy[13],Gy[13]=Hy,Hy=Gy[11],Gy[11]=Gy[14],Gy[14]=Hy,this}setPosition(Iy,Jy,Ky){const Ly=this.elements;return Iy.isVector3?(Ly[12]=Iy.x,Ly[13]=Iy.y,Ly[14]=Iy.z):(Ly[12]=Iy,Ly[13]=Jy,Ly[14]=Ky),this}invert(){const My=this.elements,Ny=My[0],Oy=My[1],Py=My[2],Qy=My[3],Ry=My[4],Sy=My[5],Ty=My[6],Uy=My[7],Vy=My[8],Wy=My[9],Xy=My[10],Yy=My[11],Zy=My[12],$y=My[13],_y=My[14],az=My[15],bz=Wy*_y*Uy-$y*Xy*Uy+$y*Ty*Yy-Sy*_y*Yy-Wy*Ty*az+Sy*Xy*az,cz=Zy*Xy*Uy-Vy*_y*Uy-Zy*Ty*Yy+Ry*_y*Yy+Vy*Ty*az-Ry*Xy*az,dz=Vy*$y*Uy-Zy*Wy*Uy+Zy*Sy*Yy-Ry*$y*Yy-Vy*Sy*az+Ry*Wy*az,ez=Zy*Wy*Ty-Vy*$y*Ty-Zy*Sy*Xy+Ry*$y*Xy+Vy*Sy*_y-Ry*Wy*_y,fz=Ny*bz+Oy*cz+Py*dz+Qy*ez;if(0===fz)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const gz=1/fz;return My[0]=bz*gz,My[1]=($y*Xy*Qy-Wy*_y*Qy-$y*Py*Yy+Oy*_y*Yy+Wy*Py*az-Oy*Xy*az)*gz,My[2]=(Sy*_y*Qy-$y*Ty*Qy+$y*Py*Uy-Oy*_y*Uy-Sy*Py*az+Oy*Ty*az)*gz,My[3]=(Wy*Ty*Qy-Sy*Xy*Qy-Wy*Py*Uy+Oy*Xy*Uy+Sy*Py*Yy-Oy*Ty*Yy)*gz,My[4]=cz*gz,My[5]=(Vy*_y*Qy-Zy*Xy*Qy+Zy*Py*Yy-Ny*_y*Yy-Vy*Py*az+Ny*Xy*az)*gz,My[6]=(Zy*Ty*Qy-Ry*_y*Qy-Zy*Py*Uy+Ny*_y*Uy+Ry*Py*az-Ny*Ty*az)*gz,My[7]=(Ry*Xy*Qy-Vy*Ty*Qy+Vy*Py*Uy-Ny*Xy*Uy-Ry*Py*Yy+Ny*Ty*Yy)*gz,My[8]=dz*gz,My[9]=(Zy*Wy*Qy-Vy*$y*Qy-Zy*Oy*Yy+Ny*$y*Yy+Vy*Oy*az-Ny*Wy*az)*gz,My[10]=(Ry*$y*Qy-Zy*Sy*Qy+Zy*Oy*Uy-Ny*$y*Uy-Ry*Oy*az+Ny*Sy*az)*gz,My[11]=(Vy*Sy*Qy-Ry*Wy*Qy-Vy*Oy*Uy+Ny*Wy*Uy+Ry*Oy*Yy-Ny*Sy*Yy)*gz,My[12]=ez*gz,My[13]=(Vy*$y*Py-Zy*Wy*Py+Zy*Oy*Xy-Ny*$y*Xy-Vy*Oy*_y+Ny*Wy*_y)*gz,My[14]=(Zy*Sy*Py-Ry*$y*Py-Zy*Oy*Ty+Ny*$y*Ty+Ry*Oy*_y-Ny*Sy*_y)*gz,My[15]=(Ry*Wy*Py-Vy*Sy*Py+Vy*Oy*Ty-Ny*Wy*Ty-Ry*Oy*Xy+Ny*Sy*Xy)*gz,this}scale(hz){const iz=this.elements,jz=hz.x,kz=hz.y,lz=hz.z;return iz[0]*=jz,iz[4]*=kz,iz[8]*=lz,iz[1]*=jz,iz[5]*=kz,iz[9]*=lz,iz[2]*=jz,iz[6]*=kz,iz[10]*=lz,iz[3]*=jz,iz[7]*=kz,iz[11]*=lz,this}getMaxScaleOnAxis(){const mz=this.elements,nz=mz[0]*mz[0]+mz[1]*mz[1]+mz[2]*mz[2],oz=mz[4]*mz[4]+mz[5]*mz[5]+mz[6]*mz[6],pz=mz[8]*mz[8]+mz[9]*mz[9]+mz[10]*mz[10];return Math.sqrt(Math.max(nz,oz,pz))}makeTranslation(qz,rz,sz){return this.set(1,0,0,qz,0,1,0,rz,0,0,1,sz,0,0,0,1),this}makeRotationX(tz){const uz=Math.cos(tz),vz=Math.sin(tz);return this.set(1,0,0,0,0,uz,-vz,0,0,vz,uz,0,0,0,0,1),this}makeRotationY(wz){const xz=Math.cos(wz),yz=Math.sin(wz);return this.set(xz,0,yz,0,0,1,0,0,-yz,0,xz,0,0,0,0,1),this}makeRotationZ(zz){const Az=Math.cos(zz),Bz=Math.sin(zz);return this.set(Az,-Bz,0,0,Bz,Az,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(Cz,Dz){const Ez=Math.cos(Dz),Fz=Math.sin(Dz),Gz=1-Ez,Hz=Cz.x,Iz=Cz.y,Jz=Cz.z,Kz=Gz*Hz,Lz=Gz*Iz;return this.set(Kz*Hz+Ez,Kz*Iz-Fz*Jz,Kz*Jz+Fz*Iz,0,Kz*Iz+Fz*Jz,Lz*Iz+Ez,Lz*Jz-Fz*Hz,0,Kz*Jz-Fz*Iz,Lz*Jz+Fz*Hz,Gz*Jz*Jz+Ez,0,0,0,0,1),this}makeScale(Mz,Nz,Oz){return this.set(Mz,0,0,0,0,Nz,0,0,0,0,Oz,0,0,0,0,1),this}makeShear(Pz,Qz,Rz,Sz,Tz,Uz){return this.set(1,Rz,Tz,0,Pz,1,Uz,0,Qz,Sz,1,0,0,0,0,1),this}compose(Vz,Wz,Xz){const Yz=this.elements,Zz=Wz._x,$z=Wz._y,_z=Wz._z,aA=Wz._w,bA=Zz+Zz,cA=$z+$z,dA=_z+_z,eA=Zz*bA,fA=Zz*cA,gA=Zz*dA,hA=$z*cA,iA=$z*dA,jA=_z*dA,kA=aA*bA,lA=aA*cA,mA=aA*dA,nA=Xz.x,oA=Xz.y,pA=Xz.z;return Yz[0]=(1-(hA+jA))*nA,Yz[1]=(fA+mA)*nA,Yz[2]=(gA-lA)*nA,Yz[3]=0,Yz[4]=(fA-mA)*oA,Yz[5]=(1-(eA+jA))*oA,Yz[6]=(iA+kA)*oA,Yz[7]=0,Yz[8]=(gA+lA)*pA,Yz[9]=(iA-kA)*pA,Yz[10]=(1-(eA+hA))*pA,Yz[11]=0,Yz[12]=Vz.x,Yz[13]=Vz.y,Yz[14]=Vz.z,Yz[15]=1,this}decompose(qA,rA,sA){const tA=this.elements;let uA=aB.set(tA[0],tA[1],tA[2]).length();const vA=aB.set(tA[4],tA[5],tA[6]).length(),wA=aB.set(tA[8],tA[9],tA[10]).length(),xA=this.determinant();xA<0&&(uA=-uA),qA.x=tA[12],qA.y=tA[13],qA.z=tA[14],bB.copy(this);const yA=1/uA,zA=1/vA,AA=1/wA;return bB.elements[0]*=yA,bB.elements[1]*=yA,bB.elements[2]*=yA,bB.elements[4]*=zA,bB.elements[5]*=zA,bB.elements[6]*=zA,bB.elements[8]*=AA,bB.elements[9]*=AA,bB.elements[10]*=AA,rA.setFromRotationMatrix(bB),sA.x=uA,sA.y=vA,sA.z=wA,this}makePerspective(BA,CA,DA,EA,FA,GA){void 0===GA&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const HA=this.elements;return HA[0]=2*FA/(CA-BA),HA[4]=0,HA[8]=(CA+BA)/(CA-BA),HA[12]=0,HA[1]=0,HA[5]=2*FA/(DA-EA),HA[9]=(DA+EA)/(DA-EA),HA[13]=0,HA[2]=0,HA[6]=0,HA[10]=-(GA+FA)/(GA-FA),HA[14]=-2*GA*FA/(GA-FA),HA[3]=0,HA[7]=0,HA[11]=-1,HA[15]=0,this}makeOrthographic(IA,JA,KA,LA,MA,NA){const OA=this.elements,PA=1/(JA-IA),QA=1/(KA-LA),RA=1/(NA-MA);return OA[0]=2*PA,OA[4]=0,OA[8]=0,OA[12]=-((JA+IA)*PA),OA[1]=0,OA[5]=2*QA,OA[9]=0,OA[13]=-((KA+LA)*QA),OA[2]=0,OA[6]=0,OA[10]=-2*RA,OA[14]=-((NA+MA)*RA),OA[3]=0,OA[7]=0,OA[11]=0,OA[15]=1,this}equals(SA){const TA=this.elements,UA=SA.elements;for(let VA=0;VA<16;VA++)if(TA[VA]!==UA[VA])return!1;return!0}fromArray(WA,XA=0){for(let YA=0;YA<16;YA++)this.elements[YA]=WA[YA+XA];return this}toArray(ZA=[],$A=0){const _A=this.elements;return ZA[$A]=_A[0],ZA[$A+1]=_A[1],ZA[$A+2]=_A[2],ZA[$A+3]=_A[3],ZA[$A+4]=_A[4],ZA[$A+5]=_A[5],ZA[$A+6]=_A[6],ZA[$A+7]=_A[7],ZA[$A+8]=_A[8],ZA[$A+9]=_A[9],ZA[$A+10]=_A[10],ZA[$A+11]=_A[11],ZA[$A+12]=_A[12],ZA[$A+13]=_A[13],ZA[$A+14]=_A[14],ZA[$A+15]=_A[15],ZA}}dw.prototype.isMatrix4=!0;const aB=new Sp(),bB=new dw(),cB=new Sp(0,0,0),dB=new Sp(1,1,1),eB=new Sp(),fB=new Sp(),gB=new Sp(),hB=new dw(),iB=new kn();class jB{constructor(kB=0,lB=0,mB=0,nB=jB.DefaultOrder){this._x=kB,this._y=lB,this._z=mB,this._order=nB}get x(){return this._x}set x(oB){this._x=oB,this._onChangeCallback()}get y(){return this._y}set y(pB){this._y=pB,this._onChangeCallback()}get z(){return this._z}set z(qB){this._z=qB,this._onChangeCallback()}get order(){return this._order}set order(rB){this._order=rB,this._onChangeCallback()}set(sB,tB,uB,vB=this._order){return this._x=sB,this._y=tB,this._z=uB,this._order=vB,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(wB){return this._x=wB._x,this._y=wB._y,this._z=wB._z,this._order=wB._order,this._onChangeCallback(),this}setFromRotationMatrix(xB,yB=this._order,zB=!0){const AB=xB.elements,BB=AB[0],CB=AB[4],DB=AB[8],EB=AB[1],FB=AB[5],GB=AB[9],HB=AB[2],IB=AB[6],JB=AB[10];switch(yB){case"XYZ":this._y=Math.asin(Zg(DB,-1,1)),0.9999999>Math.abs(DB)?(this._x=Math.atan2(-GB,JB),this._z=Math.atan2(-CB,BB)):(this._x=Math.atan2(IB,FB),this._z=0);break;case"YXZ":this._x=Math.asin(-Zg(GB,-1,1)),0.9999999>Math.abs(GB)?(this._y=Math.atan2(DB,JB),this._z=Math.atan2(EB,FB)):(this._y=Math.atan2(-HB,BB),this._z=0);break;case"ZXY":this._x=Math.asin(Zg(IB,-1,1)),0.9999999>Math.abs(IB)?(this._y=Math.atan2(-HB,JB),this._z=Math.atan2(-CB,FB)):(this._y=0,this._z=Math.atan2(EB,BB));break;case"ZYX":this._y=Math.asin(-Zg(HB,-1,1)),0.9999999>Math.abs(HB)?(this._x=Math.atan2(IB,JB),this._z=Math.atan2(EB,BB)):(this._x=0,this._z=Math.atan2(-CB,FB));break;case"YZX":this._z=Math.asin(Zg(EB,-1,1)),0.9999999>Math.abs(EB)?(this._x=Math.atan2(-GB,FB),this._y=Math.atan2(-HB,BB)):(this._x=0,this._y=Math.atan2(DB,JB));break;case"XZY":this._z=Math.asin(-Zg(CB,-1,1)),0.9999999>Math.abs(CB)?(this._x=Math.atan2(IB,FB),this._y=Math.atan2(DB,BB)):(this._x=Math.atan2(-GB,JB),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+yB)}return this._order=yB,!0===zB&&this._onChangeCallback(),this}setFromQuaternion(KB,LB,MB){return hB.makeRotationFromQuaternion(KB),this.setFromRotationMatrix(hB,LB,MB)}setFromVector3(NB,OB=this._order){return this.set(NB.x,NB.y,NB.z,OB)}reorder(PB){return iB.setFromEuler(this),this.setFromQuaternion(iB,PB)}equals(QB){return QB._x===this._x&&QB._y===this._y&&QB._z===this._z&&QB._order===this._order}fromArray(RB){return this._x=RB[0],this._y=RB[1],this._z=RB[2],void 0!==RB[3]&&(this._order=RB[3]),this._onChangeCallback(),this}toArray(SB=[],TB=0){return SB[TB]=this._x,SB[TB+1]=this._y,SB[TB+2]=this._z,SB[TB+3]=this._order,SB}toVector3(UB){return UB?UB.set(this._x,this._y,this._z):new Sp(this._x,this._y,this._z)}_onChange(VB){return this._onChangeCallback=VB,this}_onChangeCallback(){}}jB.prototype.isEuler=!0,jB.DefaultOrder="XYZ",jB.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];let WB=0;const XB=new Sp(),YB=new kn(),ZB=new dw(),$B=new Sp(),_B=new Sp(),aC=new Sp(),bC=new kn(),cC=new Sp(1,0,0),dC=new Sp(0,1,0),eC=new Sp(0,0,1),fC={type:"added"},gC={type:"removed"};class hC extends Bg{constructor(){super(),Object.defineProperty(this,"id",{value:WB++}),this.uuid=Yg(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=hC.DefaultUp.clone();const iC=new Sp(),jC=new jB(),kC=new kn(),lC=new Sp(1,1,1);jC._onChange(function(){kC.setFromEuler(jC,!1)}),kC._onChange(function(){jC.setFromQuaternion(kC,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:iC},rotation:{configurable:!0,enumerable:!0,value:jC},quaternion:{configurable:!0,enumerable:!0,value:kC},scale:{configurable:!0,enumerable:!0,value:lC},modelViewMatrix:{value:new dw()},normalMatrix:{value:new vi()}}),this.matrix=new dw(),this.matrixWorld=new dw(),this.matrixAutoUpdate=hC.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new class{constructor(){this.mask=1}set(mC){this.mask=(1<<mC|0)>>>0}enable(nC){this.mask|=1<<nC|0}enableAll(){this.mask=-1}toggle(oC){this.mask^=1<<oC|0}disable(pC){this.mask&=~(1<<pC|0)}disableAll(){this.mask=0}test(qC){return(this.mask&qC.mask)!=0}isEnabled(rC){return(this.mask&(1<<rC|0))!=0}}(),this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(sC){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(sC),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(tC){return this.quaternion.premultiply(tC),this}setRotationFromAxisAngle(uC,vC){this.quaternion.setFromAxisAngle(uC,vC)}setRotationFromEuler(wC){this.quaternion.setFromEuler(wC,!0)}setRotationFromMatrix(xC){this.quaternion.setFromRotationMatrix(xC)}setRotationFromQuaternion(yC){this.quaternion.copy(yC)}rotateOnAxis(zC,AC){return YB.setFromAxisAngle(zC,AC),this.quaternion.multiply(YB),this}rotateOnWorldAxis(BC,CC){return YB.setFromAxisAngle(BC,CC),this.quaternion.premultiply(YB),this}rotateX(DC){return this.rotateOnAxis(cC,DC)}rotateY(EC){return this.rotateOnAxis(dC,EC)}rotateZ(FC){return this.rotateOnAxis(eC,FC)}translateOnAxis(GC,HC){return XB.copy(GC).applyQuaternion(this.quaternion),this.position.add(XB.multiplyScalar(HC)),this}translateX(IC){return this.translateOnAxis(cC,IC)}translateY(JC){return this.translateOnAxis(dC,JC)}translateZ(KC){return this.translateOnAxis(eC,KC)}localToWorld(LC){return LC.applyMatrix4(this.matrixWorld)}worldToLocal(MC){return MC.applyMatrix4(ZB.copy(this.matrixWorld).invert())}lookAt(NC,OC,PC){NC.isVector3?$B.copy(NC):$B.set(NC,OC,PC);const QC=this.parent;this.updateWorldMatrix(!0,!1),_B.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?ZB.lookAt(_B,$B,this.up):ZB.lookAt($B,_B,this.up),this.quaternion.setFromRotationMatrix(ZB),QC&&(ZB.extractRotation(QC.matrixWorld),YB.setFromRotationMatrix(ZB),this.quaternion.premultiply(YB.invert()))}add(RC){if(arguments.length>1){for(let SC=0;SC<arguments.length;SC++)this.add(arguments[SC]);return this}return RC===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",RC),this):(RC&&RC.isObject3D?(null!==RC.parent&&RC.parent.remove(RC),RC.parent=this,this.children.push(RC),RC.dispatchEvent(fC)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",RC),this)}remove(TC){if(arguments.length>1){for(let UC=0;UC<arguments.length;UC++)this.remove(arguments[UC]);return this}const VC=this.children.indexOf(TC);return -1!==VC&&(TC.parent=null,this.children.splice(VC,1),TC.dispatchEvent(gC)),this}removeFromParent(){const WC=this.parent;return null!==WC&&WC.remove(this),this}clear(){for(let XC=0;XC<this.children.length;XC++){const YC=this.children[XC];YC.parent=null,YC.dispatchEvent(gC)}return this.children.length=0,this}attach(ZC){return this.updateWorldMatrix(!0,!1),ZB.copy(this.matrixWorld).invert(),null!==ZC.parent&&(ZC.parent.updateWorldMatrix(!0,!1),ZB.multiply(ZC.parent.matrixWorld)),ZC.applyMatrix4(ZB),this.add(ZC),ZC.updateWorldMatrix(!1,!0),this}getObjectById($C){return this.getObjectByProperty("id",$C)}getObjectByName(_C){return this.getObjectByProperty("name",_C)}getObjectByProperty(aD,bD){if(this[aD]===bD)return this;for(let cD=0,dD=this.children.length;cD<dD;cD++){const eD=this.children[cD],fD=eD.getObjectByProperty(aD,bD);if(void 0!==fD)return fD}}getWorldPosition(gD){return this.updateWorldMatrix(!0,!1),gD.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(hD){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_B,hD,aC),hD}getWorldScale(iD){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_B,bC,iD),iD}getWorldDirection(jD){this.updateWorldMatrix(!0,!1);const kD=this.matrixWorld.elements;return jD.set(kD[8],kD[9],kD[10]).normalize()}raycast(){}traverse(lD){lD(this);const mD=this.children;for(let nD=0,oD=mD.length;nD<oD;nD++)mD[nD].traverse(lD)}traverseVisible(pD){if(!1!==this.visible){pD(this);const qD=this.children;for(let rD=0,sD=qD.length;rD<sD;rD++)qD[rD].traverseVisible(pD)}}traverseAncestors(tD){const uD=this.parent;null!==uD&&(tD(uD),uD.traverseAncestors(tD))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(vD){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||vD)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,vD=!0);const wD=this.children;for(let xD=0,yD=wD.length;xD<yD;xD++)wD[xD].updateMatrixWorld(vD)}updateWorldMatrix(zD,AD){const BD=this.parent;if(!0===zD&&null!==BD&&BD.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===AD){const CD=this.children;for(let DD=0,ED=CD.length;DD<ED;DD++)CD[DD].updateWorldMatrix(!1,!0)}}toJSON(FD){const GD=void 0===FD||"string"==typeof FD,HD={};GD&&(FD={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}},HD.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const ID={};function JD(a,b){return void 0===a[b.uuid]&&(a[b.uuid]=b.toJSON(FD)),b.uuid}if(ID.uuid=this.uuid,ID.type=this.type,""!==this.name&&(ID.name=this.name),!0===this.castShadow&&(ID.castShadow=!0),!0===this.receiveShadow&&(ID.receiveShadow=!0),!1===this.visible&&(ID.visible=!1),!1===this.frustumCulled&&(ID.frustumCulled=!1),0!==this.renderOrder&&(ID.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(ID.userData=this.userData),ID.layers=this.layers.mask,ID.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(ID.matrixAutoUpdate=!1),this.isInstancedMesh&&(ID.type="InstancedMesh",ID.count=this.count,ID.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(ID.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?ID.background=this.background.toJSON():this.background.isTexture&&(ID.background=this.background.toJSON(FD).uuid)),this.environment&&this.environment.isTexture&&(ID.environment=this.environment.toJSON(FD).uuid);else if(this.isMesh||this.isLine||this.isPoints){ID.geometry=JD(FD.geometries,this.geometry);const KD=this.geometry.parameters;if(void 0!==KD&& void 0!==KD.shapes){const LD=KD.shapes;if(Array.isArray(LD))for(let MD=0,ND=LD.length;MD<ND;MD++){const OD=LD[MD];JD(FD.shapes,OD)}else JD(FD.shapes,LD)}}if(this.isSkinnedMesh&&(ID.bindMode=this.bindMode,ID.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(JD(FD.skeletons,this.skeleton),ID.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const PD=[];for(let QD=0,RD=this.material.length;QD<RD;QD++)PD.push(JD(FD.materials,this.material[QD]));ID.material=PD}else ID.material=JD(FD.materials,this.material);if(this.children.length>0){ID.children=[];for(let SD=0;SD<this.children.length;SD++)ID.children.push(this.children[SD].toJSON(FD).object)}if(this.animations.length>0){ID.animations=[];for(let TD=0;TD<this.animations.length;TD++){const UD=this.animations[TD];ID.animations.push(JD(FD.animations,UD))}}if(GD){const VD=aE(FD.geometries),WD=aE(FD.materials),XD=aE(FD.textures),YD=aE(FD.images),ZD=aE(FD.shapes),$D=aE(FD.skeletons),_D=aE(FD.animations);VD.length>0&&(HD.geometries=VD),WD.length>0&&(HD.materials=WD),XD.length>0&&(HD.textures=XD),YD.length>0&&(HD.images=YD),ZD.length>0&&(HD.shapes=ZD),$D.length>0&&(HD.skeletons=$D),_D.length>0&&(HD.animations=_D)}return HD.object=ID,HD;function aE(a){const b=[];for(const c in a){const d=a[c];delete d.metadata,b.push(d)}return b}}clone(bE){return new this.constructor().copy(this,bE)}copy(cE,dE=!0){if(this.name=cE.name,this.up.copy(cE.up),this.position.copy(cE.position),this.rotation.order=cE.rotation.order,this.quaternion.copy(cE.quaternion),this.scale.copy(cE.scale),this.matrix.copy(cE.matrix),this.matrixWorld.copy(cE.matrixWorld),this.matrixAutoUpdate=cE.matrixAutoUpdate,this.matrixWorldNeedsUpdate=cE.matrixWorldNeedsUpdate,this.layers.mask=cE.layers.mask,this.visible=cE.visible,this.castShadow=cE.castShadow,this.receiveShadow=cE.receiveShadow,this.frustumCulled=cE.frustumCulled,this.renderOrder=cE.renderOrder,this.userData=JSON.parse(JSON.stringify(cE.userData)),!0===dE)for(let eE=0;eE<cE.children.length;eE++){const fE=cE.children[eE];this.add(fE.clone())}return this}}hC.DefaultUp=new Sp(0,1,0),hC.DefaultMatrixAutoUpdate=!0,hC.prototype.isObject3D=!0;const gE=new Sp(),hE=new Sp(),iE=new Sp(),jE=new Sp(),kE=new Sp(),lE=new Sp(),mE=new Sp(),nE=new Sp(),oE=new Sp(),pE=new Sp();class qE{constructor(rE=new Sp(),sE=new Sp(),tE=new Sp()){this.a=rE,this.b=sE,this.c=tE}static getNormal(uE,vE,wE,xE){xE.subVectors(wE,vE),gE.subVectors(uE,vE),xE.cross(gE);const yE=xE.lengthSq();return yE>0?xE.multiplyScalar(1/Math.sqrt(yE)):xE.set(0,0,0)}static getBarycoord(zE,AE,BE,CE,DE){gE.subVectors(CE,AE),hE.subVectors(BE,AE),iE.subVectors(zE,AE);const EE=gE.dot(gE),FE=gE.dot(hE),GE=gE.dot(iE),HE=hE.dot(hE),IE=hE.dot(iE),JE=EE*HE-FE*FE;if(0===JE)return DE.set(-2,-1,-1);const KE=1/JE,LE=(HE*GE-FE*IE)*KE,ME=(EE*IE-FE*GE)*KE;return DE.set(1-LE-ME,ME,LE)}static containsPoint(NE,OE,PE,QE){return this.getBarycoord(NE,OE,PE,QE,jE),jE.x>=0&&jE.y>=0&&jE.x+jE.y<=1}static getUV(RE,SE,TE,UE,VE,WE,XE,YE){return this.getBarycoord(RE,SE,TE,UE,jE),YE.set(0,0),YE.addScaledVector(VE,jE.x),YE.addScaledVector(WE,jE.y),YE.addScaledVector(XE,jE.z),YE}static isFrontFacing(ZE,$E,_E,aF){return gE.subVectors(_E,$E),hE.subVectors(ZE,$E),0>gE.cross(hE).dot(aF)}set(bF,cF,dF){return this.a.copy(bF),this.b.copy(cF),this.c.copy(dF),this}setFromPointsAndIndices(eF,fF,gF,hF){return this.a.copy(eF[fF]),this.b.copy(eF[gF]),this.c.copy(eF[hF]),this}setFromAttributeAndIndices(iF,jF,kF,lF){return this.a.fromBufferAttribute(iF,jF),this.b.fromBufferAttribute(iF,kF),this.c.fromBufferAttribute(iF,lF),this}clone(){return new this.constructor().copy(this)}copy(mF){return this.a.copy(mF.a),this.b.copy(mF.b),this.c.copy(mF.c),this}getArea(){return gE.subVectors(this.c,this.b),hE.subVectors(this.a,this.b),0.5*gE.cross(hE).length()}getMidpoint(nF){return nF.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(oF){return qE.getNormal(this.a,this.b,this.c,oF)}getPlane(pF){return pF.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(qF,rF){return qE.getBarycoord(qF,this.a,this.b,this.c,rF)}getUV(sF,tF,uF,vF,wF){return qE.getUV(sF,this.a,this.b,this.c,tF,uF,vF,wF)}containsPoint(xF){return qE.containsPoint(xF,this.a,this.b,this.c)}isFrontFacing(yF){return qE.isFrontFacing(this.a,this.b,this.c,yF)}intersectsBox(zF){return zF.intersectsTriangle(this)}closestPointToPoint(AF,BF){const CF=this.a,DF=this.b,EF=this.c;let FF,GF;kE.subVectors(DF,CF),lE.subVectors(EF,CF),nE.subVectors(AF,CF);const HF=kE.dot(nE),IF=lE.dot(nE);if(HF<=0&&IF<=0)return BF.copy(CF);oE.subVectors(AF,DF);const JF=kE.dot(oE),KF=lE.dot(oE);if(JF>=0&&KF<=JF)return BF.copy(DF);const LF=HF*KF-JF*IF;if(LF<=0&&HF>=0&&JF<=0)return FF=HF/(HF-JF),BF.copy(CF).addScaledVector(kE,FF);pE.subVectors(AF,EF);const MF=kE.dot(pE),NF=lE.dot(pE);if(NF>=0&&MF<=NF)return BF.copy(EF);const OF=MF*IF-HF*NF;if(OF<=0&&IF>=0&&NF<=0)return GF=IF/(IF-NF),BF.copy(CF).addScaledVector(lE,GF);const PF=JF*NF-MF*KF;if(PF<=0&&KF-JF>=0&&MF-NF>=0)return mE.subVectors(EF,DF),GF=(KF-JF)/(KF-JF+(MF-NF)),BF.copy(DF).addScaledVector(mE,GF);const QF=1/(PF+OF+LF);return FF=OF*QF,GF=LF*QF,BF.copy(CF).addScaledVector(kE,FF).addScaledVector(lE,GF)}equals(RF){return RF.a.equals(this.a)&&RF.b.equals(this.b)&&RF.c.equals(this.c)}}let SF=0;class TF extends Bg{constructor(){super(),Object.defineProperty(this,"id",{value:SF++}),this.uuid=Yg(),this.name="",this.type="Material",this.fog=!0,this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.format=1023,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=7680,this.stencilZFail=7680,this.stencilZPass=7680,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(UF){this._alphaTest>0!=UF>0&&this.version++,this._alphaTest=UF}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(VF){if(void 0!==VF)for(const WF in VF){const XF=VF[WF];if(void 0===XF){console.warn("THREE.Material: '"+WF+"' parameter is undefined.");continue}if("shading"===WF){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===XF;continue}const YF=this[WF];if(void 0===YF){console.warn("THREE."+this.type+": '"+WF+"' is not a property of this material.");continue}YF&&YF.isColor?YF.set(XF):YF&&YF.isVector3&&XF&&XF.isVector3?YF.copy(XF):this[WF]=XF}}toJSON(ZF){const $F=void 0===ZF||"string"==typeof ZF;$F&&(ZF={textures:{},images:{}});const _F={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function aG(a){const b=[];for(const c in a){const d=a[c];delete d.metadata,b.push(d)}return b}if(_F.uuid=this.uuid,_F.type=this.type,""!==this.name&&(_F.name=this.name),this.color&&this.color.isColor&&(_F.color=this.color.getHex()),void 0!==this.roughness&&(_F.roughness=this.roughness),void 0!==this.metalness&&(_F.metalness=this.metalness),void 0!==this.sheen&&(_F.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(_F.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(_F.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(_F.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(_F.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(_F.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(_F.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(_F.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(_F.shininess=this.shininess),void 0!==this.clearcoat&&(_F.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(_F.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(_F.clearcoatMap=this.clearcoatMap.toJSON(ZF).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(_F.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(ZF).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(_F.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(ZF).uuid,_F.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(_F.map=this.map.toJSON(ZF).uuid),this.matcap&&this.matcap.isTexture&&(_F.matcap=this.matcap.toJSON(ZF).uuid),this.alphaMap&&this.alphaMap.isTexture&&(_F.alphaMap=this.alphaMap.toJSON(ZF).uuid),this.lightMap&&this.lightMap.isTexture&&(_F.lightMap=this.lightMap.toJSON(ZF).uuid,_F.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(_F.aoMap=this.aoMap.toJSON(ZF).uuid,_F.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(_F.bumpMap=this.bumpMap.toJSON(ZF).uuid,_F.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(_F.normalMap=this.normalMap.toJSON(ZF).uuid,_F.normalMapType=this.normalMapType,_F.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(_F.displacementMap=this.displacementMap.toJSON(ZF).uuid,_F.displacementScale=this.displacementScale,_F.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(_F.roughnessMap=this.roughnessMap.toJSON(ZF).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(_F.metalnessMap=this.metalnessMap.toJSON(ZF).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(_F.emissiveMap=this.emissiveMap.toJSON(ZF).uuid),this.specularMap&&this.specularMap.isTexture&&(_F.specularMap=this.specularMap.toJSON(ZF).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(_F.specularIntensityMap=this.specularIntensityMap.toJSON(ZF).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(_F.specularColorMap=this.specularColorMap.toJSON(ZF).uuid),this.envMap&&this.envMap.isTexture&&(_F.envMap=this.envMap.toJSON(ZF).uuid,void 0!==this.combine&&(_F.combine=this.combine)),void 0!==this.envMapIntensity&&(_F.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(_F.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(_F.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(_F.gradientMap=this.gradientMap.toJSON(ZF).uuid),void 0!==this.transmission&&(_F.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(_F.transmissionMap=this.transmissionMap.toJSON(ZF).uuid),void 0!==this.thickness&&(_F.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(_F.thicknessMap=this.thicknessMap.toJSON(ZF).uuid),void 0!==this.attenuationDistance&&(_F.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(_F.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(_F.size=this.size),null!==this.shadowSide&&(_F.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(_F.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(_F.blending=this.blending),0!==this.side&&(_F.side=this.side),this.vertexColors&&(_F.vertexColors=!0),this.opacity<1&&(_F.opacity=this.opacity),1023!==this.format&&(_F.format=this.format),!0===this.transparent&&(_F.transparent=this.transparent),_F.depthFunc=this.depthFunc,_F.depthTest=this.depthTest,_F.depthWrite=this.depthWrite,_F.colorWrite=this.colorWrite,_F.stencilWrite=this.stencilWrite,_F.stencilWriteMask=this.stencilWriteMask,_F.stencilFunc=this.stencilFunc,_F.stencilRef=this.stencilRef,_F.stencilFuncMask=this.stencilFuncMask,_F.stencilFail=this.stencilFail,_F.stencilZFail=this.stencilZFail,_F.stencilZPass=this.stencilZPass,this.rotation&&0!==this.rotation&&(_F.rotation=this.rotation),!0===this.polygonOffset&&(_F.polygonOffset=!0),0!==this.polygonOffsetFactor&&(_F.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(_F.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&1!==this.linewidth&&(_F.linewidth=this.linewidth),void 0!==this.dashSize&&(_F.dashSize=this.dashSize),void 0!==this.gapSize&&(_F.gapSize=this.gapSize),void 0!==this.scale&&(_F.scale=this.scale),!0===this.dithering&&(_F.dithering=!0),this.alphaTest>0&&(_F.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(_F.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(_F.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(_F.wireframe=this.wireframe),this.wireframeLinewidth>1&&(_F.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(_F.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(_F.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(_F.flatShading=this.flatShading),!1===this.visible&&(_F.visible=!1),!1===this.toneMapped&&(_F.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(_F.userData=this.userData),$F){const bG=aG(ZF.textures),cG=aG(ZF.images);bG.length>0&&(_F.textures=bG),cG.length>0&&(_F.images=cG)}return _F}clone(){return new this.constructor().copy(this)}copy(dG){this.name=dG.name,this.fog=dG.fog,this.blending=dG.blending,this.side=dG.side,this.vertexColors=dG.vertexColors,this.opacity=dG.opacity,this.format=dG.format,this.transparent=dG.transparent,this.blendSrc=dG.blendSrc,this.blendDst=dG.blendDst,this.blendEquation=dG.blendEquation,this.blendSrcAlpha=dG.blendSrcAlpha,this.blendDstAlpha=dG.blendDstAlpha,this.blendEquationAlpha=dG.blendEquationAlpha,this.depthFunc=dG.depthFunc,this.depthTest=dG.depthTest,this.depthWrite=dG.depthWrite,this.stencilWriteMask=dG.stencilWriteMask,this.stencilFunc=dG.stencilFunc,this.stencilRef=dG.stencilRef,this.stencilFuncMask=dG.stencilFuncMask,this.stencilFail=dG.stencilFail,this.stencilZFail=dG.stencilZFail,this.stencilZPass=dG.stencilZPass,this.stencilWrite=dG.stencilWrite;const eG=dG.clippingPlanes;let fG=null;if(null!==eG){const gG=eG.length;fG=new Array(gG);for(let hG=0;hG!==gG;++hG)fG[hG]=eG[hG].clone()}return this.clippingPlanes=fG,this.clipIntersection=dG.clipIntersection,this.clipShadows=dG.clipShadows,this.shadowSide=dG.shadowSide,this.colorWrite=dG.colorWrite,this.precision=dG.precision,this.polygonOffset=dG.polygonOffset,this.polygonOffsetFactor=dG.polygonOffsetFactor,this.polygonOffsetUnits=dG.polygonOffsetUnits,this.dithering=dG.dithering,this.alphaTest=dG.alphaTest,this.alphaToCoverage=dG.alphaToCoverage,this.premultipliedAlpha=dG.premultipliedAlpha,this.visible=dG.visible,this.toneMapped=dG.toneMapped,this.userData=JSON.parse(JSON.stringify(dG.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(iG){!0===iG&&this.version++}}TF.prototype.isMaterial=!0;const jG={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},kG={h:0,s:0,l:0},lG={h:0,s:0,l:0};function mG(a,b,c){return(c<0&&(c+=1),c>1&&(c-=1),c<1/6)?a+(b-a)*6*c:c<0.5?b:c<2/3?a+(b-a)*6*(2/3-c):a}function nG(a){return a<0.04045?0.0773993808*a:Math.pow(0.9478672986*a+0.0521327014,2.4)}function oG(a){return a<0.0031308?12.92*a:1.055*Math.pow(a,0.41666)-0.055}class pG{constructor(qG,rG,sG){if(void 0===rG&& void 0===sG)return this.set(qG);return this.setRGB(qG,rG,sG)}set(tG){return tG&&tG.isColor?this.copy(tG):"number"==typeof tG?this.setHex(tG):"string"==typeof tG&&this.setStyle(tG),this}setScalar(uG){return this.r=uG,this.g=uG,this.b=uG,this}setHex(vG){return vG=Math.floor(vG),this.r=(vG>>16&255)/255,this.g=(vG>>8&255)/255,this.b=(255&vG)/255,this}setRGB(wG,xG,yG){return this.r=wG,this.g=xG,this.b=yG,this}setHSL(zG,AG,BG){if(zG=$g(zG,1),AG=Zg(AG,0,1),BG=Zg(BG,0,1),0===AG)this.r=this.g=this.b=BG;else{const CG=BG<=0.5?BG*(1+AG):BG+AG-BG*AG,DG=2*BG-CG;this.r=mG(DG,CG,zG+1/3),this.g=mG(DG,CG,zG),this.b=mG(DG,CG,zG-1/3)}return this}setStyle(EG){function FG(a){void 0!==a&&1>parseFloat(a)&&console.warn("THREE.Color: Alpha component of "+EG+" will be ignored.")}let GG;if(GG=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(EG)){let HG;const IG=GG[1],JG=GG[2];switch(IG){case"rgb":case"rgba":if(HG=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(JG))return this.r=Math.min(255,parseInt(HG[1],10))/255,this.g=Math.min(255,parseInt(HG[2],10))/255,this.b=Math.min(255,parseInt(HG[3],10))/255,FG(HG[4]),this;if(HG=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(JG))return this.r=Math.min(100,parseInt(HG[1],10))/100,this.g=Math.min(100,parseInt(HG[2],10))/100,this.b=Math.min(100,parseInt(HG[3],10))/100,FG(HG[4]),this;break;case"hsl":case"hsla":if(HG=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(JG)){const KG=parseFloat(HG[1])/360,LG=parseInt(HG[2],10)/100,MG=parseInt(HG[3],10)/100;return FG(HG[4]),this.setHSL(KG,LG,MG)}break}}else if(GG=/^\#([A-Fa-f\d]+)$/.exec(EG)){const NG=GG[1],OG=NG.length;if(3===OG)return this.r=parseInt(NG.charAt(0)+NG.charAt(0),16)/255,this.g=parseInt(NG.charAt(1)+NG.charAt(1),16)/255,this.b=parseInt(NG.charAt(2)+NG.charAt(2),16)/255,this;if(6===OG)return this.r=parseInt(NG.charAt(0)+NG.charAt(1),16)/255,this.g=parseInt(NG.charAt(2)+NG.charAt(3),16)/255,this.b=parseInt(NG.charAt(4)+NG.charAt(5),16)/255,this}return EG&&EG.length>0?this.setColorName(EG):this}setColorName(PG){const QG=jG[PG.toLowerCase()];return void 0!==QG?this.setHex(QG):console.warn("THREE.Color: Unknown color "+PG),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(RG){return this.r=RG.r,this.g=RG.g,this.b=RG.b,this}copyGammaToLinear(SG,TG=2){return this.r=Math.pow(SG.r,TG),this.g=Math.pow(SG.g,TG),this.b=Math.pow(SG.b,TG),this}copyLinearToGamma(UG,VG=2){const WG=VG>0?1/VG:1;return this.r=Math.pow(UG.r,WG),this.g=Math.pow(UG.g,WG),this.b=Math.pow(UG.b,WG),this}convertGammaToLinear(XG){return this.copyGammaToLinear(this,XG),this}convertLinearToGamma(YG){return this.copyLinearToGamma(this,YG),this}copySRGBToLinear(ZG){return this.r=nG(ZG.r),this.g=nG(ZG.g),this.b=nG(ZG.b),this}copyLinearToSRGB($G){return this.r=oG($G.r),this.g=oG($G.g),this.b=oG($G.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0}getHexString(){return("000000"+this.getHex().toString(16)).slice(-6)}getHSL(_G){const aH=this.r,bH=this.g,cH=this.b,dH=Math.max(aH,bH,cH),eH=Math.min(aH,bH,cH);let fH,gH;const hH=(eH+dH)/2;if(eH===dH)fH=0,gH=0;else{const iH=dH-eH;switch(gH=hH<=0.5?iH/(dH+eH):iH/(2-dH-eH),dH){case aH:fH=(bH-cH)/iH+(bH<cH?6:0);break;case bH:fH=(cH-aH)/iH+2;break;case cH:fH=(aH-bH)/iH+4;break}fH/=6}return _G.h=fH,_G.s=gH,_G.l=hH,_G}getStyle(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"}offsetHSL(jH,kH,lH){return this.getHSL(kG),kG.h+=jH,kG.s+=kH,kG.l+=lH,this.setHSL(kG.h,kG.s,kG.l),this}add(mH){return this.r+=mH.r,this.g+=mH.g,this.b+=mH.b,this}addColors(nH,oH){return this.r=nH.r+oH.r,this.g=nH.g+oH.g,this.b=nH.b+oH.b,this}addScalar(pH){return this.r+=pH,this.g+=pH,this.b+=pH,this}sub(qH){return this.r=Math.max(0,this.r-qH.r),this.g=Math.max(0,this.g-qH.g),this.b=Math.max(0,this.b-qH.b),this}multiply(rH){return this.r*=rH.r,this.g*=rH.g,this.b*=rH.b,this}multiplyScalar(sH){return this.r*=sH,this.g*=sH,this.b*=sH,this}lerp(tH,uH){return this.r+=(tH.r-this.r)*uH,this.g+=(tH.g-this.g)*uH,this.b+=(tH.b-this.b)*uH,this}lerpColors(vH,wH,xH){return this.r=vH.r+(wH.r-vH.r)*xH,this.g=vH.g+(wH.g-vH.g)*xH,this.b=vH.b+(wH.b-vH.b)*xH,this}lerpHSL(yH,zH){this.getHSL(kG),yH.getHSL(lG);const AH=_g(kG.h,lG.h,zH),BH=_g(kG.s,lG.s,zH),CH=_g(kG.l,lG.l,zH);return this.setHSL(AH,BH,CH),this}equals(DH){return DH.r===this.r&&DH.g===this.g&&DH.b===this.b}fromArray(EH,FH=0){return this.r=EH[FH],this.g=EH[FH+1],this.b=EH[FH+2],this}toArray(GH=[],HH=0){return GH[HH]=this.r,GH[HH+1]=this.g,GH[HH+2]=this.b,GH}fromBufferAttribute(IH,JH){return this.r=IH.getX(JH),this.g=IH.getY(JH),this.b=IH.getZ(JH),!0===IH.normalized&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}}pG.NAMES=jG,pG.prototype.isColor=!0,pG.prototype.r=1,pG.prototype.g=1,pG.prototype.b=1;class KH extends TF{constructor(LH){super(),this.type="MeshBasicMaterial",this.color=new pG(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=0.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(LH)}copy(MH){return super.copy(MH),this.color.copy(MH.color),this.map=MH.map,this.lightMap=MH.lightMap,this.lightMapIntensity=MH.lightMapIntensity,this.aoMap=MH.aoMap,this.aoMapIntensity=MH.aoMapIntensity,this.specularMap=MH.specularMap,this.alphaMap=MH.alphaMap,this.envMap=MH.envMap,this.combine=MH.combine,this.reflectivity=MH.reflectivity,this.refractionRatio=MH.refractionRatio,this.wireframe=MH.wireframe,this.wireframeLinewidth=MH.wireframeLinewidth,this.wireframeLinecap=MH.wireframeLinecap,this.wireframeLinejoin=MH.wireframeLinejoin,this}}KH.prototype.isMeshBasicMaterial=!0;const NH=new Sp(),OH=new eh();class PH{constructor(QH,RH,SH){if(Array.isArray(QH))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=QH,this.itemSize=RH,this.count=void 0!==QH?QH.length/RH:0,this.normalized=!0===SH,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(TH){!0===TH&&this.version++}setUsage(UH){return this.usage=UH,this}copy(VH){return this.name=VH.name,this.array=new VH.array.constructor(VH.array),this.itemSize=VH.itemSize,this.count=VH.count,this.normalized=VH.normalized,this.usage=VH.usage,this}copyAt(WH,XH,YH){WH*=this.itemSize,YH*=XH.itemSize;for(let ZH=0,$H=this.itemSize;ZH<$H;ZH++)this.array[WH+ZH]=XH.array[YH+ZH];return this}copyArray(_H){return this.array.set(_H),this}copyColorsArray(aI){const bI=this.array;let cI=0;for(let dI=0,eI=aI.length;dI<eI;dI++){let fI=aI[dI];void 0===fI&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",dI),fI=new pG()),bI[cI++]=fI.r,bI[cI++]=fI.g,bI[cI++]=fI.b}return this}copyVector2sArray(gI){const hI=this.array;let iI=0;for(let jI=0,kI=gI.length;jI<kI;jI++){let lI=gI[jI];void 0===lI&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",jI),lI=new eh()),hI[iI++]=lI.x,hI[iI++]=lI.y}return this}copyVector3sArray(mI){const nI=this.array;let oI=0;for(let pI=0,qI=mI.length;pI<qI;pI++){let rI=mI[pI];void 0===rI&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",pI),rI=new Sp()),nI[oI++]=rI.x,nI[oI++]=rI.y,nI[oI++]=rI.z}return this}copyVector4sArray(sI){const tI=this.array;let uI=0;for(let vI=0,wI=sI.length;vI<wI;vI++){let xI=sI[vI];void 0===xI&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",vI),xI=new bl()),tI[uI++]=xI.x,tI[uI++]=xI.y,tI[uI++]=xI.z,tI[uI++]=xI.w}return this}applyMatrix3(yI){if(2===this.itemSize)for(let zI=0,AI=this.count;zI<AI;zI++)OH.fromBufferAttribute(this,zI),OH.applyMatrix3(yI),this.setXY(zI,OH.x,OH.y);else if(3===this.itemSize)for(let BI=0,CI=this.count;BI<CI;BI++)NH.fromBufferAttribute(this,BI),NH.applyMatrix3(yI),this.setXYZ(BI,NH.x,NH.y,NH.z);return this}applyMatrix4(DI){for(let EI=0,FI=this.count;EI<FI;EI++)NH.x=this.getX(EI),NH.y=this.getY(EI),NH.z=this.getZ(EI),NH.applyMatrix4(DI),this.setXYZ(EI,NH.x,NH.y,NH.z);return this}applyNormalMatrix(GI){for(let HI=0,II=this.count;HI<II;HI++)NH.x=this.getX(HI),NH.y=this.getY(HI),NH.z=this.getZ(HI),NH.applyNormalMatrix(GI),this.setXYZ(HI,NH.x,NH.y,NH.z);return this}transformDirection(JI){for(let KI=0,LI=this.count;KI<LI;KI++)NH.x=this.getX(KI),NH.y=this.getY(KI),NH.z=this.getZ(KI),NH.transformDirection(JI),this.setXYZ(KI,NH.x,NH.y,NH.z);return this}set(MI,NI=0){return this.array.set(MI,NI),this}getX(OI){return this.array[OI*this.itemSize]}setX(PI,QI){return this.array[PI*this.itemSize]=QI,this}getY(RI){return this.array[RI*this.itemSize+1]}setY(SI,TI){return this.array[SI*this.itemSize+1]=TI,this}getZ(UI){return this.array[UI*this.itemSize+2]}setZ(VI,WI){return this.array[VI*this.itemSize+2]=WI,this}getW(XI){return this.array[XI*this.itemSize+3]}setW(YI,ZI){return this.array[YI*this.itemSize+3]=ZI,this}setXY($I,_I,aJ){return $I*=this.itemSize,this.array[$I+0]=_I,this.array[$I+1]=aJ,this}setXYZ(bJ,cJ,dJ,eJ){return bJ*=this.itemSize,this.array[bJ+0]=cJ,this.array[bJ+1]=dJ,this.array[bJ+2]=eJ,this}setXYZW(fJ,gJ,hJ,iJ,jJ){return fJ*=this.itemSize,this.array[fJ+0]=gJ,this.array[fJ+1]=hJ,this.array[fJ+2]=iJ,this.array[fJ+3]=jJ,this}onUpload(kJ){return this.onUploadCallback=kJ,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const lJ={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return""!==this.name&&(lJ.name=this.name),35044!==this.usage&&(lJ.usage=this.usage),(0!==this.updateRange.offset|| -1!==this.updateRange.count)&&(lJ.updateRange=this.updateRange),lJ}}PH.prototype.isBufferAttribute=!0;class mJ extends PH{constructor(nJ,oJ,pJ){super(new Uint16Array(nJ),oJ,pJ)}}class qJ extends PH{constructor(rJ,sJ,tJ){super(new Uint32Array(rJ),sJ,tJ)}}(class extends PH{constructor(uJ,vJ,wJ){super(new Uint16Array(uJ),vJ,wJ)}}).prototype.isFloat16BufferAttribute=!0;class xJ extends PH{constructor(yJ,zJ,AJ){super(new Float32Array(yJ),zJ,AJ)}}let BJ=0;const CJ=new dw(),DJ=new hC(),EJ=new Sp(),FJ=new ws(),GJ=new ws(),HJ=new Sp();class IJ extends Bg{constructor(){super(),Object.defineProperty(this,"id",{value:BJ++}),this.uuid=Yg(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(JJ){return Array.isArray(JJ)?this.index=new(yk(JJ)>65535?qJ:mJ)(JJ,1):this.index=JJ,this}getAttribute(KJ){return this.attributes[KJ]}setAttribute(LJ,MJ){return this.attributes[LJ]=MJ,this}deleteAttribute(NJ){return delete this.attributes[NJ],this}hasAttribute(OJ){return void 0!==this.attributes[OJ]}addGroup(PJ,QJ,RJ=0){this.groups.push({start:PJ,count:QJ,materialIndex:RJ})}clearGroups(){this.groups=[]}setDrawRange(SJ,TJ){this.drawRange.start=SJ,this.drawRange.count=TJ}applyMatrix4(UJ){const VJ=this.attributes.position;void 0!==VJ&&(VJ.applyMatrix4(UJ),VJ.needsUpdate=!0);const WJ=this.attributes.normal;if(void 0!==WJ){const XJ=new vi().getNormalMatrix(UJ);WJ.applyNormalMatrix(XJ),WJ.needsUpdate=!0}const YJ=this.attributes.tangent;return void 0!==YJ&&(YJ.transformDirection(UJ),YJ.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(ZJ){return CJ.makeRotationFromQuaternion(ZJ),this.applyMatrix4(CJ),this}rotateX($J){return CJ.makeRotationX($J),this.applyMatrix4(CJ),this}rotateY(_J){return CJ.makeRotationY(_J),this.applyMatrix4(CJ),this}rotateZ(aK){return CJ.makeRotationZ(aK),this.applyMatrix4(CJ),this}translate(bK,cK,dK){return CJ.makeTranslation(bK,cK,dK),this.applyMatrix4(CJ),this}scale(eK,fK,gK){return CJ.makeScale(eK,fK,gK),this.applyMatrix4(CJ),this}lookAt(hK){return DJ.lookAt(hK),DJ.updateMatrix(),this.applyMatrix4(DJ.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(EJ).negate(),this.translate(EJ.x,EJ.y,EJ.z),this}setFromPoints(iK){const jK=[];for(let kK=0,lK=iK.length;kK<lK;kK++){const mK=iK[kK];jK.push(mK.x,mK.y,mK.z||0)}return this.setAttribute("position",new xJ(jK,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new ws());const nK=this.attributes.position,oK=this.morphAttributes.position;if(nK&&nK.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set \"mesh.frustumCulled\" to \"false\".",this),this.boundingBox.set(new Sp(-1/0,-1/0,-1/0),new Sp(Infinity,Infinity,Infinity));return}if(void 0!==nK){if(this.boundingBox.setFromBufferAttribute(nK),oK)for(let pK=0,qK=oK.length;pK<qK;pK++){const rK=oK[pK];FJ.setFromBufferAttribute(rK),this.morphTargetsRelative?(HJ.addVectors(this.boundingBox.min,FJ.min),this.boundingBox.expandByPoint(HJ),HJ.addVectors(this.boundingBox.max,FJ.max),this.boundingBox.expandByPoint(HJ)):(this.boundingBox.expandByPoint(FJ.min),this.boundingBox.expandByPoint(FJ.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error("THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The \"position\" attribute is likely to have NaN values.",this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new au());const sK=this.attributes.position,tK=this.morphAttributes.position;if(sK&&sK.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set \"mesh.frustumCulled\" to \"false\".",this),this.boundingSphere.set(new Sp(),1/0);return}if(sK){const uK=this.boundingSphere.center;if(FJ.setFromBufferAttribute(sK),tK)for(let vK=0,wK=tK.length;vK<wK;vK++){const xK=tK[vK];GJ.setFromBufferAttribute(xK),this.morphTargetsRelative?(HJ.addVectors(FJ.min,GJ.min),FJ.expandByPoint(HJ),HJ.addVectors(FJ.max,GJ.max),FJ.expandByPoint(HJ)):(FJ.expandByPoint(GJ.min),FJ.expandByPoint(GJ.max))}FJ.getCenter(uK);let yK=0;for(let zK=0,AK=sK.count;zK<AK;zK++)HJ.fromBufferAttribute(sK,zK),yK=Math.max(yK,uK.distanceToSquared(HJ));if(tK)for(let BK=0,CK=tK.length;BK<CK;BK++){const DK=tK[BK],EK=this.morphTargetsRelative;for(let FK=0,GK=DK.count;FK<GK;FK++)HJ.fromBufferAttribute(DK,FK),EK&&(EJ.fromBufferAttribute(sK,FK),HJ.add(EJ)),yK=Math.max(yK,uK.distanceToSquared(HJ))}this.boundingSphere.radius=Math.sqrt(yK),isNaN(this.boundingSphere.radius)&&console.error("THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The \"position\" attribute is likely to have NaN values.",this)}}computeTangents(){const HK=this.index,IK=this.attributes;if(null===HK|| void 0===IK.position|| void 0===IK.normal|| void 0===IK.uv){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const JK=HK.array,KK=IK.position.array,LK=IK.normal.array,MK=IK.uv.array,NK=KK.length/3;void 0===IK.tangent&&this.setAttribute("tangent",new PH(new Float32Array(4*NK),4));const OK=IK.tangent.array,PK=[],QK=[];for(let RK=0;RK<NK;RK++)PK[RK]=new Sp(),QK[RK]=new Sp();const SK=new Sp(),TK=new Sp(),UK=new Sp(),VK=new eh(),WK=new eh(),XK=new eh(),YK=new Sp(),ZK=new Sp();function $K(a,b,c){SK.fromArray(KK,3*a),TK.fromArray(KK,3*b),UK.fromArray(KK,3*c),VK.fromArray(MK,2*a),WK.fromArray(MK,2*b),XK.fromArray(MK,2*c),TK.sub(SK),UK.sub(SK),WK.sub(VK),XK.sub(VK);const d=1/(WK.x*XK.y-XK.x*WK.y);isFinite(d)&&(YK.copy(TK).multiplyScalar(XK.y).addScaledVector(UK,-WK.y).multiplyScalar(d),ZK.copy(UK).multiplyScalar(WK.x).addScaledVector(TK,-XK.x).multiplyScalar(d),PK[a].add(YK),PK[b].add(YK),PK[c].add(YK),QK[a].add(ZK),QK[b].add(ZK),QK[c].add(ZK))}let _K=this.groups;0===_K.length&&(_K=[{start:0,count:JK.length}]);for(let aL=0,bL=_K.length;aL<bL;++aL){const cL=_K[aL],dL=cL.start,eL=cL.count;for(let fL=dL,gL=dL+eL;fL<gL;fL+=3)$K(JK[fL+0],JK[fL+1],JK[fL+2])}const hL=new Sp(),iL=new Sp(),jL=new Sp(),kL=new Sp();function lL(a){jL.fromArray(LK,3*a),kL.copy(jL);const b=PK[a];hL.copy(b),hL.sub(jL.multiplyScalar(jL.dot(b))).normalize(),iL.crossVectors(kL,b);const c=iL.dot(QK[a]);OK[4*a]=hL.x,OK[4*a+1]=hL.y,OK[4*a+2]=hL.z,OK[4*a+3]=c<0?-1:1}for(let mL=0,nL=_K.length;mL<nL;++mL){const oL=_K[mL],pL=oL.start,qL=oL.count;for(let rL=pL,sL=pL+qL;rL<sL;rL+=3)lL(JK[rL+0]),lL(JK[rL+1]),lL(JK[rL+2])}}computeVertexNormals(){const tL=this.index,uL=this.getAttribute("position");if(void 0!==uL){let vL=this.getAttribute("normal");if(void 0===vL)vL=new PH(new Float32Array(3*uL.count),3),this.setAttribute("normal",vL);else for(let wL=0,xL=vL.count;wL<xL;wL++)vL.setXYZ(wL,0,0,0);const yL=new Sp(),zL=new Sp(),AL=new Sp(),BL=new Sp(),CL=new Sp(),DL=new Sp(),EL=new Sp(),FL=new Sp();if(tL)for(let GL=0,HL=tL.count;GL<HL;GL+=3){const IL=tL.getX(GL+0),JL=tL.getX(GL+1),KL=tL.getX(GL+2);yL.fromBufferAttribute(uL,IL),zL.fromBufferAttribute(uL,JL),AL.fromBufferAttribute(uL,KL),EL.subVectors(AL,zL),FL.subVectors(yL,zL),EL.cross(FL),BL.fromBufferAttribute(vL,IL),CL.fromBufferAttribute(vL,JL),DL.fromBufferAttribute(vL,KL),BL.add(EL),CL.add(EL),DL.add(EL),vL.setXYZ(IL,BL.x,BL.y,BL.z),vL.setXYZ(JL,CL.x,CL.y,CL.z),vL.setXYZ(KL,DL.x,DL.y,DL.z)}else for(let LL=0,ML=uL.count;LL<ML;LL+=3)yL.fromBufferAttribute(uL,LL+0),zL.fromBufferAttribute(uL,LL+1),AL.fromBufferAttribute(uL,LL+2),EL.subVectors(AL,zL),FL.subVectors(yL,zL),EL.cross(FL),vL.setXYZ(LL+0,EL.x,EL.y,EL.z),vL.setXYZ(LL+1,EL.x,EL.y,EL.z),vL.setXYZ(LL+2,EL.x,EL.y,EL.z);this.normalizeNormals(),vL.needsUpdate=!0}}merge(NL,OL){if(!(NL&&NL.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",NL);return}void 0===OL&&(OL=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const PL=this.attributes;for(const QL in PL)if(void 0!==NL.attributes[QL]){const RL=PL[QL],SL=RL.array,TL=NL.attributes[QL],UL=TL.array,VL=TL.itemSize*OL,WL=Math.min(UL.length,SL.length-VL);for(let XL=0,YL=VL;XL<WL;XL++,YL++)SL[YL]=UL[XL]}return this}normalizeNormals(){const ZL=this.attributes.normal;for(let $L=0,_L=ZL.count;$L<_L;$L++)HJ.fromBufferAttribute(ZL,$L),HJ.normalize(),ZL.setXYZ($L,HJ.x,HJ.y,HJ.z)}toNonIndexed(){function aM(a,b){const c=a.array,d=a.itemSize,e=a.normalized,f=new c.constructor(b.length*d);let g=0,h=0;for(let i=0,j=b.length;i<j;i++){a.isInterleavedBufferAttribute?b[i]*a.data.stride+a.offset:b[i]*d;for(let k=0;k<d;k++)f[h++]=c[g++]}return new PH(f,d,e)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const bM=new IJ(),cM=this.index.array,dM=this.attributes;for(const eM in dM){const fM=dM[eM],gM=aM(fM,cM);bM.setAttribute(eM,gM)}const hM=this.morphAttributes;for(const iM in hM){const jM=[],kM=hM[iM];for(let lM=0,mM=kM.length;lM<mM;lM++){const nM=kM[lM],oM=aM(nM,cM);jM.push(oM)}bM.morphAttributes[iM]=jM}bM.morphTargetsRelative=this.morphTargetsRelative;const pM=this.groups;for(let qM=0,rM=pM.length;qM<rM;qM++){const sM=pM[qM];bM.addGroup(sM.start,sM.count,sM.materialIndex)}return bM}toJSON(){const tM={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(tM.uuid=this.uuid,tM.type=this.type,""!==this.name&&(tM.name=this.name),Object.keys(this.userData).length>0&&(tM.userData=this.userData),void 0!==this.parameters){const uM=this.parameters;for(const vM in uM)void 0!==uM[vM]&&(tM[vM]=uM[vM]);return tM}tM.data={attributes:{}};const wM=this.index;null!==wM&&(tM.data.index={type:wM.array.constructor.name,array:Array.prototype.slice.call(wM.array)});const xM=this.attributes;for(const yM in xM){const zM=xM[yM];tM.data.attributes[yM]=zM.toJSON(tM.data)}const AM={};let BM=!1;for(const CM in this.morphAttributes){const DM=this.morphAttributes[CM],EM=[];for(let FM=0,GM=DM.length;FM<GM;FM++){const HM=DM[FM];EM.push(HM.toJSON(tM.data))}EM.length>0&&(AM[CM]=EM,BM=!0)}BM&&(tM.data.morphAttributes=AM,tM.data.morphTargetsRelative=this.morphTargetsRelative);const IM=this.groups;IM.length>0&&(tM.data.groups=JSON.parse(JSON.stringify(IM)));const JM=this.boundingSphere;return null!==JM&&(tM.data.boundingSphere={center:JM.center.toArray(),radius:JM.radius}),tM}clone(){return new this.constructor().copy(this)}copy(KM){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const LM={};this.name=KM.name;const MM=KM.index;null!==MM&&this.setIndex(MM.clone(LM));const NM=KM.attributes;for(const OM in NM){const PM=NM[OM];this.setAttribute(OM,PM.clone(LM))}const QM=KM.morphAttributes;for(const RM in QM){const SM=[],TM=QM[RM];for(let UM=0,VM=TM.length;UM<VM;UM++)SM.push(TM[UM].clone(LM));this.morphAttributes[RM]=SM}this.morphTargetsRelative=KM.morphTargetsRelative;const WM=KM.groups;for(let XM=0,YM=WM.length;XM<YM;XM++){const ZM=WM[XM];this.addGroup(ZM.start,ZM.count,ZM.materialIndex)}const $M=KM.boundingBox;null!==$M&&(this.boundingBox=$M.clone());const _M=KM.boundingSphere;return null!==_M&&(this.boundingSphere=_M.clone()),this.drawRange.start=KM.drawRange.start,this.drawRange.count=KM.drawRange.count,this.userData=KM.userData,void 0!==KM.parameters&&(this.parameters=Object.assign({},KM.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}IJ.prototype.isBufferGeometry=!0;const aN=new dw(),bN=new Lu(),cN=new au(),dN=new Sp(),eN=new Sp(),fN=new Sp(),gN=new Sp(),hN=new Sp(),iN=new Sp(),jN=new Sp(),kN=new Sp(),lN=new Sp(),mN=new eh(),nN=new eh(),oN=new eh(),pN=new Sp(),qN=new Sp();class rN extends hC{constructor(sN=new IJ(),tN=new KH()){super(),this.type="Mesh",this.geometry=sN,this.material=tN,this.updateMorphTargets()}copy(uN){return super.copy(uN),void 0!==uN.morphTargetInfluences&&(this.morphTargetInfluences=uN.morphTargetInfluences.slice()),void 0!==uN.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},uN.morphTargetDictionary)),this.material=uN.material,this.geometry=uN.geometry,this}updateMorphTargets(){const vN=this.geometry;if(vN.isBufferGeometry){const wN=vN.morphAttributes,xN=Object.keys(wN);if(xN.length>0){const yN=wN[xN[0]];if(void 0!==yN){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let zN=0,AN=yN.length;zN<AN;zN++){const BN=yN[zN].name||String(zN);this.morphTargetInfluences.push(0),this.morphTargetDictionary[BN]=zN}}}}else{const CN=vN.morphTargets;void 0!==CN&&CN.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}raycast(DN,EN){const FN=this.geometry,GN=this.material,HN=this.matrixWorld;if(void 0!==GN&&(null===FN.boundingSphere&&FN.computeBoundingSphere(),cN.copy(FN.boundingSphere),cN.applyMatrix4(HN),!1!==DN.ray.intersectsSphere(cN))){if(aN.copy(HN).invert(),bN.copy(DN.ray).applyMatrix4(aN),null!==FN.boundingBox&& !1===bN.intersectsBox(FN.boundingBox))return;let IN;if(FN.isBufferGeometry){const JN=FN.index,KN=FN.attributes.position,LN=FN.morphAttributes.position,MN=FN.morphTargetsRelative,NN=FN.attributes.uv,ON=FN.attributes.uv2,PN=FN.groups,QN=FN.drawRange;if(null!==JN)if(Array.isArray(GN))for(let RN=0,SN=PN.length;RN<SN;RN++){const TN=PN[RN],UN=GN[TN.materialIndex],VN=Math.max(TN.start,QN.start),WN=Math.min(JN.count,Math.min(TN.start+TN.count,QN.start+QN.count));for(let XN=VN,YN=WN;XN<YN;XN+=3){const ZN=JN.getX(XN),$N=JN.getX(XN+1),_N=JN.getX(XN+2);(IN=zO(this,UN,DN,bN,KN,LN,MN,NN,ON,ZN,$N,_N))&&(IN.faceIndex=Math.floor(XN/3),IN.face.materialIndex=TN.materialIndex,EN.push(IN))}}else{const aO=Math.max(0,QN.start),bO=Math.min(JN.count,QN.start+QN.count);for(let cO=aO,dO=bO;cO<dO;cO+=3){const eO=JN.getX(cO),fO=JN.getX(cO+1),gO=JN.getX(cO+2);(IN=zO(this,GN,DN,bN,KN,LN,MN,NN,ON,eO,fO,gO))&&(IN.faceIndex=Math.floor(cO/3),EN.push(IN))}}else if(void 0!==KN)if(Array.isArray(GN))for(let hO=0,iO=PN.length;hO<iO;hO++){const jO=PN[hO],kO=GN[jO.materialIndex],lO=Math.max(jO.start,QN.start),mO=Math.min(KN.count,Math.min(jO.start+jO.count,QN.start+QN.count));for(let nO=lO,oO=mO;nO<oO;nO+=3){const pO=nO,qO=nO+1,rO=nO+2;(IN=zO(this,kO,DN,bN,KN,LN,MN,NN,ON,pO,qO,rO))&&(IN.faceIndex=Math.floor(nO/3),IN.face.materialIndex=jO.materialIndex,EN.push(IN))}}else{const sO=Math.max(0,QN.start),tO=Math.min(KN.count,QN.start+QN.count);for(let uO=sO,vO=tO;uO<vO;uO+=3){const wO=uO,xO=uO+1,yO=uO+2;(IN=zO(this,GN,DN,bN,KN,LN,MN,NN,ON,wO,xO,yO))&&(IN.faceIndex=Math.floor(uO/3),EN.push(IN))}}}else FN.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}}function zO(a,b,c,d,e,f,g,h,i,j,k,l){dN.fromBufferAttribute(e,j),eN.fromBufferAttribute(e,k),fN.fromBufferAttribute(e,l);const m=a.morphTargetInfluences;if(f&&m){jN.set(0,0,0),kN.set(0,0,0),lN.set(0,0,0);for(let n=0,o=f.length;n<o;n++){const p=m[n],q=f[n];0!==p&&(gN.fromBufferAttribute(q,j),hN.fromBufferAttribute(q,k),iN.fromBufferAttribute(q,l),g?(jN.addScaledVector(gN,p),kN.addScaledVector(hN,p),lN.addScaledVector(iN,p)):(jN.addScaledVector(gN.sub(dN),p),kN.addScaledVector(hN.sub(eN),p),lN.addScaledVector(iN.sub(fN),p)))}dN.add(jN),eN.add(kN),fN.add(lN)}a.isSkinnedMesh&&(a.boneTransform(j,dN),a.boneTransform(k,eN),a.boneTransform(l,fN));const r=function(a,b,c,d,e,f,g,h){if(null===(b.side===zg?d.intersectTriangle(g,f,e,!0,h):d.intersectTriangle(e,f,g,2!==b.side,h)))return null;qN.copy(h),qN.applyMatrix4(a.matrixWorld);const i=c.ray.origin.distanceTo(qN);return i<c.near||i>c.far?null:{distance:i,point:qN.clone(),object:a}}(a,b,c,d,dN,eN,fN,pN);if(r){h&&(mN.fromBufferAttribute(h,j),nN.fromBufferAttribute(h,k),oN.fromBufferAttribute(h,l),r.uv=qE.getUV(pN,dN,eN,fN,mN,nN,oN,new eh())),i&&(mN.fromBufferAttribute(i,j),nN.fromBufferAttribute(i,k),oN.fromBufferAttribute(i,l),r.uv2=qE.getUV(pN,dN,eN,fN,mN,nN,oN,new eh()));const s={a:j,b:k,c:l,normal:new Sp(),materialIndex:0};qE.getNormal(dN,eN,fN,s.normal),r.face=s}return r}rN.prototype.isMesh=!0;class AO extends IJ{constructor(BO=1,CO=1,DO=1,EO=1,FO=1,GO=1){super(),this.type="BoxGeometry",this.parameters={width:BO,height:CO,depth:DO,widthSegments:EO,heightSegments:FO,depthSegments:GO};const HO=this;EO=Math.floor(EO),FO=Math.floor(FO),GO=Math.floor(GO);const IO=[],JO=[],KO=[],LO=[];let MO=0,NO=0;function OO(a,b,c,d,e,f,g,h,i,j,k){const l=f/i,m=g/j,n=f/2,o=g/2,p=h/2,q=i+1,r=j+1;let s=0,t=0;const u=new Sp();for(let v=0;v<r;v++){const w=v*m-o;for(let x=0;x<q;x++){const y=x*l-n;u[a]=y*d,u[b]=w*e,u[c]=p,JO.push(u.x,u.y,u.z),u[a]=0,u[b]=0,u[c]=h>0?1:-1,KO.push(u.x,u.y,u.z),LO.push(x/i),LO.push(1-v/j),s+=1}}for(let z=0;z<j;z++)for(let A=0;A<i;A++){const B=MO+A+q*z,C=MO+A+q*(z+1),D=MO+(A+1)+q*(z+1),E=MO+(A+1)+q*z;IO.push(B,C,E),IO.push(C,D,E),t+=6}HO.addGroup(NO,t,k),NO+=t,MO+=s}OO("z","y","x",-1,-1,DO,CO,BO,GO,FO,0),OO("z","y","x",1,-1,DO,CO,-BO,GO,FO,1),OO("x","z","y",1,1,BO,DO,CO,EO,GO,2),OO("x","z","y",1,-1,BO,DO,-CO,EO,GO,3),OO("x","y","z",1,-1,BO,CO,DO,EO,FO,4),OO("x","y","z",-1,-1,BO,CO,-DO,EO,FO,5),this.setIndex(IO),this.setAttribute("position",new xJ(JO,3)),this.setAttribute("normal",new xJ(KO,3)),this.setAttribute("uv",new xJ(LO,2))}static fromJSON(PO){return new AO(PO.width,PO.height,PO.depth,PO.widthSegments,PO.heightSegments,PO.depthSegments)}}function QO(a){const b={};for(const c in a)for(const d in b[c]={},a[c]){const e=a[c][d];e&&(e.isColor||e.isMatrix3||e.isMatrix4||e.isVector2||e.isVector3||e.isVector4||e.isTexture||e.isQuaternion)?b[c][d]=e.clone():Array.isArray(e)?b[c][d]=e.slice():b[c][d]=e}return b}function RO(a){const b={};for(let c=0;c<a.length;c++){const d=QO(a[c]);for(const e in d)b[e]=d[e]}return b}const SO={clone:QO,merge:RO};class TO extends TF{constructor(UO){super(),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==UO&&(void 0!==UO.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(UO))}copy(VO){return super.copy(VO),this.fragmentShader=VO.fragmentShader,this.vertexShader=VO.vertexShader,this.uniforms=QO(VO.uniforms),this.defines=Object.assign({},VO.defines),this.wireframe=VO.wireframe,this.wireframeLinewidth=VO.wireframeLinewidth,this.lights=VO.lights,this.clipping=VO.clipping,this.extensions=Object.assign({},VO.extensions),this.glslVersion=VO.glslVersion,this}toJSON(WO){const XO=super.toJSON(WO);for(const YO in XO.glslVersion=this.glslVersion,XO.uniforms={},this.uniforms){const ZO=this.uniforms[YO],$O=ZO.value;$O&&$O.isTexture?XO.uniforms[YO]={type:"t",value:$O.toJSON(WO).uuid}:$O&&$O.isColor?XO.uniforms[YO]={type:"c",value:$O.getHex()}:$O&&$O.isVector2?XO.uniforms[YO]={type:"v2",value:$O.toArray()}:$O&&$O.isVector3?XO.uniforms[YO]={type:"v3",value:$O.toArray()}:$O&&$O.isVector4?XO.uniforms[YO]={type:"v4",value:$O.toArray()}:$O&&$O.isMatrix3?XO.uniforms[YO]={type:"m3",value:$O.toArray()}:$O&&$O.isMatrix4?XO.uniforms[YO]={type:"m4",value:$O.toArray()}:XO.uniforms[YO]={value:$O}}Object.keys(this.defines).length>0&&(XO.defines=this.defines),XO.vertexShader=this.vertexShader,XO.fragmentShader=this.fragmentShader;const _O={};for(const aP in this.extensions)!0===this.extensions[aP]&&(_O[aP]=!0);return Object.keys(_O).length>0&&(XO.extensions=_O),XO}}TO.prototype.isShaderMaterial=!0;class bP extends hC{constructor(){super(),this.type="Camera",this.matrixWorldInverse=new dw(),this.projectionMatrix=new dw(),this.projectionMatrixInverse=new dw()}copy(cP,dP){return super.copy(cP,dP),this.matrixWorldInverse.copy(cP.matrixWorldInverse),this.projectionMatrix.copy(cP.projectionMatrix),this.projectionMatrixInverse.copy(cP.projectionMatrixInverse),this}getWorldDirection(eP){this.updateWorldMatrix(!0,!1);const fP=this.matrixWorld.elements;return eP.set(-fP[8],-fP[9],-fP[10]).normalize()}updateMatrixWorld(gP){super.updateMatrixWorld(gP),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(hP,iP){super.updateWorldMatrix(hP,iP),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}bP.prototype.isCamera=!0;class jP extends bP{constructor(kP=50,lP=1,mP=0.1,nP=2000){super(),this.type="PerspectiveCamera",this.fov=kP,this.zoom=1,this.near=mP,this.far=nP,this.focus=10,this.aspect=lP,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(oP,pP){return super.copy(oP,pP),this.fov=oP.fov,this.zoom=oP.zoom,this.near=oP.near,this.far=oP.far,this.focus=oP.focus,this.aspect=oP.aspect,this.view=null===oP.view?null:Object.assign({},oP.view),this.filmGauge=oP.filmGauge,this.filmOffset=oP.filmOffset,this}setFocalLength(qP){const rP=0.5*this.getFilmHeight()/qP;this.fov=2*Xg*Math.atan(rP),this.updateProjectionMatrix()}getFocalLength(){const sP=Math.tan(0.5*Wg*this.fov);return 0.5*this.getFilmHeight()/sP}getEffectiveFOV(){return 2*Xg*Math.atan(Math.tan(0.5*Wg*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(tP,uP,vP,wP,xP,yP){this.aspect=tP/uP,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=tP,this.view.fullHeight=uP,this.view.offsetX=vP,this.view.offsetY=wP,this.view.width=xP,this.view.height=yP,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const zP=this.near;let AP=zP*Math.tan(0.5*Wg*this.fov)/this.zoom,BP=2*AP,CP=this.aspect*BP,DP=-0.5*CP;const EP=this.view;if(null!==this.view&&this.view.enabled){const FP=EP.fullWidth,GP=EP.fullHeight;DP+=EP.offsetX*CP/FP,AP-=EP.offsetY*BP/GP,CP*=EP.width/FP,BP*=EP.height/GP}const HP=this.filmOffset;0!==HP&&(DP+=zP*HP/this.getFilmWidth()),this.projectionMatrix.makePerspective(DP,DP+CP,AP,AP-BP,zP,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(IP){const JP=super.toJSON(IP);return JP.object.fov=this.fov,JP.object.zoom=this.zoom,JP.object.near=this.near,JP.object.far=this.far,JP.object.focus=this.focus,JP.object.aspect=this.aspect,null!==this.view&&(JP.object.view=Object.assign({},this.view)),JP.object.filmGauge=this.filmGauge,JP.object.filmOffset=this.filmOffset,JP}}jP.prototype.isPerspectiveCamera=!0;class KP extends hC{constructor(LP,MP,NP){if(super(),this.type="CubeCamera",!0!==NP.isWebGLCubeRenderTarget){console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");return}this.renderTarget=NP;const OP=new jP(90,1,LP,MP);OP.layers=this.layers,OP.up.set(0,-1,0),OP.lookAt(new Sp(1,0,0)),this.add(OP);const PP=new jP(90,1,LP,MP);PP.layers=this.layers,PP.up.set(0,-1,0),PP.lookAt(new Sp(-1,0,0)),this.add(PP);const QP=new jP(90,1,LP,MP);QP.layers=this.layers,QP.up.set(0,0,1),QP.lookAt(new Sp(0,1,0)),this.add(QP);const RP=new jP(90,1,LP,MP);RP.layers=this.layers,RP.up.set(0,0,-1),RP.lookAt(new Sp(0,-1,0)),this.add(RP);const SP=new jP(90,1,LP,MP);SP.layers=this.layers,SP.up.set(0,-1,0),SP.lookAt(new Sp(0,0,1)),this.add(SP);const TP=new jP(90,1,LP,MP);TP.layers=this.layers,TP.up.set(0,-1,0),TP.lookAt(new Sp(0,0,-1)),this.add(TP)}update(UP,VP){null===this.parent&&this.updateMatrixWorld();const WP=this.renderTarget,[XP,YP,ZP,$P,_P,aQ]=this.children,bQ=UP.xr.enabled,cQ=UP.getRenderTarget();UP.xr.enabled=!1;const dQ=WP.texture.generateMipmaps;WP.texture.generateMipmaps=!1,UP.setRenderTarget(WP,0),UP.render(VP,XP),UP.setRenderTarget(WP,1),UP.render(VP,YP),UP.setRenderTarget(WP,2),UP.render(VP,ZP),UP.setRenderTarget(WP,3),UP.render(VP,$P),UP.setRenderTarget(WP,4),UP.render(VP,_P),WP.texture.generateMipmaps=dQ,UP.setRenderTarget(WP,5),UP.render(VP,aQ),UP.setRenderTarget(cQ),UP.xr.enabled=bQ}}class eQ extends Hk{constructor(fQ,gQ,hQ,iQ,jQ,kQ,lQ,mQ,nQ,oQ){super(fQ=void 0!==fQ?fQ:[],gQ=void 0!==gQ?gQ:301,hQ,iQ,jQ,kQ,lQ,mQ,nQ,oQ),this.flipY=!1}get images(){return this.image}set images(pQ){this.image=pQ}}eQ.prototype.isCubeTexture=!0;class qQ extends Km{constructor(rQ,sQ,tQ){Number.isInteger(sQ)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),sQ=tQ),super(rQ,rQ,sQ),sQ=sQ||{},this.texture=new eQ(void 0,sQ.mapping,sQ.wrapS,sQ.wrapT,sQ.magFilter,sQ.minFilter,sQ.format,sQ.type,sQ.anisotropy,sQ.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==sQ.generateMipmaps&&sQ.generateMipmaps,this.texture.minFilter=void 0!==sQ.minFilter?sQ.minFilter:1006,this.texture._needsFlipEnvMap=!1}fromEquirectangularTexture(uQ,vQ){this.texture.type=vQ.type,this.texture.format=1023,this.texture.encoding=vQ.encoding,this.texture.generateMipmaps=vQ.generateMipmaps,this.texture.minFilter=vQ.minFilter,this.texture.magFilter=vQ.magFilter;const wQ={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},xQ=new AO(5,5,5),yQ=new TO({name:"CubemapFromEquirect",uniforms:QO(wQ.uniforms),vertexShader:wQ.vertexShader,fragmentShader:wQ.fragmentShader,side:zg,blending:0});yQ.uniforms.tEquirect.value=vQ;const zQ=new rN(xQ,yQ),AQ=vQ.minFilter;1008===vQ.minFilter&&(vQ.minFilter=1006);const BQ=new KP(1,10,this);return BQ.update(uQ,zQ),vQ.minFilter=AQ,zQ.geometry.dispose(),zQ.material.dispose(),this}clear(CQ,DQ,EQ,FQ){const GQ=CQ.getRenderTarget();for(let HQ=0;HQ<6;HQ++)CQ.setRenderTarget(this,HQ),CQ.clear(DQ,EQ,FQ);CQ.setRenderTarget(GQ)}}qQ.prototype.isWebGLCubeRenderTarget=!0;const IQ=new Sp(),JQ=new Sp(),KQ=new vi();class LQ{constructor(MQ=new Sp(1,0,0),NQ=0){this.normal=MQ,this.constant=NQ}set(OQ,PQ){return this.normal.copy(OQ),this.constant=PQ,this}setComponents(QQ,RQ,SQ,TQ){return this.normal.set(QQ,RQ,SQ),this.constant=TQ,this}setFromNormalAndCoplanarPoint(UQ,VQ){return this.normal.copy(UQ),this.constant=-VQ.dot(this.normal),this}setFromCoplanarPoints(WQ,XQ,YQ){const ZQ=IQ.subVectors(YQ,XQ).cross(JQ.subVectors(WQ,XQ)).normalize();return this.setFromNormalAndCoplanarPoint(ZQ,WQ),this}copy($Q){return this.normal.copy($Q.normal),this.constant=$Q.constant,this}normalize(){const _Q=1/this.normal.length();return this.normal.multiplyScalar(_Q),this.constant*=_Q,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(aR){return this.normal.dot(aR)+this.constant}distanceToSphere(bR){return this.distanceToPoint(bR.center)-bR.radius}projectPoint(cR,dR){return dR.copy(this.normal).multiplyScalar(-this.distanceToPoint(cR)).add(cR)}intersectLine(eR,fR){const gR=eR.delta(IQ),hR=this.normal.dot(gR);if(0===hR)return 0===this.distanceToPoint(eR.start)?fR.copy(eR.start):null;const iR=-(eR.start.dot(this.normal)+this.constant)/hR;return iR<0||iR>1?null:fR.copy(gR).multiplyScalar(iR).add(eR.start)}intersectsLine(jR){const kR=this.distanceToPoint(jR.start),lR=this.distanceToPoint(jR.end);return kR<0&&lR>0||lR<0&&kR>0}intersectsBox(mR){return mR.intersectsPlane(this)}intersectsSphere(nR){return nR.intersectsPlane(this)}coplanarPoint(oR){return oR.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(pR,qR){const rR=qR||KQ.getNormalMatrix(pR),sR=this.coplanarPoint(IQ).applyMatrix4(pR),tR=this.normal.applyMatrix3(rR).normalize();return this.constant=-sR.dot(tR),this}translate(uR){return this.constant-=uR.dot(this.normal),this}equals(vR){return vR.normal.equals(this.normal)&&vR.constant===this.constant}clone(){return new this.constructor().copy(this)}}LQ.prototype.isPlane=!0;const wR=new au(),xR=new Sp();class yR{constructor(zR=new LQ(),AR=new LQ(),BR=new LQ(),CR=new LQ(),DR=new LQ(),ER=new LQ()){this.planes=[zR,AR,BR,CR,DR,ER]}set(FR,GR,HR,IR,JR,KR){const LR=this.planes;return LR[0].copy(FR),LR[1].copy(GR),LR[2].copy(HR),LR[3].copy(IR),LR[4].copy(JR),LR[5].copy(KR),this}copy(MR){const NR=this.planes;for(let OR=0;OR<6;OR++)NR[OR].copy(MR.planes[OR]);return this}setFromProjectionMatrix(PR){const QR=this.planes,RR=PR.elements,SR=RR[0],TR=RR[1],UR=RR[2],VR=RR[3],WR=RR[4],XR=RR[5],YR=RR[6],ZR=RR[7],$R=RR[8],_R=RR[9],aS=RR[10],bS=RR[11],cS=RR[12],dS=RR[13],eS=RR[14],fS=RR[15];return QR[0].setComponents(VR-SR,ZR-WR,bS-$R,fS-cS).normalize(),QR[1].setComponents(VR+SR,ZR+WR,bS+$R,fS+cS).normalize(),QR[2].setComponents(VR+TR,ZR+XR,bS+_R,fS+dS).normalize(),QR[3].setComponents(VR-TR,ZR-XR,bS-_R,fS-dS).normalize(),QR[4].setComponents(VR-UR,ZR-YR,bS-aS,fS-eS).normalize(),QR[5].setComponents(VR+UR,ZR+YR,bS+aS,fS+eS).normalize(),this}intersectsObject(gS){const hS=gS.geometry;return null===hS.boundingSphere&&hS.computeBoundingSphere(),wR.copy(hS.boundingSphere).applyMatrix4(gS.matrixWorld),this.intersectsSphere(wR)}intersectsSprite(iS){return wR.center.set(0,0,0),wR.radius=0.7071067811865476,wR.applyMatrix4(iS.matrixWorld),this.intersectsSphere(wR)}intersectsSphere(jS){const kS=this.planes,lS=jS.center,mS=-jS.radius;for(let nS=0;nS<6;nS++){const oS=kS[nS].distanceToPoint(lS);if(oS<mS)return!1}return!0}intersectsBox(pS){const qS=this.planes;for(let rS=0;rS<6;rS++){const sS=qS[rS];if(xR.x=sS.normal.x>0?pS.max.x:pS.min.x,xR.y=sS.normal.y>0?pS.max.y:pS.min.y,xR.z=sS.normal.z>0?pS.max.z:pS.min.z,0>sS.distanceToPoint(xR))return!1}return!0}containsPoint(tS){const uS=this.planes;for(let vS=0;vS<6;vS++)if(0>uS[vS].distanceToPoint(tS))return!1;return!0}clone(){return new this.constructor().copy(this)}}function wS(){let a=null,b=!1,c=null,d=null;function e(b,f){c(b,f),d=a.requestAnimationFrame(e)}return{start:function(){!0!==b&&null!==c&&(d=a.requestAnimationFrame(e),b=!0)},stop:function(){a.cancelAnimationFrame(d),b=!1},setAnimationLoop:function(a){c=a},setContext:function(b){a=b}}}function xS(a,b){const c=b.isWebGL2,d=new WeakMap();return{get:function(a){return a.isInterleavedBufferAttribute&&(a=a.data),d.get(a)},remove:function(b){b.isInterleavedBufferAttribute&&(b=b.data);const c=d.get(b);c&&(a.deleteBuffer(c.buffer),d.delete(b))},update:function(b,e){if(b.isGLBufferAttribute){const f=d.get(b);(!f||f.version<b.version)&&d.set(b,{buffer:b.buffer,type:b.type,bytesPerElement:b.elementSize,version:b.version});return}b.isInterleavedBufferAttribute&&(b=b.data);const g=d.get(b);void 0===g?d.set(b,function(b,d){const e=b.array,f=b.usage,g=a.createBuffer();a.bindBuffer(d,g),a.bufferData(d,e,f),b.onUploadCallback();let h=5126;return e instanceof Float32Array?h=5126:e instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):e instanceof Uint16Array?b.isFloat16BufferAttribute?c?h=5131:console.warn("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2."):h=5123:e instanceof Int16Array?h=5122:e instanceof Uint32Array?h=5125:e instanceof Int32Array?h=5124:e instanceof Int8Array?h=5120:e instanceof Uint8Array?h=5121:e instanceof Uint8ClampedArray&&(h=5121),{buffer:g,type:h,bytesPerElement:e.BYTES_PER_ELEMENT,version:b.version}}(b,e)):g.version<b.version&&(!function(b,d,e){const f=d.array,g=d.updateRange;a.bindBuffer(e,b),-1===g.count?a.bufferSubData(e,0,f):(c?a.bufferSubData(e,g.offset*f.BYTES_PER_ELEMENT,f,g.offset,g.count):a.bufferSubData(e,g.offset*f.BYTES_PER_ELEMENT,f.subarray(g.offset,g.offset+g.count)),g.count=-1)}(g.buffer,b,e),g.version=b.version)}}}class yS extends IJ{constructor(zS=1,AS=1,BS=1,CS=1){super(),this.type="PlaneGeometry",this.parameters={width:zS,height:AS,widthSegments:BS,heightSegments:CS};const DS=zS/2,ES=AS/2,FS=Math.floor(BS),GS=Math.floor(CS),HS=FS+1,IS=GS+1,JS=zS/FS,KS=AS/GS,LS=[],MS=[],NS=[],OS=[];for(let PS=0;PS<IS;PS++){const QS=PS*KS-ES;for(let RS=0;RS<HS;RS++){const SS=RS*JS-DS;MS.push(SS,-QS,0),NS.push(0,0,1),OS.push(RS/FS),OS.push(1-PS/GS)}}for(let TS=0;TS<GS;TS++)for(let US=0;US<FS;US++){const VS=US+HS*TS,WS=US+HS*(TS+1),XS=US+1+HS*(TS+1),YS=US+1+HS*TS;LS.push(VS,WS,YS),LS.push(WS,XS,YS)}this.setIndex(LS),this.setAttribute("position",new xJ(MS,3)),this.setAttribute("normal",new xJ(NS,3)),this.setAttribute("uv",new xJ(OS,2))}static fromJSON(ZS){return new yS(ZS.width,ZS.height,ZS.widthSegments,ZS.heightSegments)}}const $S={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_maxMipLevel 8.0\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_maxTileSize 256.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tfloat texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );\n\t\tvec2 f = fract( uv );\n\t\tuv += 0.5 - f;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tif ( mipInt < cubeUV_maxMipLevel ) {\n\t\t\tuv.y += 2.0 * cubeUV_maxTileSize;\n\t\t}\n\t\tuv.y += filterInt * 2.0 * cubeUV_minTileSize;\n\t\tuv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );\n\t\tuv *= texelSize;\n\t\tvec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x += texelSize;\n\t\tvec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.y += texelSize;\n\t\tvec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x -= texelSize;\n\t\tvec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tvec3 tm = mix( tl, tr, f.x );\n\t\tvec3 bm = mix( bl, br, f.x );\n\t\treturn mix( tm, bm, f.y );\n\t}\n\t#define r0 1.0\n\t#define v0 0.339\n\t#define m0 - 2.0\n\t#define r1 0.8\n\t#define v1 0.276\n\t#define m1 - 1.0\n\t#define r4 0.4\n\t#define v4 0.046\n\t#define m4 2.0\n\t#define r5 0.305\n\t#define v5 0.016\n\t#define m5 3.0\n\t#define r6 0.21\n\t#define v6 0.0038\n\t#define m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= r1 ) {\n\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\t\t} else if ( roughness >= r4 ) {\n\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\t\t} else if ( roughness >= r5 ) {\n\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\t\t} else if ( roughness >= r6 ) {\n\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t\tenvColor = envMapTexelToLinear( envColor );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 reflectVec;\n\t\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\t\treflectVec = reflect( - viewDir, normal );\n\t\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\t#else\n\t\t\t\treflectVec = refract( - viewDir, normal, refractionRatio );\n\t\t\t#endif\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn texture2D( gradientMap, coord ).rgb;\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tlightMapIrradiance *= PI;\n\t#endif\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointLightInfo( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotLightInfo( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalLightInfo( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#else\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\t#ifdef SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULARINTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;\n\t\t#endif\n\t\t#ifdef USE_SPECULARCOLORMAP\n\t\t\tspecularColorFactor *= specularColorMapTexelToLinear( texture2D( specularColorMap, vUv ) ).rgb;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tmaterial.sheenColor *= sheenColorMapTexelToLinear( texture2D( sheenColorMap, vUv ) ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;\n\t#endif\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\tvec3 FssEss = specularColor * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\treflectedLight.directSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] > 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1, 2 ) * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform vec2 morphTargetsTextureSize;\n\t\tvec3 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset, const in int stride ) {\n\t\t\tfloat texelIndex = float( vertexIndex * stride + offset );\n\t\t\tfloat y = floor( texelIndex / morphTargetsTextureSize.x );\n\t\t\tfloat x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tvec3 morphUV = vec3( ( x + 0.5 ) / morphTargetsTextureSize.x, y / morphTargetsTextureSize.y, morphTargetIndex );\n\t\t\treturn texture( morphTargetsTexture, morphUV ).xyz;\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\t#ifndef USE_MORPHNORMALS\n\t\t\t\tif ( morphTargetInfluences[ i ] > 0.0 ) transformed += getMorph( gl_VertexID, i, 0, 1 ) * morphTargetInfluences[ i ];\n\t\t\t#else\n\t\t\t\tif ( morphTargetInfluences[ i ] > 0.0 ) transformed += getMorph( gl_VertexID, i, 0, 2 ) * morphTargetInfluences[ i ];\n\t\t\t#endif\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * faceDirection;\n\t\t\tbitangent = bitangent * faceDirection;\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\n\t\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",output_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= transmissionAlpha + 0.1;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tfloat transmissionAlpha = 1.0;\n\tfloat transmissionFactor = transmission;\n\tfloat thicknessFactor = thickness;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\ttransmissionFactor *= texture2D( transmissionMap, vUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tthicknessFactor *= texture2D( thicknessMap, vUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmission = getIBLVolumeRefraction(\n\t\tn, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,\n\t\tattenuationColor, attenuationDistance );\n\ttotalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );\n\ttransmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tvec3 getVolumeTransmissionRay( vec3 n, vec3 v, float thickness, float ior, mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( float roughness, float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( vec2 fragCoord, float roughness, float ior ) {\n\t\tfloat framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\treturn texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#else\n\t\t\treturn texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#endif\n\t}\n\tvec3 applyVolumeAttenuation( vec3 radiance, float transmissionDistance, vec3 attenuationColor, float attenuationDistance ) {\n\t\tif ( attenuationDistance == 0.0 ) {\n\t\t\treturn radiance;\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance * radiance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( vec3 n, vec3 v, float roughness, vec3 diffuseColor, vec3 specularColor, float specularF90,\n\t\tvec3 position, mat4 modelMatrix, mat4 viewMatrix, mat4 projMatrix, float ior, float thickness,\n\t\tvec3 attenuationColor, float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\n\t}\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULARINTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n\t#ifdef USE_SPECULARCOLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}"},_S={common:{diffuse:{value:new pG(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new vi()},uv2Transform:{value:new vi()},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:0.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new eh(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:0.00025},fogNear:{value:1},fogFar:{value:2000},fogColor:{value:new pG(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new pG(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new vi()}},sprite:{diffuse:{value:new pG(16777215)},opacity:{value:1},center:{value:new eh(0.5,0.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new vi()}}},aT={basic:{uniforms:RO([_S.common,_S.specularmap,_S.envmap,_S.aomap,_S.lightmap,_S.fog]),vertexShader:$S.meshbasic_vert,fragmentShader:$S.meshbasic_frag},lambert:{uniforms:RO([_S.common,_S.specularmap,_S.envmap,_S.aomap,_S.lightmap,_S.emissivemap,_S.fog,_S.lights,{emissive:{value:new pG(0)}}]),vertexShader:$S.meshlambert_vert,fragmentShader:$S.meshlambert_frag},phong:{uniforms:RO([_S.common,_S.specularmap,_S.envmap,_S.aomap,_S.lightmap,_S.emissivemap,_S.bumpmap,_S.normalmap,_S.displacementmap,_S.fog,_S.lights,{emissive:{value:new pG(0)},specular:{value:new pG(1118481)},shininess:{value:30}}]),vertexShader:$S.meshphong_vert,fragmentShader:$S.meshphong_frag},standard:{uniforms:RO([_S.common,_S.envmap,_S.aomap,_S.lightmap,_S.emissivemap,_S.bumpmap,_S.normalmap,_S.displacementmap,_S.roughnessmap,_S.metalnessmap,_S.fog,_S.lights,{emissive:{value:new pG(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:$S.meshphysical_vert,fragmentShader:$S.meshphysical_frag},toon:{uniforms:RO([_S.common,_S.aomap,_S.lightmap,_S.emissivemap,_S.bumpmap,_S.normalmap,_S.displacementmap,_S.gradientmap,_S.fog,_S.lights,{emissive:{value:new pG(0)}}]),vertexShader:$S.meshtoon_vert,fragmentShader:$S.meshtoon_frag},matcap:{uniforms:RO([_S.common,_S.bumpmap,_S.normalmap,_S.displacementmap,_S.fog,{matcap:{value:null}}]),vertexShader:$S.meshmatcap_vert,fragmentShader:$S.meshmatcap_frag},points:{uniforms:RO([_S.points,_S.fog]),vertexShader:$S.points_vert,fragmentShader:$S.points_frag},dashed:{uniforms:RO([_S.common,_S.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:$S.linedashed_vert,fragmentShader:$S.linedashed_frag},depth:{uniforms:RO([_S.common,_S.displacementmap]),vertexShader:$S.depth_vert,fragmentShader:$S.depth_frag},normal:{uniforms:RO([_S.common,_S.bumpmap,_S.normalmap,_S.displacementmap,{opacity:{value:1}}]),vertexShader:$S.meshnormal_vert,fragmentShader:$S.meshnormal_frag},sprite:{uniforms:RO([_S.sprite,_S.fog]),vertexShader:$S.sprite_vert,fragmentShader:$S.sprite_frag},background:{uniforms:{uvTransform:{value:new vi()},t2D:{value:null}},vertexShader:$S.background_vert,fragmentShader:$S.background_frag},cube:{uniforms:RO([_S.envmap,{opacity:{value:1}}]),vertexShader:$S.cube_vert,fragmentShader:$S.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:$S.equirect_vert,fragmentShader:$S.equirect_frag},distanceRGBA:{uniforms:RO([_S.common,_S.displacementmap,{referencePosition:{value:new Sp()},nearDistance:{value:1},farDistance:{value:1000}}]),vertexShader:$S.distanceRGBA_vert,fragmentShader:$S.distanceRGBA_frag},shadow:{uniforms:RO([_S.lights,_S.fog,{color:{value:new pG(0)},opacity:{value:1}},]),vertexShader:$S.shadow_vert,fragmentShader:$S.shadow_frag}};function bT(a,b,c,d,e){const f=new pG(0);let g=0,h,i,j=null,k=0,l=null;function m(a,b){c.buffers.color.setClear(a.r,a.g,a.b,b,e)}return{getClearColor:function(){return f},setClearColor:function(a,b=1){f.set(a),m(f,g=b)},getClearAlpha:function(){return g},setClearAlpha:function(a){m(f,g=a)},render:function(c,e){let n=!1,o=!0===e.isScene?e.background:null;o&&o.isTexture&&(o=b.get(o));const p=a.xr,q=p.getSession&&p.getSession();q&&"additive"===q.environmentBlendMode&&(o=null),null===o?m(f,g):o&&o.isColor&&(m(o,1),n=!0),(a.autoClear||n)&&a.clear(a.autoClearColor,a.autoClearDepth,a.autoClearStencil),o&&(o.isCubeTexture||306===o.mapping)?(void 0===i&&((i=new rN(new AO(1,1,1),new TO({name:"BackgroundCubeMaterial",uniforms:QO(aT.cube.uniforms),vertexShader:aT.cube.vertexShader,fragmentShader:aT.cube.fragmentShader,side:zg,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),i.geometry.deleteAttribute("uv"),i.onBeforeRender=function(a,b,c){this.matrixWorld.copyPosition(c.matrixWorld)},Object.defineProperty(i.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),d.update(i)),i.material.uniforms.envMap.value=o,i.material.uniforms.flipEnvMap.value=o.isCubeTexture&& !1===o.isRenderTargetTexture?-1:1,(j!==o||k!==o.version||l!==a.toneMapping)&&(i.material.needsUpdate=!0,j=o,k=o.version,l=a.toneMapping),c.unshift(i,i.geometry,i.material,0,0,null)):o&&o.isTexture&&(void 0===h&&((h=new rN(new yS(2,2),new TO({name:"BackgroundMaterial",uniforms:QO(aT.background.uniforms),vertexShader:aT.background.vertexShader,fragmentShader:aT.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),Object.defineProperty(h.material,"map",{get:function(){return this.uniforms.t2D.value}}),d.update(h)),h.material.uniforms.t2D.value=o,!0===o.matrixAutoUpdate&&o.updateMatrix(),h.material.uniforms.uvTransform.value.copy(o.matrix),(j!==o||k!==o.version||l!==a.toneMapping)&&(h.material.needsUpdate=!0,j=o,k=o.version,l=a.toneMapping),c.unshift(h,h.geometry,h.material,0,0,null))}}}function cT(a,b,c,d){const e=a.getParameter(34921),f=d.isWebGL2?null:b.get("OES_vertex_array_object"),g=d.isWebGL2||null!==f,h={},i=m(null);let j=i;function k(b){return d.isWebGL2?a.bindVertexArray(b):f.bindVertexArrayOES(b)}function l(b){return d.isWebGL2?a.deleteVertexArray(b):f.deleteVertexArrayOES(b)}function m(a){const b=[],c=[],d=[];for(let f=0;f<e;f++)b[f]=0,c[f]=0,d[f]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:b,enabledAttributes:c,attributeDivisors:d,object:a,attributes:{},index:null}}function n(){const a=j.newAttributes;for(let b=0,c=a.length;b<c;b++)a[b]=0}function o(a){p(a,0)}function p(c,e){const f=j.newAttributes,g=j.enabledAttributes,h=j.attributeDivisors;if(f[c]=1,0===g[c]&&(a.enableVertexAttribArray(c),g[c]=1),h[c]!==e){const i=d.isWebGL2?a:b.get("ANGLE_instanced_arrays");i[d.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](c,e),h[c]=e}}function q(){const b=j.newAttributes,c=j.enabledAttributes;for(let d=0,e=c.length;d<e;d++)c[d]!==b[d]&&(a.disableVertexAttribArray(d),c[d]=0)}function r(b,c,e,f,g,h){!0===d.isWebGL2&&(5124===e||5125===e)?a.vertexAttribIPointer(b,c,e,g,h):a.vertexAttribPointer(b,c,e,f,g,h)}function s(){t(),j!==i&&k((j=i).object)}function t(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:function(e,i,l,s,t){let u=!1;if(g){const v=function(b,c,e){const g=!0===e.wireframe;let i=h[b.id];void 0===i&&(i={},h[b.id]=i);let j=i[c.id];void 0===j&&(j={},i[c.id]=j);let k=j[g];return void 0===k&&(k=m(d.isWebGL2?a.createVertexArray():f.createVertexArrayOES()),j[g]=k),k}(s,l,i);j!==v&&k((j=v).object),(u=(function(a,b){const c=j.attributes,d=a.attributes;let e=0;for(const f in d){const g=c[f],h=d[f];if(void 0===g)return!0;if(g.attribute!==h)return!0;if(g.data!==h.data)return!0;e++}return j.attributesNum!==e||j.index!==b})(s,t))&&(function(a,b){const c={},d=a.attributes;let e=0;for(const f in d){const g=d[f],h={};h.attribute=g,g.data&&(h.data=g.data),c[f]=h,e++}j.attributes=c,j.attributesNum=e,j.index=b})(s,t)}else{const w=!0===i.wireframe;(j.geometry!==s.id||j.program!==l.id||j.wireframe!==w)&&(j.geometry=s.id,j.program=l.id,j.wireframe=w,u=!0)}!0===e.isInstancedMesh&&(u=!0),null!==t&&c.update(t,34963),u&&((function(e,f,g,h){if(!1!==d.isWebGL2|| !e.isInstancedMesh&&!h.isInstancedBufferGeometry||null!==b.get("ANGLE_instanced_arrays")){n();const i=h.attributes,j=g.getAttributes(),k=f.defaultAttributeValues;for(const l in j){const m=j[l];if(m.location>=0){let s=i[l];if(void 0===s&&("instanceMatrix"===l&&e.instanceMatrix&&(s=e.instanceMatrix),"instanceColor"===l&&e.instanceColor&&(s=e.instanceColor)),void 0!==s){const t=s.normalized,u=s.itemSize,v=c.get(s);if(void 0===v)continue;const w=v.buffer,x=v.type,y=v.bytesPerElement;if(s.isInterleavedBufferAttribute){const z=s.data,A=z.stride,B=s.offset;if(z&&z.isInstancedInterleavedBuffer){for(let C=0;C<m.locationSize;C++)p(m.location+C,z.meshPerAttribute);!0!==e.isInstancedMesh&& void 0===h._maxInstanceCount&&(h._maxInstanceCount=z.meshPerAttribute*z.count)}else for(let D=0;D<m.locationSize;D++)o(m.location+D);a.bindBuffer(34962,w);for(let E=0;E<m.locationSize;E++)r(m.location+E,u/m.locationSize,x,t,A*y,(B+u/m.locationSize*E)*y)}else{if(s.isInstancedBufferAttribute){for(let F=0;F<m.locationSize;F++)p(m.location+F,s.meshPerAttribute);!0!==e.isInstancedMesh&& void 0===h._maxInstanceCount&&(h._maxInstanceCount=s.meshPerAttribute*s.count)}else for(let G=0;G<m.locationSize;G++)o(m.location+G);a.bindBuffer(34962,w);for(let H=0;H<m.locationSize;H++)r(m.location+H,u/m.locationSize,x,t,u*y,u/m.locationSize*H*y)}}else if(void 0!==k){const I=k[l];if(void 0!==I)switch(I.length){case 2:a.vertexAttrib2fv(m.location,I);break;case 3:a.vertexAttrib3fv(m.location,I);break;case 4:a.vertexAttrib4fv(m.location,I);break;default:a.vertexAttrib1fv(m.location,I)}}}}q()}})(e,i,l,s),null!==t&&a.bindBuffer(34963,c.get(t).buffer))},reset:s,resetDefaultState:t,dispose:function(){for(const a in s(),h){const b=h[a];for(const c in b){const d=b[c];for(const e in d)l(d[e].object),delete d[e];delete b[c]}delete h[a]}},releaseStatesOfGeometry:function(a){if(void 0!==h[a.id]){const b=h[a.id];for(const c in b){const d=b[c];for(const e in d)l(d[e].object),delete d[e];delete b[c]}delete h[a.id]}},releaseStatesOfProgram:function(a){for(const b in h){const c=h[b];if(void 0!==c[a.id]){const d=c[a.id];for(const e in d)l(d[e].object),delete d[e];delete c[a.id]}}},initAttributes:n,enableAttribute:o,disableUnusedAttributes:q}}function dT(a,b,c,d){const e=d.isWebGL2;let f;this.setMode=function(a){f=a},this.render=function(b,d){a.drawArrays(f,b,d),c.update(d,f,1)},this.renderInstances=function(d,g,h){if(0!==h){let i,j;if(e)i=a,j="drawArraysInstanced";else if(j="drawArraysInstancedANGLE",null===(i=b.get("ANGLE_instanced_arrays"))){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}i[j](f,d,g,h),c.update(g,f,h)}}}function eT(a,b,c){let d;function e(b){if("highp"===b){if(a.getShaderPrecisionFormat(35633,36338).precision>0&&a.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";b="mediump"}return"mediump"===b&&a.getShaderPrecisionFormat(35633,36337).precision>0&&a.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const f="undefined"!=typeof WebGL2RenderingContext&&a instanceof WebGL2RenderingContext||"undefined"!=typeof WebGL2ComputeRenderingContext&&a instanceof WebGL2ComputeRenderingContext;let g=void 0!==c.precision?c.precision:"highp";const h=e(g);h!==g&&(console.warn("THREE.WebGLRenderer:",g,"not supported, using",h,"instead."),g=h);const i=f||b.has("WEBGL_draw_buffers"),j=!0===c.logarithmicDepthBuffer,k=a.getParameter(34930),l=a.getParameter(35660),m=a.getParameter(3379),n=a.getParameter(34076),o=a.getParameter(34921),p=a.getParameter(36347),q=a.getParameter(36348),r=a.getParameter(36349),s=l>0,t=f||b.has("OES_texture_float"),u=f?a.getParameter(36183):0;return{isWebGL2:f,drawBuffers:i,getMaxAnisotropy:function(){if(void 0!==d)return d;if(!0===b.has("EXT_texture_filter_anisotropic")){const c=b.get("EXT_texture_filter_anisotropic");d=a.getParameter(c.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else d=0;return d},getMaxPrecision:e,precision:g,logarithmicDepthBuffer:j,maxTextures:k,maxVertexTextures:l,maxTextureSize:m,maxCubemapSize:n,maxAttributes:o,maxVertexUniforms:p,maxVaryings:q,maxFragmentUniforms:r,vertexTextures:s,floatFragmentTextures:t,floatVertexTextures:s&&t,maxSamples:u}}function fT(a){const b=this;let c=null,d=0,e=!1,f=!1;const g=new LQ(),h=new vi(),i={value:null,needsUpdate:!1};function j(){i.value!==c&&(i.value=c,i.needsUpdate=d>0),b.numPlanes=d,b.numIntersection=0}function k(a,c,d,e){const f=null!==a?a.length:0;let j=null;if(0!==f){if(j=i.value,!0!==e||null===j){const k=d+4*f,l=c.matrixWorldInverse;h.getNormalMatrix(l),(null===j||j.length<k)&&(j=new Float32Array(k));for(let m=0,n=d;m!==f;++m,n+=4)g.copy(a[m]).applyMatrix4(l,h),g.normal.toArray(j,n),j[n+3]=g.constant}i.value=j,i.needsUpdate=!0}return b.numPlanes=f,b.numIntersection=0,j}this.uniform=i,this.numPlanes=0,this.numIntersection=0,this.init=function(a,b,f){const g=0!==a.length||b||0!==d||e;return e=b,c=k(a,f,0),d=a.length,g},this.beginShadows=function(){f=!0,k(null)},this.endShadows=function(){f=!1,j()},this.setState=function(b,g,h){const l=b.clippingPlanes,m=b.clipIntersection,n=b.clipShadows,o=a.get(b);if(e&&null!==l&&0!==l.length&&(!f||n)){const p=f?0:d,q=4*p;let r=o.clippingState||null;i.value=r,r=k(l,g,q,h);for(let s=0;s!==q;++s)r[s]=c[s];o.clippingState=r,this.numIntersection=m?this.numPlanes:0,this.numPlanes+=p}else f?k(null):j()}}function gT(a){let b=new WeakMap();function c(a,b){return 303===b?a.mapping=301:304===b&&(a.mapping=302),a}function d(a){const c=a.target;c.removeEventListener("dispose",d);const e=b.get(c);void 0!==e&&(b.delete(c),e.dispose())}return{get:function(e){if(e&&e.isTexture&& !1===e.isRenderTargetTexture){const f=e.mapping;if(303===f||304===f){if(b.has(e)){const g=b.get(e).texture;return c(g,e.mapping)}{const h=e.image;if(!h||!(h.height>0))return null;{const i=a.getRenderTarget(),j=new qQ(h.height/2);return j.fromEquirectangularTexture(a,e),b.set(e,j),a.setRenderTarget(i),e.addEventListener("dispose",d),c(j.texture,e.mapping)}}}}return e},dispose:function(){b=new WeakMap()}}}aT.physical={uniforms:RO([aT.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new eh(1,1)},clearcoatNormalMap:{value:null},sheen:{value:0},sheenColor:{value:new pG(0)},sheenColorMap:{value:null},sheenRoughness:{value:0},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new eh()},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new pG(0)},specularIntensity:{value:0},specularIntensityMap:{value:null},specularColor:{value:new pG(1,1,1)},specularColorMap:{value:null}}]),vertexShader:$S.meshphysical_vert,fragmentShader:$S.meshphysical_frag};class hT extends bP{constructor(iT=-1,jT=1,kT=1,lT=-1,mT=0.1,nT=2000){super(),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=iT,this.right=jT,this.top=kT,this.bottom=lT,this.near=mT,this.far=nT,this.updateProjectionMatrix()}copy(oT,pT){return super.copy(oT,pT),this.left=oT.left,this.right=oT.right,this.top=oT.top,this.bottom=oT.bottom,this.near=oT.near,this.far=oT.far,this.zoom=oT.zoom,this.view=null===oT.view?null:Object.assign({},oT.view),this}setViewOffset(qT,rT,sT,tT,uT,vT){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=qT,this.view.fullHeight=rT,this.view.offsetX=sT,this.view.offsetY=tT,this.view.width=uT,this.view.height=vT,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const wT=(this.right-this.left)/(2*this.zoom),xT=(this.top-this.bottom)/(2*this.zoom),yT=(this.right+this.left)/2,zT=(this.top+this.bottom)/2;let AT=yT-wT,BT=yT+wT,CT=zT+xT,DT=zT-xT;if(null!==this.view&&this.view.enabled){const ET=(this.right-this.left)/this.view.fullWidth/this.zoom,FT=(this.top-this.bottom)/this.view.fullHeight/this.zoom;BT=(AT+=ET*this.view.offsetX)+ET*this.view.width,DT=(CT-=FT*this.view.offsetY)-FT*this.view.height}this.projectionMatrix.makeOrthographic(AT,BT,CT,DT,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(GT){const HT=super.toJSON(GT);return HT.object.zoom=this.zoom,HT.object.left=this.left,HT.object.right=this.right,HT.object.top=this.top,HT.object.bottom=this.bottom,HT.object.near=this.near,HT.object.far=this.far,null!==this.view&&(HT.object.view=Object.assign({},this.view)),HT}}hT.prototype.isOrthographicCamera=!0;class IT extends TO{constructor(JT){super(JT),this.type="RawShaderMaterial"}}IT.prototype.isRawShaderMaterial=!0;const KT=[0.125,0.215,0.35,0.446,0.526,0.582],LT=5+KT.length,MT={[3000]:0,[3001]:1,[3002]:2,[3004]:3,[3005]:4,[3006]:5,[3007]:6},NT=new hT(),{_lodPlanes:OT,_sizeLods:PT,_sigmas:QT}=function(){const a=[],b=[],c=[];let d=8;for(let e=0;e<LT;e++){const f=Math.pow(2,d);b.push(f);let g=1/f;e>4?g=KT[e-8+4-1]:0==e&&(g=0),c.push(g);const h=1/(f-1),i=-h/2,j=1+h/2,k=[i,i,j,i,j,j,i,i,j,j,i,j],l=6,m=6,n=3,o=2,p=1,q=new Float32Array(n*m*l),r=new Float32Array(o*m*l),s=new Float32Array(p*m*l);for(let t=0;t<l;t++){const u=t%3*2/3-1,v=t>2?0:-1,w=[u,v,0,u+2/3,v,0,u+2/3,v+1,0,u,v,0,u+2/3,v+1,0,u,v+1,0];q.set(w,n*m*t),r.set(k,o*m*t);const x=[t,t,t,t,t,t];s.set(x,p*m*t)}const y=new IJ();y.setAttribute("position",new PH(q,n)),y.setAttribute("uv",new PH(r,o)),y.setAttribute("faceIndex",new PH(s,p)),a.push(y),d>4&&d--}return{_lodPlanes:a,_sizeLods:b,_sigmas:c}}(),RT=new pG();let ST=null;const TT=(1+Math.sqrt(5))/2,UT=1/TT,VT=[new Sp(1,1,1),new Sp(-1,1,1),new Sp(1,1,-1),new Sp(-1,1,-1),new Sp(0,TT,UT),new Sp(0,TT,-UT),new Sp(UT,0,TT),new Sp(-UT,0,TT),new Sp(TT,UT,0),new Sp(-TT,UT,0)];class WT{constructor(XT){this._renderer=XT,this._pingPongRenderTarget=null,this._blurMaterial=(function(a){const b=new Float32Array(a),c=new Sp(0,1,0),d=new IT({name:"SphericalGaussianBlur",defines:{n:a},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:b},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:c},inputEncoding:{value:MT[3000]},outputEncoding:{value:MT[3000]}},vertexShader:xV(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			${yV()}

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:0,depthTest:!1,depthWrite:!1});return d})(20),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}fromScene(YT,ZT=0,$T=0.1,_T=100){ST=this._renderer.getRenderTarget();const aU=this._allocateTargets();return this._sceneToCubeUV(YT,$T,_T,aU),ZT>0&&this._blur(aU,0,0,ZT),this._applyPMREM(aU),this._cleanup(aU),aU}fromEquirectangular(bU){return this._fromTexture(bU)}fromCubemap(cU){return this._fromTexture(cU)}compileCubemapShader(){null===this._cubemapShader&&(this._cubemapShader=wV(),this._compileMaterial(this._cubemapShader))}compileEquirectangularShader(){null===this._equirectShader&&(this._equirectShader=vV(),this._compileMaterial(this._equirectShader))}dispose(){this._blurMaterial.dispose(),null!==this._cubemapShader&&this._cubemapShader.dispose(),null!==this._equirectShader&&this._equirectShader.dispose();for(let dU=0;dU<OT.length;dU++)OT[dU].dispose()}_cleanup(eU){this._pingPongRenderTarget.dispose(),this._renderer.setRenderTarget(ST),eU.scissorTest=!1,uV(eU,0,0,eU.width,eU.height)}_fromTexture(fU){ST=this._renderer.getRenderTarget();const gU=this._allocateTargets(fU);return this._textureToCubeUV(fU,gU),this._applyPMREM(gU),this._cleanup(gU),gU}_allocateTargets(hU){const iU={magFilter:1003,minFilter:1003,generateMipmaps:!1,type:1009,format:1023,encoding:sV(hU)?hU.encoding:3002,depthBuffer:!1},jU=tV(iU);return jU.depthBuffer=!hU,this._pingPongRenderTarget=tV(iU),jU}_compileMaterial(kU){const lU=new rN(OT[0],kU);this._renderer.compile(lU,NT)}_sceneToCubeUV(mU,nU,oU,pU){const qU=new jP(90,1,nU,oU),rU=[1,-1,1,1,1,1],sU=[1,1,1,-1,-1,-1],tU=this._renderer,uU=tU.autoClear,vU=tU.outputEncoding,wU=tU.toneMapping;tU.getClearColor(RT),tU.toneMapping=0,tU.outputEncoding=3000,tU.autoClear=!1;const xU=new KH({name:"PMREM.Background",side:zg,depthWrite:!1,depthTest:!1}),yU=new rN(new AO(),xU);let zU=!1;const AU=mU.background;AU?AU.isColor&&(xU.color.copy(AU),mU.background=null,zU=!0):(xU.color.copy(RT),zU=!0);for(let BU=0;BU<6;BU++){const CU=BU%3;0==CU?(qU.up.set(0,rU[BU],0),qU.lookAt(sU[BU],0,0)):1==CU?(qU.up.set(0,0,rU[BU]),qU.lookAt(0,sU[BU],0)):(qU.up.set(0,rU[BU],0),qU.lookAt(0,0,sU[BU])),uV(pU,256*CU,BU>2?256:0,256,256),tU.setRenderTarget(pU),zU&&tU.render(yU,qU),tU.render(mU,qU)}yU.geometry.dispose(),yU.material.dispose(),tU.toneMapping=wU,tU.outputEncoding=vU,tU.autoClear=uU,mU.background=AU}_setEncoding(DU,EU){DU.value=MT[EU.encoding]}_textureToCubeUV(FU,GU){const HU=this._renderer,IU=301===FU.mapping||302===FU.mapping;IU?null==this._cubemapShader&&(this._cubemapShader=wV()):null==this._equirectShader&&(this._equirectShader=vV());const JU=IU?this._cubemapShader:this._equirectShader,KU=new rN(OT[0],JU),LU=JU.uniforms;LU.envMap.value=FU,IU||LU.texelSize.value.set(1/FU.image.width,1/FU.image.height),this._setEncoding(LU.inputEncoding,FU),this._setEncoding(LU.outputEncoding,GU.texture),uV(GU,0,0,768,512),HU.setRenderTarget(GU),HU.render(KU,NT)}_applyPMREM(MU){const NU=this._renderer,OU=NU.autoClear;NU.autoClear=!1;for(let PU=1;PU<LT;PU++){const QU=Math.sqrt(QT[PU]*QT[PU]-QT[PU-1]*QT[PU-1]),RU=VT[(PU-1)%VT.length];this._blur(MU,PU-1,PU,QU,RU)}NU.autoClear=OU}_blur(SU,TU,UU,VU,WU){const XU=this._pingPongRenderTarget;this._halfBlur(SU,XU,TU,UU,VU,"latitudinal",WU),this._halfBlur(XU,SU,UU,UU,VU,"longitudinal",WU)}_halfBlur(YU,ZU,$U,_U,aV,bV,cV){const dV=this._renderer,eV=this._blurMaterial;"latitudinal"!==bV&&"longitudinal"!==bV&&console.error("blur direction must be either latitudinal or longitudinal!");const fV=new rN(OT[_U],eV),gV=eV.uniforms,hV=PT[$U]-1,iV=isFinite(aV)?Math.PI/(2*hV):2*Math.PI/39,jV=aV/iV,kV=isFinite(aV)?1+Math.floor(3*jV):20;kV>20&&console.warn(`sigmaRadians, ${aV}, is too large and will clip, as it requested ${kV} samples when the maximum is set to 20`);const lV=[];let mV=0;for(let nV=0;nV<20;++nV){const oV=nV/jV,pV=Math.exp(-oV*oV/2);lV.push(pV),0==nV?mV+=pV:nV<kV&&(mV+=2*pV)}for(let qV=0;qV<lV.length;qV++)lV[qV]=lV[qV]/mV;gV.envMap.value=YU.texture,gV.samples.value=kV,gV.weights.value=lV,gV.latitudinal.value="latitudinal"===bV,cV&&(gV.poleAxis.value=cV),gV.dTheta.value=iV,gV.mipInt.value=8-$U,this._setEncoding(gV.inputEncoding,YU.texture),this._setEncoding(gV.outputEncoding,YU.texture);const rV=PT[_U];uV(ZU,3*Math.max(0,256-2*rV),(0===_U?0:512)+2*rV*(_U>4?_U-8+4:0),3*rV,2*rV),dV.setRenderTarget(ZU),dV.render(fV,NT)}}function sV(a){return void 0!==a&&1009===a.type&&(3000===a.encoding||3001===a.encoding||3007===a.encoding)}function tV(a){const b=new Km(768,768,a);return b.texture.mapping=306,b.texture.name="PMREM.cubeUv",b.scissorTest=!0,b}function uV(a,b,c,d,e){a.viewport.set(b,c,d,e),a.scissor.set(b,c,d,e)}function vV(){const a=new eh(1,1),b=new IT({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null},texelSize:{value:a},inputEncoding:{value:MT[3000]},outputEncoding:{value:MT[3000]}},vertexShader:xV(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform vec2 texelSize;

			${yV()}

			#include <common>

			void main() {

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				vec2 f = fract( uv / texelSize - 0.5 );
				uv -= f * texelSize;
				vec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.x += texelSize.x;
				vec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.y += texelSize.y;
				vec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;
				uv.x -= texelSize.x;
				vec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;

				vec3 tm = mix( tl, tr, f.x );
				vec3 bm = mix( bl, br, f.x );
				gl_FragColor.rgb = mix( tm, bm, f.y );

				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:0,depthTest:!1,depthWrite:!1});return b}function wV(){const a=new IT({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},inputEncoding:{value:MT[3000]},outputEncoding:{value:MT[3000]}},vertexShader:xV(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			${yV()}

			void main() {

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) ).rgb;
				gl_FragColor = linearToOutputTexel( gl_FragColor );

			}
		`,blending:0,depthTest:!1,depthWrite:!1});return a}function xV(){return`

		precision mediump float;
		precision mediump int;

		attribute vec3 position;
		attribute vec2 uv;
		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function yV(){return`

		uniform int inputEncoding;
		uniform int outputEncoding;

		#include <encodings_pars_fragment>

		vec4 inputTexelToLinear( vec4 value ) {

			if ( inputEncoding == 0 ) {

				return value;

			} else if ( inputEncoding == 1 ) {

				return sRGBToLinear( value );

			} else if ( inputEncoding == 2 ) {

				return RGBEToLinear( value );

			} else if ( inputEncoding == 3 ) {

				return RGBMToLinear( value, 7.0 );

			} else if ( inputEncoding == 4 ) {

				return RGBMToLinear( value, 16.0 );

			} else if ( inputEncoding == 5 ) {

				return RGBDToLinear( value, 256.0 );

			} else {

				return GammaToLinear( value, 2.2 );

			}

		}

		vec4 linearToOutputTexel( vec4 value ) {

			if ( outputEncoding == 0 ) {

				return value;

			} else if ( outputEncoding == 1 ) {

				return LinearTosRGB( value );

			} else if ( outputEncoding == 2 ) {

				return LinearToRGBE( value );

			} else if ( outputEncoding == 3 ) {

				return LinearToRGBM( value, 7.0 );

			} else if ( outputEncoding == 4 ) {

				return LinearToRGBM( value, 16.0 );

			} else if ( outputEncoding == 5 ) {

				return LinearToRGBD( value, 256.0 );

			} else {

				return LinearToGamma( value, 2.2 );

			}

		}

		vec4 envMapTexelToLinear( vec4 color ) {

			return inputTexelToLinear( color );

		}
	`}function zV(a){let b=new WeakMap(),c=null;function d(a){const c=a.target;c.removeEventListener("dispose",d);const e=b.get(c);void 0!==e&&(b.delete(c),e.dispose())}return{get:function(e){if(e&&e.isTexture&& !1===e.isRenderTargetTexture){const f=e.mapping,g=303===f||304===f,h=301===f||302===f;if(g||h){if(b.has(e))return b.get(e).texture;{const i=e.image;if(!(g&&i&&i.height>0||h&&i&&function(a){let b=0;for(let c=0;c<6;c++)void 0!==a[c]&&b++;return 6===b}(i)))return null;{const j=a.getRenderTarget();null===c&&(c=new WT(a));const k=g?c.fromEquirectangular(e):c.fromCubemap(e);return b.set(e,k),a.setRenderTarget(j),e.addEventListener("dispose",d),k.texture}}}}return e},dispose:function(){b=new WeakMap(),null!==c&&(c.dispose(),c=null)}}}function AV(a){const b={};function c(c){if(void 0!==b[c])return b[c];let d;switch(c){case"WEBGL_depth_texture":d=a.getExtension("WEBGL_depth_texture")||a.getExtension("MOZ_WEBGL_depth_texture")||a.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":d=a.getExtension("EXT_texture_filter_anisotropic")||a.getExtension("MOZ_EXT_texture_filter_anisotropic")||a.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":d=a.getExtension("WEBGL_compressed_texture_s3tc")||a.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||a.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":d=a.getExtension("WEBGL_compressed_texture_pvrtc")||a.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:d=a.getExtension(c)}return b[c]=d,d}return{has:function(a){return null!==c(a)},init:function(a){a.isWebGL2?c("EXT_color_buffer_float"):(c("WEBGL_depth_texture"),c("OES_texture_float"),c("OES_texture_half_float"),c("OES_texture_half_float_linear"),c("OES_standard_derivatives"),c("OES_element_index_uint"),c("OES_vertex_array_object"),c("ANGLE_instanced_arrays")),c("OES_texture_float_linear"),c("EXT_color_buffer_half_float"),c("WEBGL_multisampled_render_to_texture")},get:function(a){const b=c(a);return null===b&&console.warn("THREE.WebGLRenderer: "+a+" extension not supported."),b}}}function BV(a,b,c,d){const e={},f=new WeakMap();function g(a){const h=a.target;for(const i in null!==h.index&&b.remove(h.index),h.attributes)b.remove(h.attributes[i]);h.removeEventListener("dispose",g),delete e[h.id];const j=f.get(h);j&&(b.remove(j),f.delete(h)),d.releaseStatesOfGeometry(h),!0===h.isInstancedBufferGeometry&&delete h._maxInstanceCount,c.memory.geometries--}function h(a){const c=[],d=a.index,e=a.attributes.position;let g=0;if(null!==d){const h=d.array;g=d.version;for(let i=0,j=h.length;i<j;i+=3){const k=h[i+0],l=h[i+1],m=h[i+2];c.push(k,l,l,m,m,k)}}else{const n=e.array;g=e.version;for(let o=0,p=n.length/3-1;o<p;o+=3){const q=o+0,r=o+1,s=o+2;c.push(q,r,r,s,s,q)}}const t=new(yk(c)>65535?qJ:mJ)(c,1);t.version=g;const u=f.get(a);u&&b.remove(u),f.set(a,t)}return{get:function(a,b){return!0===e[b.id]||(b.addEventListener("dispose",g),e[b.id]=!0,c.memory.geometries++),b},update:function(a){const c=a.attributes;for(const d in c)b.update(c[d],34962);const e=a.morphAttributes;for(const f in e){const g=e[f];for(let h=0,i=g.length;h<i;h++)b.update(g[h],34962)}},getWireframeAttribute:function(a){const b=f.get(a);if(b){const c=a.index;null!==c&&b.version<c.version&&h(a)}else h(a);return f.get(a)}}}function CV(a,b,c,d){const e=d.isWebGL2;let f,g,h;this.setMode=function(a){f=a},this.setIndex=function(a){g=a.type,h=a.bytesPerElement},this.render=function(b,d){a.drawElements(f,d,g,b*h),c.update(d,f,1)},this.renderInstances=function(d,i,j){if(0!==j){let k,l;if(e)k=a,l="drawElementsInstanced";else if(l="drawElementsInstancedANGLE",null===(k=b.get("ANGLE_instanced_arrays"))){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}k[l](f,i,g,d*h,j),c.update(i,f,j)}}}function DV(a){const b={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:b,programs:null,autoReset:!0,reset:function(){b.frame++,b.calls=0,b.triangles=0,b.points=0,b.lines=0},update:function(a,c,d){switch(b.calls++,c){case 4:b.triangles+=d*(a/3);break;case 1:b.lines+=d*(a/2);break;case 3:b.lines+=d*(a-1);break;case 2:b.lines+=d*a;break;case 0:b.points+=d*a;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",c);break}}}}class EV extends Hk{constructor(FV=null,GV=1,HV=1,IV=1){super(null),this.image={data:FV,width:GV,height:HV,depth:IV},this.magFilter=1003,this.minFilter=1003,this.wrapR=1001,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}function JV(a,b){return a[0]-b[0]}function KV(a,b){return Math.abs(b[1])-Math.abs(a[1])}function LV(a,b){let c=1;const d=b.isInterleavedBufferAttribute?b.data.array:b.array;d instanceof Int8Array?c=127:d instanceof Int16Array?c=32767:d instanceof Int32Array?c=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",d),a.divideScalar(c)}function MV(a,b,c){const d={},e=new Float32Array(8),f=new WeakMap(),g=new Sp(),h=[];for(let i=0;i<8;i++)h[i]=[i,0];return{update:function(i,j,k,l){const m=i.morphTargetInfluences;if(!0===b.isWebGL2){const n=j.morphAttributes.position.length;let o=f.get(j);if(void 0===o||o.count!==n){void 0!==o&&o.texture.dispose();const p=void 0!==j.morphAttributes.normal,q=j.morphAttributes.position,r=j.morphAttributes.normal||[],s=j.attributes.position.count,t=!0===p?2:1;let u=s*t,v=1;u>b.maxTextureSize&&(v=Math.ceil(u/b.maxTextureSize),u=b.maxTextureSize);const w=new Float32Array(u*v*4*n),x=new EV(w,u,v,n);x.format=1023,x.type=1015;const y=4*t;for(let z=0;z<n;z++){const A=q[z],B=r[z],C=u*v*4*z;for(let D=0;D<A.count;D++){g.fromBufferAttribute(A,D),!0===A.normalized&&LV(g,A);const E=D*y;w[C+E+0]=g.x,w[C+E+1]=g.y,w[C+E+2]=g.z,w[C+E+3]=0,!0===p&&(g.fromBufferAttribute(B,D),!0===B.normalized&&LV(g,B),w[C+E+4]=g.x,w[C+E+5]=g.y,w[C+E+6]=g.z,w[C+E+7]=0)}}o={count:n,texture:x,size:new eh(u,v)},f.set(j,o)}let F=0;for(let G=0;G<m.length;G++)F+=m[G];const H=j.morphTargetsRelative?1:1-F;l.getUniforms().setValue(a,"morphTargetBaseInfluence",H),l.getUniforms().setValue(a,"morphTargetInfluences",m),l.getUniforms().setValue(a,"morphTargetsTexture",o.texture,c),l.getUniforms().setValue(a,"morphTargetsTextureSize",o.size)}else{const I=void 0===m?0:m.length;let J=d[j.id];if(void 0===J||J.length!==I){J=[];for(let K=0;K<I;K++)J[K]=[K,0];d[j.id]=J}for(let L=0;L<I;L++){const M=J[L];M[0]=L,M[1]=m[L]}J.sort(KV);for(let N=0;N<8;N++)N<I&&J[N][1]?(h[N][0]=J[N][0],h[N][1]=J[N][1]):(h[N][0]=Number.MAX_SAFE_INTEGER,h[N][1]=0);h.sort(JV);const O=j.morphAttributes.position,P=j.morphAttributes.normal;let Q=0;for(let R=0;R<8;R++){const S=h[R],T=S[0],U=S[1];T!==Number.MAX_SAFE_INTEGER&&U?(O&&j.getAttribute("morphTarget"+R)!==O[T]&&j.setAttribute("morphTarget"+R,O[T]),P&&j.getAttribute("morphNormal"+R)!==P[T]&&j.setAttribute("morphNormal"+R,P[T]),e[R]=U,Q+=U):(O&& !0===j.hasAttribute("morphTarget"+R)&&j.deleteAttribute("morphTarget"+R),P&& !0===j.hasAttribute("morphNormal"+R)&&j.deleteAttribute("morphNormal"+R),e[R]=0)}const V=j.morphTargetsRelative?1:1-Q;l.getUniforms().setValue(a,"morphTargetBaseInfluence",V),l.getUniforms().setValue(a,"morphTargetInfluences",e)}}}}function NV(a,b,c,d){let e=new WeakMap();function f(a){const b=a.target;b.removeEventListener("dispose",f),c.remove(b.instanceMatrix),null!==b.instanceColor&&c.remove(b.instanceColor)}return{update:function(a){const g=d.render.frame,h=a.geometry,i=b.get(a,h);return e.get(i)!==g&&(b.update(i),e.set(i,g)),a.isInstancedMesh&&(!1===a.hasEventListener("dispose",f)&&a.addEventListener("dispose",f),c.update(a.instanceMatrix,34962),null!==a.instanceColor&&c.update(a.instanceColor,34962)),i},dispose:function(){e=new WeakMap()}}}EV.prototype.isDataTexture2DArray=!0;class OV extends Hk{constructor(PV=null,QV=1,RV=1,SV=1){super(null),this.image={data:PV,width:QV,height:RV,depth:SV},this.magFilter=1003,this.minFilter=1003,this.wrapR=1001,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}OV.prototype.isDataTexture3D=!0;const TV=new Hk(),UV=new EV(),VV=new OV(),WV=new eQ(),XV=[],YV=[],ZV=new Float32Array(16),$V=new Float32Array(9),_V=new Float32Array(4);function aW(a,b,c){const d=a[0];if(d<=0||d>0)return a;const e=b*c;let f=XV[e];if(void 0===f&&(f=new Float32Array(e),XV[e]=f),0!==b){d.toArray(f,0);for(let g=1,h=0;g!==b;++g)h+=c,a[g].toArray(f,h)}return f}function bW(a,b){if(a.length!==b.length)return!1;for(let c=0,d=a.length;c<d;c++)if(a[c]!==b[c])return!1;return!0}function cW(a,b){for(let c=0,d=b.length;c<d;c++)a[c]=b[c]}function dW(a,b){let c=YV[b];void 0===c&&(c=new Int32Array(b),YV[b]=c);for(let d=0;d!==b;++d)c[d]=a.allocateTextureUnit();return c}function eW(a,b){const c=this.cache;c[0]!==b&&(a.uniform1f(this.addr,b),c[0]=b)}function fW(a,b){const c=this.cache;if(void 0!==b.x)(c[0]!==b.x||c[1]!==b.y)&&(a.uniform2f(this.addr,b.x,b.y),c[0]=b.x,c[1]=b.y);else{if(bW(c,b))return;a.uniform2fv(this.addr,b),cW(c,b)}}function gW(a,b){const c=this.cache;if(void 0!==b.x)(c[0]!==b.x||c[1]!==b.y||c[2]!==b.z)&&(a.uniform3f(this.addr,b.x,b.y,b.z),c[0]=b.x,c[1]=b.y,c[2]=b.z);else if(void 0!==b.r)(c[0]!==b.r||c[1]!==b.g||c[2]!==b.b)&&(a.uniform3f(this.addr,b.r,b.g,b.b),c[0]=b.r,c[1]=b.g,c[2]=b.b);else{if(bW(c,b))return;a.uniform3fv(this.addr,b),cW(c,b)}}function hW(a,b){const c=this.cache;if(void 0!==b.x)(c[0]!==b.x||c[1]!==b.y||c[2]!==b.z||c[3]!==b.w)&&(a.uniform4f(this.addr,b.x,b.y,b.z,b.w),c[0]=b.x,c[1]=b.y,c[2]=b.z,c[3]=b.w);else{if(bW(c,b))return;a.uniform4fv(this.addr,b),cW(c,b)}}function iW(a,b){const c=this.cache,d=b.elements;if(void 0===d){if(bW(c,b))return;a.uniformMatrix2fv(this.addr,!1,b),cW(c,b)}else{if(bW(c,d))return;_V.set(d),a.uniformMatrix2fv(this.addr,!1,_V),cW(c,d)}}function jW(a,b){const c=this.cache,d=b.elements;if(void 0===d){if(bW(c,b))return;a.uniformMatrix3fv(this.addr,!1,b),cW(c,b)}else{if(bW(c,d))return;$V.set(d),a.uniformMatrix3fv(this.addr,!1,$V),cW(c,d)}}function kW(a,b){const c=this.cache,d=b.elements;if(void 0===d){if(bW(c,b))return;a.uniformMatrix4fv(this.addr,!1,b),cW(c,b)}else{if(bW(c,d))return;ZV.set(d),a.uniformMatrix4fv(this.addr,!1,ZV),cW(c,d)}}function lW(a,b){const c=this.cache;c[0]!==b&&(a.uniform1i(this.addr,b),c[0]=b)}function mW(a,b){const c=this.cache;bW(c,b)||(a.uniform2iv(this.addr,b),cW(c,b))}function nW(a,b){const c=this.cache;bW(c,b)||(a.uniform3iv(this.addr,b),cW(c,b))}function oW(a,b){const c=this.cache;bW(c,b)||(a.uniform4iv(this.addr,b),cW(c,b))}function pW(a,b){const c=this.cache;c[0]!==b&&(a.uniform1ui(this.addr,b),c[0]=b)}function qW(a,b){const c=this.cache;bW(c,b)||(a.uniform2uiv(this.addr,b),cW(c,b))}function rW(a,b){const c=this.cache;bW(c,b)||(a.uniform3uiv(this.addr,b),cW(c,b))}function sW(a,b){const c=this.cache;bW(c,b)||(a.uniform4uiv(this.addr,b),cW(c,b))}function tW(a,b,c){const d=this.cache,e=c.allocateTextureUnit();d[0]!==e&&(a.uniform1i(this.addr,e),d[0]=e),c.safeSetTexture2D(b||TV,e)}function uW(a,b,c){const d=this.cache,e=c.allocateTextureUnit();d[0]!==e&&(a.uniform1i(this.addr,e),d[0]=e),c.setTexture3D(b||VV,e)}function vW(a,b,c){const d=this.cache,e=c.allocateTextureUnit();d[0]!==e&&(a.uniform1i(this.addr,e),d[0]=e),c.safeSetTextureCube(b||WV,e)}function wW(a,b,c){const d=this.cache,e=c.allocateTextureUnit();d[0]!==e&&(a.uniform1i(this.addr,e),d[0]=e),c.setTexture2DArray(b||UV,e)}function xW(a,b){a.uniform1fv(this.addr,b)}function yW(a,b){const c=aW(b,this.size,2);a.uniform2fv(this.addr,c)}function zW(a,b){const c=aW(b,this.size,3);a.uniform3fv(this.addr,c)}function AW(a,b){const c=aW(b,this.size,4);a.uniform4fv(this.addr,c)}function BW(a,b){const c=aW(b,this.size,4);a.uniformMatrix2fv(this.addr,!1,c)}function CW(a,b){const c=aW(b,this.size,9);a.uniformMatrix3fv(this.addr,!1,c)}function DW(a,b){const c=aW(b,this.size,16);a.uniformMatrix4fv(this.addr,!1,c)}function EW(a,b){a.uniform1iv(this.addr,b)}function FW(a,b){a.uniform2iv(this.addr,b)}function GW(a,b){a.uniform3iv(this.addr,b)}function HW(a,b){a.uniform4iv(this.addr,b)}function IW(a,b){a.uniform1uiv(this.addr,b)}function JW(a,b){a.uniform2uiv(this.addr,b)}function KW(a,b){a.uniform3uiv(this.addr,b)}function LW(a,b){a.uniform4uiv(this.addr,b)}function MW(a,b,c){const d=b.length,e=dW(c,d);a.uniform1iv(this.addr,e);for(let f=0;f!==d;++f)c.safeSetTexture2D(b[f]||TV,e[f])}function NW(a,b,c){const d=b.length,e=dW(c,d);a.uniform1iv(this.addr,e);for(let f=0;f!==d;++f)c.setTexture3D(b[f]||VV,e[f])}function OW(a,b,c){const d=b.length,e=dW(c,d);a.uniform1iv(this.addr,e);for(let f=0;f!==d;++f)c.safeSetTextureCube(b[f]||WV,e[f])}function PW(a,b,c){const d=b.length,e=dW(c,d);a.uniform1iv(this.addr,e);for(let f=0;f!==d;++f)c.setTexture2DArray(b[f]||UV,e[f])}function QW(a,b,c){this.id=a,this.addr=c,this.cache=[],this.setValue=(function(a){switch(a){case 5126:return eW;case 35664:return fW;case 35665:return gW;case 35666:return hW;case 35674:return iW;case 35675:return jW;case 35676:return kW;case 5124:case 35670:return lW;case 35667:case 35671:return mW;case 35668:case 35672:return nW;case 35669:case 35673:return oW;case 5125:return pW;case 36294:return qW;case 36295:return rW;case 36296:return sW;case 35678:case 36198:case 36298:case 36306:case 35682:return tW;case 35679:case 36299:case 36307:return uW;case 35680:case 36300:case 36308:case 36293:return vW;case 36289:case 36303:case 36311:case 36292:return wW}})(b.type)}function RW(a,b,c){this.id=a,this.addr=c,this.cache=[],this.size=b.size,this.setValue=(function(a){switch(a){case 5126:return xW;case 35664:return yW;case 35665:return zW;case 35666:return AW;case 35674:return BW;case 35675:return CW;case 35676:return DW;case 5124:case 35670:return EW;case 35667:case 35671:return FW;case 35668:case 35672:return GW;case 35669:case 35673:return HW;case 5125:return IW;case 36294:return JW;case 36295:return KW;case 36296:return LW;case 35678:case 36198:case 36298:case 36306:case 35682:return MW;case 35679:case 36299:case 36307:return NW;case 35680:case 36300:case 36308:case 36293:return OW;case 36289:case 36303:case 36311:case 36292:return PW}})(b.type)}function SW(a){this.id=a,this.seq=[],this.map={}}RW.prototype.updateCache=function(a){const b=this.cache;a instanceof Float32Array&&b.length!==a.length&&(this.cache=new Float32Array(a.length)),cW(b,a)},SW.prototype.setValue=function(a,b,c){const d=this.seq;for(let e=0,f=d.length;e!==f;++e){const g=d[e];g.setValue(a,b[g.id],c)}};const TW=/(\w+)(\])?(\[|\.)?/g;function UW(a,b){a.seq.push(b),a.map[b.id]=b}function VW(a,b,c){const d=a.name,e=d.length;for(TW.lastIndex=0;;){const f=TW.exec(d),g=TW.lastIndex;let h=f[1];const i="]"===f[2],j=f[3];if(i&&(h|=0),void 0===j||"["===j&&g+2===e){UW(c,void 0===j?new QW(h,a,b):new RW(h,a,b));break}{const k=c.map;let l=k[h];void 0===l&&UW(c,l=new SW(h)),c=l}}}function WW(a,b){this.seq=[],this.map={};const c=a.getProgramParameter(b,35718);for(let d=0;d<c;++d){const e=a.getActiveUniform(b,d),f=a.getUniformLocation(b,e.name);VW(e,f,this)}}function XW(a,b,c){const d=a.createShader(b);return a.shaderSource(d,c),a.compileShader(d),d}WW.prototype.setValue=function(a,b,c,d){const e=this.map[b];void 0!==e&&e.setValue(a,c,d)},WW.prototype.setOptional=function(a,b,c){const d=b[c];void 0!==d&&this.setValue(a,c,d)},WW.upload=function(a,b,c,d){for(let e=0,f=b.length;e!==f;++e){const g=b[e],h=c[g.id];!1!==h.needsUpdate&&g.setValue(a,h.value,d)}},WW.seqWithValue=function(a,b){const c=[];for(let d=0,e=a.length;d!==e;++d){const f=a[d];f.id in b&&c.push(f)}return c};let YW=0;function ZW(a){switch(a){case 3000:return["Linear","( value )"];case 3001:return["sRGB","( value )"];case 3002:return["RGBE","( value )"];case 3004:return["RGBM","( value, 7.0 )"];case 3005:return["RGBM","( value, 16.0 )"];case 3006:return["RGBD","( value, 256.0 )"];case 3007:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",a),["Linear","( value )"]}}function $W(a,b,c){const d=a.getShaderParameter(b,35713),e=a.getShaderInfoLog(b).trim();return d&&""===e?"":c.toUpperCase()+"\n\n"+e+"\n\n"+(function(a){const b=a.split("\n");for(let c=0;c<b.length;c++)b[c]=c+1+": "+b[c];return b.join("\n")})(a.getShaderSource(b))}function _W(a,b){const c=ZW(b);return"vec4 "+a+"( vec4 value ) { return "+c[0]+"ToLinear"+c[1]+"; }"}function aX(a){return""!==a}function bX(a,b){return a.replace(/NUM_DIR_LIGHTS/g,b.numDirLights).replace(/NUM_SPOT_LIGHTS/g,b.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,b.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,b.numPointLights).replace(/NUM_HEMI_LIGHTS/g,b.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,b.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,b.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,b.numPointLightShadows)}function cX(a,b){return a.replace(/NUM_CLIPPING_PLANES/g,b.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,b.numClippingPlanes-b.numClipIntersection)}const dX=/^[ \t]*#include +<([\w\d./]+)>/gm;function eX(a){return a.replace(dX,fX)}function fX(a,b){const c=$S[b];if(void 0===c)throw new Error("Can not resolve #include <"+b+">");return eX(c)}const gX=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,hX=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function iX(a){return a.replace(hX,kX).replace(gX,jX)}function jX(a,b,c,d){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),kX(a,b,c,d)}function kX(a,b,c,d){let e="";for(let f=parseInt(b);f<parseInt(c);f++)e+=d.replace(/\[\s*i\s*\]/g,"[ "+f+" ]").replace(/UNROLLED_LOOP_INDEX/g,f);return e}function lX(a){let b="precision "+a.precision+" float;\nprecision "+a.precision+" int;";return"highp"===a.precision?b+="\n#define HIGH_PRECISION":"mediump"===a.precision?b+="\n#define MEDIUM_PRECISION":"lowp"===a.precision&&(b+="\n#define LOW_PRECISION"),b}function mX(a,b,c,d){var e;const f=a.getContext(),g=c.defines;let h=c.vertexShader,i=c.fragmentShader,j;const k=(j="SHADOWMAP_TYPE_BASIC",1===(e=c).shadowMapType?j="SHADOWMAP_TYPE_PCF":2===e.shadowMapType?j="SHADOWMAP_TYPE_PCF_SOFT":3===e.shadowMapType&&(j="SHADOWMAP_TYPE_VSM"),j),l=function(a){let b="ENVMAP_TYPE_CUBE";if(a.envMap)switch(a.envMapMode){case 301:case 302:b="ENVMAP_TYPE_CUBE";break;case 306:case 307:b="ENVMAP_TYPE_CUBE_UV";break}return b}(c),m=function(a){let b="ENVMAP_MODE_REFLECTION";if(a.envMap)switch(a.envMapMode){case 302:case 307:b="ENVMAP_MODE_REFRACTION";break}return b}(c),n=function(a){let b="ENVMAP_BLENDING_NONE";if(a.envMap)switch(a.combine){case 0:b="ENVMAP_BLENDING_MULTIPLY";break;case 1:b="ENVMAP_BLENDING_MIX";break;case 2:b="ENVMAP_BLENDING_ADD";break}return b}(c),o=a.gammaFactor>0?a.gammaFactor:1,p=c.isWebGL2?"":function(a){const b=[a.extensionDerivatives||a.envMapCubeUV||a.bumpMap||a.tangentSpaceNormalMap||a.clearcoatNormalMap||a.flatShading||"physical"===a.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(a.extensionFragDepth||a.logarithmicDepthBuffer)&&a.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",a.extensionDrawBuffers&&a.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(a.extensionShaderTextureLOD||a.envMap||a.transmission)&&a.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""];return b.filter(aX).join("\n")}(c),q=function(a){const b=[];for(const c in a){const d=a[c];!1!==d&&b.push("#define "+c+" "+d)}return b.join("\n")}(g),r=f.createProgram();let s,t,u=c.glslVersion?"#version "+c.glslVersion+"\n":"";c.isRawShaderMaterial?((s=[q].filter(aX).join("\n")).length>0&&(s+="\n"),(t=[p,q].filter(aX).join("\n")).length>0&&(t+="\n")):(s=[lX(c),"#define SHADER_NAME "+c.shaderName,q,c.instancing?"#define USE_INSTANCING":"",c.instancingColor?"#define USE_INSTANCING_COLOR":"",c.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+o,"#define MAX_BONES "+c.maxBones,c.useFog&&c.fog?"#define USE_FOG":"",c.useFog&&c.fogExp2?"#define FOG_EXP2":"",c.map?"#define USE_MAP":"",c.envMap?"#define USE_ENVMAP":"",c.envMap?"#define "+m:"",c.lightMap?"#define USE_LIGHTMAP":"",c.aoMap?"#define USE_AOMAP":"",c.emissiveMap?"#define USE_EMISSIVEMAP":"",c.bumpMap?"#define USE_BUMPMAP":"",c.normalMap?"#define USE_NORMALMAP":"",c.normalMap&&c.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",c.normalMap&&c.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",c.clearcoatMap?"#define USE_CLEARCOATMAP":"",c.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",c.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",c.displacementMap&&c.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",c.specularMap?"#define USE_SPECULARMAP":"",c.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",c.specularColorMap?"#define USE_SPECULARCOLORMAP":"",c.roughnessMap?"#define USE_ROUGHNESSMAP":"",c.metalnessMap?"#define USE_METALNESSMAP":"",c.alphaMap?"#define USE_ALPHAMAP":"",c.transmission?"#define USE_TRANSMISSION":"",c.transmissionMap?"#define USE_TRANSMISSIONMAP":"",c.thicknessMap?"#define USE_THICKNESSMAP":"",c.sheenColorMap?"#define USE_SHEENCOLORMAP":"",c.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",c.vertexTangents?"#define USE_TANGENT":"",c.vertexColors?"#define USE_COLOR":"",c.vertexAlphas?"#define USE_COLOR_ALPHA":"",c.vertexUvs?"#define USE_UV":"",c.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",c.flatShading?"#define FLAT_SHADED":"",c.skinning?"#define USE_SKINNING":"",c.useVertexTexture?"#define BONE_TEXTURE":"",c.morphTargets?"#define USE_MORPHTARGETS":"",c.morphNormals&& !1===c.flatShading?"#define USE_MORPHNORMALS":"",c.morphTargets&&c.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",c.morphTargets&&c.isWebGL2?"#define MORPHTARGETS_COUNT "+c.morphTargetsCount:"",c.doubleSided?"#define DOUBLE_SIDED":"",c.flipSided?"#define FLIP_SIDED":"",c.shadowMapEnabled?"#define USE_SHADOWMAP":"",c.shadowMapEnabled?"#define "+k:"",c.sizeAttenuation?"#define USE_SIZEATTENUATION":"",c.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",c.logarithmicDepthBuffer&&c.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(aX).join("\n"),t=[p,lX(c),"#define SHADER_NAME "+c.shaderName,q,"#define GAMMA_FACTOR "+o,c.useFog&&c.fog?"#define USE_FOG":"",c.useFog&&c.fogExp2?"#define FOG_EXP2":"",c.map?"#define USE_MAP":"",c.matcap?"#define USE_MATCAP":"",c.envMap?"#define USE_ENVMAP":"",c.envMap?"#define "+l:"",c.envMap?"#define "+m:"",c.envMap?"#define "+n:"",c.lightMap?"#define USE_LIGHTMAP":"",c.aoMap?"#define USE_AOMAP":"",c.emissiveMap?"#define USE_EMISSIVEMAP":"",c.bumpMap?"#define USE_BUMPMAP":"",c.normalMap?"#define USE_NORMALMAP":"",c.normalMap&&c.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",c.normalMap&&c.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",c.clearcoat?"#define USE_CLEARCOAT":"",c.clearcoatMap?"#define USE_CLEARCOATMAP":"",c.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",c.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",c.specularMap?"#define USE_SPECULARMAP":"",c.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",c.specularColorMap?"#define USE_SPECULARCOLORMAP":"",c.roughnessMap?"#define USE_ROUGHNESSMAP":"",c.metalnessMap?"#define USE_METALNESSMAP":"",c.alphaMap?"#define USE_ALPHAMAP":"",c.alphaTest?"#define USE_ALPHATEST":"",c.sheen?"#define USE_SHEEN":"",c.sheenColorMap?"#define USE_SHEENCOLORMAP":"",c.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",c.transmission?"#define USE_TRANSMISSION":"",c.transmissionMap?"#define USE_TRANSMISSIONMAP":"",c.thicknessMap?"#define USE_THICKNESSMAP":"",c.vertexTangents?"#define USE_TANGENT":"",c.vertexColors||c.instancingColor?"#define USE_COLOR":"",c.vertexAlphas?"#define USE_COLOR_ALPHA":"",c.vertexUvs?"#define USE_UV":"",c.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",c.gradientMap?"#define USE_GRADIENTMAP":"",c.flatShading?"#define FLAT_SHADED":"",c.doubleSided?"#define DOUBLE_SIDED":"",c.flipSided?"#define FLIP_SIDED":"",c.shadowMapEnabled?"#define USE_SHADOWMAP":"",c.shadowMapEnabled?"#define "+k:"",c.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",c.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",c.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",c.logarithmicDepthBuffer&&c.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(c.extensionShaderTextureLOD||c.envMap)&&c.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==c.toneMapping?"#define TONE_MAPPING":"",0!==c.toneMapping?$S.tonemapping_pars_fragment:"",0!==c.toneMapping?function(a,b){let c;switch(b){case 1:c="Linear";break;case 2:c="Reinhard";break;case 3:c="OptimizedCineon";break;case 4:c="ACESFilmic";break;case 5:c="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",b),c="Linear"}return"vec3 "+a+"( vec3 color ) { return "+c+"ToneMapping( color ); }"}("toneMapping",c.toneMapping):"",c.dithering?"#define DITHERING":"",1022===c.format?"#define OPAQUE":"",$S.encodings_pars_fragment,c.map?_W("mapTexelToLinear",c.mapEncoding):"",c.matcap?_W("matcapTexelToLinear",c.matcapEncoding):"",c.envMap?_W("envMapTexelToLinear",c.envMapEncoding):"",c.emissiveMap?_W("emissiveMapTexelToLinear",c.emissiveMapEncoding):"",c.specularColorMap?_W("specularColorMapTexelToLinear",c.specularColorMapEncoding):"",c.sheenColorMap?_W("sheenColorMapTexelToLinear",c.sheenColorMapEncoding):"",c.lightMap?_W("lightMapTexelToLinear",c.lightMapEncoding):"",function(a,b){const c=ZW(b);return"vec4 "+a+"( vec4 value ) { return LinearTo"+c[0]+c[1]+"; }"}("linearToOutputTexel",c.outputEncoding),c.depthPacking?"#define DEPTH_PACKING "+c.depthPacking:"","\n"].filter(aX).join("\n")),h=cX(h=bX(h=eX(h),c),c),i=eX(i),i=bX(i,c),i=cX(i,c),h=iX(h),i=iX(i),c.isWebGL2&& !0!==c.isRawShaderMaterial&&(u="#version 300 es\n",s="precision mediump sampler2DArray;\n#define attribute in\n#define varying out\n#define texture2D texture\n"+s,t=["#define varying in",c.glslVersion===Ag?"":"out highp vec4 pc_fragColor;",c.glslVersion===Ag?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+t);const v=XW(f,35633,u+s+h),w=XW(f,35632,u+t+i);if(f.attachShader(r,v),f.attachShader(r,w),void 0!==c.index0AttributeName?f.bindAttribLocation(r,0,c.index0AttributeName):!0===c.morphTargets&&f.bindAttribLocation(r,0,"position"),f.linkProgram(r),a.debug.checkShaderErrors){const x=f.getProgramInfoLog(r).trim(),y=f.getShaderInfoLog(v).trim(),z=f.getShaderInfoLog(w).trim();let A=!0,B=!0;if(!1===f.getProgramParameter(r,35714)){A=!1;const C=$W(f,v,"vertex"),D=$W(f,w,"fragment");console.error("THREE.WebGLProgram: Shader Error "+f.getError()+" - VALIDATE_STATUS "+f.getProgramParameter(r,35715)+"\n\nProgram Info Log: "+x+"\n"+C+"\n"+D)}else""!==x?console.warn("THREE.WebGLProgram: Program Info Log:",x):(""===y||""===z)&&(B=!1);B&&(this.diagnostics={runnable:A,programLog:x,vertexShader:{log:y,prefix:s},fragmentShader:{log:z,prefix:t}})}f.deleteShader(v),f.deleteShader(w);let E;this.getUniforms=function(){return void 0===E&&(E=new WW(f,r)),E};let F;return this.getAttributes=function(){return void 0===F&&(F=(function(a,b){const c={},d=a.getProgramParameter(b,35721);for(let e=0;e<d;e++){const f=a.getActiveAttrib(b,e),g=f.name;let h=1;35674===f.type&&(h=2),35675===f.type&&(h=3),35676===f.type&&(h=4),c[g]={type:f.type,location:a.getAttribLocation(b,g),locationSize:h}}return c})(f,r)),F},this.destroy=function(){d.releaseStatesOfProgram(this),f.deleteProgram(r),this.program=void 0},this.name=c.shaderName,this.id=YW++,this.cacheKey=b,this.usedTimes=1,this.program=r,this.vertexShader=v,this.fragmentShader=w,this}function nX(a,b,c,d,e,f,g){const h=[],i=e.isWebGL2,j=e.logarithmicDepthBuffer,k=e.floatVertexTextures,l=e.maxVertexUniforms,m=e.vertexTextures;let n=e.precision;const o={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},p=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","instancingColor","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoat","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap",,"roughnessMap","metalnessMap","gradientMap","alphaMap","alphaTest","combine","vertexColors","vertexAlphas","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","morphTargetsCount","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","format","specularIntensityMap","specularColorMap","specularColorMapEncoding","transmission","transmissionMap","thicknessMap","sheen","sheenColorMap","sheenColorMapEncoding","sheenRoughnessMap"];function q(a){let b;return a&&a.isTexture?b=a.encoding:a&&a.isWebGLRenderTarget?(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),b=a.texture.encoding):b=3000,b}return{getParameters:function(f,h,p,r,s){const t=r.fog,u=f.isMeshStandardMaterial?r.environment:null,v=(f.isMeshStandardMaterial?c:b).get(f.envMap||u),w=o[f.type],x=s.isSkinnedMesh?function(a){const b=a.skeleton,c=b.bones;if(k)return 1024;{const d=l,e=Math.floor((d-20)/4),f=Math.min(e,c.length);return f<c.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+c.length+" bones. This GPU supports "+f+"."),0):f}}(s):0;null!==f.precision&&(n=e.getMaxPrecision(f.precision))!==f.precision&&console.warn("THREE.WebGLProgram.getParameters:",f.precision,"not supported, using",n,"instead.");let y,z;if(w){const A=aT[w];y=A.vertexShader,z=A.fragmentShader}else y=f.vertexShader,z=f.fragmentShader;const B=a.getRenderTarget(),C=f.alphaTest>0,D=f.clearcoat>0,E={isWebGL2:i,shaderID:w,shaderName:f.type,vertexShader:y,fragmentShader:z,defines:f.defines,isRawShaderMaterial:!0===f.isRawShaderMaterial,glslVersion:f.glslVersion,precision:n,instancing:!0===s.isInstancedMesh,instancingColor:!0===s.isInstancedMesh&&null!==s.instanceColor,supportsVertexTextures:m,outputEncoding:null!==B?q(B.texture):a.outputEncoding,map:!!f.map,mapEncoding:q(f.map),matcap:!!f.matcap,matcapEncoding:q(f.matcap),envMap:!!v,envMapMode:v&&v.mapping,envMapEncoding:q(v),envMapCubeUV:!!v&&(306===v.mapping||307===v.mapping),lightMap:!!f.lightMap,lightMapEncoding:q(f.lightMap),aoMap:!!f.aoMap,emissiveMap:!!f.emissiveMap,emissiveMapEncoding:q(f.emissiveMap),bumpMap:!!f.bumpMap,normalMap:!!f.normalMap,objectSpaceNormalMap:1===f.normalMapType,tangentSpaceNormalMap:0===f.normalMapType,clearcoat:D,clearcoatMap:D&&!!f.clearcoatMap,clearcoatRoughnessMap:D&&!!f.clearcoatRoughnessMap,clearcoatNormalMap:D&&!!f.clearcoatNormalMap,displacementMap:!!f.displacementMap,roughnessMap:!!f.roughnessMap,metalnessMap:!!f.metalnessMap,specularMap:!!f.specularMap,specularIntensityMap:!!f.specularIntensityMap,specularColorMap:!!f.specularColorMap,specularColorMapEncoding:q(f.specularColorMap),alphaMap:!!f.alphaMap,alphaTest:C,gradientMap:!!f.gradientMap,sheen:f.sheen>0,sheenColorMap:!!f.sheenColorMap,sheenColorMapEncoding:q(f.sheenColorMap),sheenRoughnessMap:!!f.sheenRoughnessMap,transmission:f.transmission>0,transmissionMap:!!f.transmissionMap,thicknessMap:!!f.thicknessMap,combine:f.combine,vertexTangents:!!f.normalMap&&!!s.geometry&&!!s.geometry.attributes.tangent,vertexColors:f.vertexColors,vertexAlphas:!0===f.vertexColors&&!!s.geometry&&!!s.geometry.attributes.color&&4===s.geometry.attributes.color.itemSize,vertexUvs:!!f.map||!!f.bumpMap||!!f.normalMap||!!f.specularMap||!!f.alphaMap||!!f.emissiveMap||!!f.roughnessMap||!!f.metalnessMap||!!f.clearcoatMap||!!f.clearcoatRoughnessMap||!!f.clearcoatNormalMap||!!f.displacementMap||!!f.transmissionMap||!!f.thicknessMap||!!f.specularIntensityMap||!!f.specularColorMap||!!f.sheenColorMap||f.sheenRoughnessMap,uvsVertexOnly:!(f.map||f.bumpMap||f.normalMap||f.specularMap||f.alphaMap||f.emissiveMap||f.roughnessMap||f.metalnessMap||f.clearcoatNormalMap||f.transmission>0||f.transmissionMap||f.thicknessMap||f.specularIntensityMap||f.specularColorMap||f.sheen>0||f.sheenColorMap||f.sheenRoughnessMap)&&!!f.displacementMap,fog:!!t,useFog:f.fog,fogExp2:t&&t.isFogExp2,flatShading:!!f.flatShading,sizeAttenuation:f.sizeAttenuation,logarithmicDepthBuffer:j,skinning:!0===s.isSkinnedMesh&&x>0,maxBones:x,useVertexTexture:k,morphTargets:!!s.geometry&&!!s.geometry.morphAttributes.position,morphNormals:!!s.geometry&&!!s.geometry.morphAttributes.normal,morphTargetsCount:s.geometry&&s.geometry.morphAttributes.position?s.geometry.morphAttributes.position.length:0,numDirLights:h.directional.length,numPointLights:h.point.length,numSpotLights:h.spot.length,numRectAreaLights:h.rectArea.length,numHemiLights:h.hemi.length,numDirLightShadows:h.directionalShadowMap.length,numPointLightShadows:h.pointShadowMap.length,numSpotLightShadows:h.spotShadowMap.length,numClippingPlanes:g.numPlanes,numClipIntersection:g.numIntersection,format:f.format,dithering:f.dithering,shadowMapEnabled:a.shadowMap.enabled&&p.length>0,shadowMapType:a.shadowMap.type,toneMapping:f.toneMapped?a.toneMapping:0,physicallyCorrectLights:a.physicallyCorrectLights,premultipliedAlpha:f.premultipliedAlpha,doubleSided:2===f.side,flipSided:f.side===zg,depthPacking:void 0!==f.depthPacking&&f.depthPacking,index0AttributeName:f.index0AttributeName,extensionDerivatives:f.extensions&&f.extensions.derivatives,extensionFragDepth:f.extensions&&f.extensions.fragDepth,extensionDrawBuffers:f.extensions&&f.extensions.drawBuffers,extensionShaderTextureLOD:f.extensions&&f.extensions.shaderTextureLOD,rendererExtensionFragDepth:i||d.has("EXT_frag_depth"),rendererExtensionDrawBuffers:i||d.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:i||d.has("EXT_shader_texture_lod"),customProgramCacheKey:f.customProgramCacheKey()};return E},getProgramCacheKey:function(b){const c=[];if(b.shaderID?c.push(b.shaderID):(c.push(Ak(b.fragmentShader)),c.push(Ak(b.vertexShader))),void 0!==b.defines)for(const d in b.defines)c.push(d),c.push(b.defines[d]);if(!1===b.isRawShaderMaterial){for(let e=0;e<p.length;e++)c.push(b[p[e]]);c.push(a.outputEncoding),c.push(a.gammaFactor)}return c.push(b.customProgramCacheKey),c.join()},getUniforms:function(a){const b=o[a.type];let c;if(b){const d=aT[b];c=SO.clone(d.uniforms)}else c=a.uniforms;return c},acquireProgram:function(b,c){let d;for(let e=0,g=h.length;e<g;e++){const i=h[e];if(i.cacheKey===c){d=i,++d.usedTimes;break}}return void 0===d&&(d=new mX(a,c,b,f),h.push(d)),d},releaseProgram:function(a){if(0== --a.usedTimes){const b=h.indexOf(a);h[b]=h[h.length-1],h.pop(),a.destroy()}},programs:h}}function oX(){let a=new WeakMap();return{get:function(b){let c=a.get(b);return void 0===c&&(c={},a.set(b,c)),c},remove:function(b){a.delete(b)},update:function(b,c,d){a.get(b)[c]=d},dispose:function(){a=new WeakMap()}}}function pX(a,b){return a.groupOrder!==b.groupOrder?a.groupOrder-b.groupOrder:a.renderOrder!==b.renderOrder?a.renderOrder-b.renderOrder:a.program!==b.program?a.program.id-b.program.id:a.material.id!==b.material.id?a.material.id-b.material.id:a.z!==b.z?a.z-b.z:a.id-b.id}function qX(a,b){return a.groupOrder!==b.groupOrder?a.groupOrder-b.groupOrder:a.renderOrder!==b.renderOrder?a.renderOrder-b.renderOrder:a.z!==b.z?b.z-a.z:a.id-b.id}function rX(a){const b=[];let c=0;const d=[],e=[],f=[],g={id:-1};function h(d,e,f,h,i,j){let k=b[c];const l=a.get(f);return void 0===k?(k={id:d.id,object:d,geometry:e,material:f,program:l.program||g,groupOrder:h,renderOrder:d.renderOrder,z:i,group:j},b[c]=k):(k.id=d.id,k.object=d,k.geometry=e,k.material=f,k.program=l.program||g,k.groupOrder=h,k.renderOrder=d.renderOrder,k.z=i,k.group=j),c++,k}return{opaque:d,transmissive:e,transparent:f,init:function(){c=0,d.length=0,e.length=0,f.length=0},push:function(a,b,c,g,i,j){const k=h(a,b,c,g,i,j);c.transmission>0?e.push(k):!0===c.transparent?f.push(k):d.push(k)},unshift:function(a,b,c,g,i,j){const k=h(a,b,c,g,i,j);c.transmission>0?e.unshift(k):!0===c.transparent?f.unshift(k):d.unshift(k)},finish:function(){for(let a=c,d=b.length;a<d;a++){const e=b[a];if(null===e.id)break;e.id=null,e.object=null,e.geometry=null,e.material=null,e.program=null,e.group=null}},sort:function(a,b){d.length>1&&d.sort(a||pX),e.length>1&&e.sort(b||qX),f.length>1&&f.sort(b||qX)}}}function sX(a){let b=new WeakMap();return{get:function(c,d){let e;return!1===b.has(c)?(e=new rX(a),b.set(c,[e])):d>=b.get(c).length?(e=new rX(a),b.get(c).push(e)):e=b.get(c)[d],e},dispose:function(){b=new WeakMap()}}}function tX(){const a={};return{get:function(b){if(void 0!==a[b.id])return a[b.id];let c;switch(b.type){case"DirectionalLight":c={direction:new Sp(),color:new pG()};break;case"SpotLight":c={position:new Sp(),direction:new Sp(),color:new pG(),distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":c={position:new Sp(),color:new pG(),distance:0,decay:0};break;case"HemisphereLight":c={direction:new Sp(),skyColor:new pG(),groundColor:new pG()};break;case"RectAreaLight":c={color:new pG(),position:new Sp(),halfWidth:new Sp(),halfHeight:new Sp()};break}return a[b.id]=c,c}}}let uX=0;function vX(a,b){return(b.castShadow?1:0)-(a.castShadow?1:0)}function wX(a,b){const c=new tX(),d=function(){const a={};return{get:function(b){if(void 0!==a[b.id])return a[b.id];let c;switch(b.type){case"DirectionalLight":c={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new eh()};break;case"SpotLight":c={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new eh()};break;case"PointLight":c={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new eh(),shadowCameraNear:1,shadowCameraFar:1000};break}return a[b.id]=c,c}}}(),e={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let f=0;f<9;f++)e.probe.push(new Sp());const g=new Sp(),h=new dw(),i=new dw();return{setup:function(f,g){let h=0,i=0,j=0;for(let k=0;k<9;k++)e.probe[k].set(0,0,0);let l=0,m=0,n=0,o=0,p=0,q=0,r=0,s=0;f.sort(vX);const t=!0!==g?Math.PI:1;for(let u=0,v=f.length;u<v;u++){const w=f[u],x=w.color,y=w.intensity,z=w.distance,A=w.shadow&&w.shadow.map?w.shadow.map.texture:null;if(w.isAmbientLight)h+=x.r*y*t,i+=x.g*y*t,j+=x.b*y*t;else if(w.isLightProbe)for(let B=0;B<9;B++)e.probe[B].addScaledVector(w.sh.coefficients[B],y);else if(w.isDirectionalLight){const C=c.get(w);if(C.color.copy(w.color).multiplyScalar(w.intensity*t),w.castShadow){const D=w.shadow,E=d.get(w);E.shadowBias=D.bias,E.shadowNormalBias=D.normalBias,E.shadowRadius=D.radius,E.shadowMapSize=D.mapSize,e.directionalShadow[l]=E,e.directionalShadowMap[l]=A,e.directionalShadowMatrix[l]=w.shadow.matrix,q++}e.directional[l]=C,l++}else if(w.isSpotLight){const F=c.get(w);if(F.position.setFromMatrixPosition(w.matrixWorld),F.color.copy(x).multiplyScalar(y*t),F.distance=z,F.coneCos=Math.cos(w.angle),F.penumbraCos=Math.cos(w.angle*(1-w.penumbra)),F.decay=w.decay,w.castShadow){const G=w.shadow,H=d.get(w);H.shadowBias=G.bias,H.shadowNormalBias=G.normalBias,H.shadowRadius=G.radius,H.shadowMapSize=G.mapSize,e.spotShadow[n]=H,e.spotShadowMap[n]=A,e.spotShadowMatrix[n]=w.shadow.matrix,s++}e.spot[n]=F,n++}else if(w.isRectAreaLight){const I=c.get(w);I.color.copy(x).multiplyScalar(y),I.halfWidth.set(0.5*w.width,0,0),I.halfHeight.set(0,0.5*w.height,0),e.rectArea[o]=I,o++}else if(w.isPointLight){const J=c.get(w);if(J.color.copy(w.color).multiplyScalar(w.intensity*t),J.distance=w.distance,J.decay=w.decay,w.castShadow){const K=w.shadow,L=d.get(w);L.shadowBias=K.bias,L.shadowNormalBias=K.normalBias,L.shadowRadius=K.radius,L.shadowMapSize=K.mapSize,L.shadowCameraNear=K.camera.near,L.shadowCameraFar=K.camera.far,e.pointShadow[m]=L,e.pointShadowMap[m]=A,e.pointShadowMatrix[m]=w.shadow.matrix,r++}e.point[m]=J,m++}else if(w.isHemisphereLight){const M=c.get(w);M.skyColor.copy(w.color).multiplyScalar(y*t),M.groundColor.copy(w.groundColor).multiplyScalar(y*t),e.hemi[p]=M,p++}}o>0&&(b.isWebGL2?(e.rectAreaLTC1=_S.LTC_FLOAT_1,e.rectAreaLTC2=_S.LTC_FLOAT_2):!0===a.has("OES_texture_float_linear")?(e.rectAreaLTC1=_S.LTC_FLOAT_1,e.rectAreaLTC2=_S.LTC_FLOAT_2):!0===a.has("OES_texture_half_float_linear")?(e.rectAreaLTC1=_S.LTC_HALF_1,e.rectAreaLTC2=_S.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),e.ambient[0]=h,e.ambient[1]=i,e.ambient[2]=j;const N=e.hash;(N.directionalLength!==l||N.pointLength!==m||N.spotLength!==n||N.rectAreaLength!==o||N.hemiLength!==p||N.numDirectionalShadows!==q||N.numPointShadows!==r||N.numSpotShadows!==s)&&(e.directional.length=l,e.spot.length=n,e.rectArea.length=o,e.point.length=m,e.hemi.length=p,e.directionalShadow.length=q,e.directionalShadowMap.length=q,e.pointShadow.length=r,e.pointShadowMap.length=r,e.spotShadow.length=s,e.spotShadowMap.length=s,e.directionalShadowMatrix.length=q,e.pointShadowMatrix.length=r,e.spotShadowMatrix.length=s,N.directionalLength=l,N.pointLength=m,N.spotLength=n,N.rectAreaLength=o,N.hemiLength=p,N.numDirectionalShadows=q,N.numPointShadows=r,N.numSpotShadows=s,e.version=uX++)},setupView:function(a,b){let c=0,d=0,f=0,j=0,k=0;const l=b.matrixWorldInverse;for(let m=0,n=a.length;m<n;m++){const o=a[m];if(o.isDirectionalLight){const p=e.directional[c];p.direction.setFromMatrixPosition(o.matrixWorld),g.setFromMatrixPosition(o.target.matrixWorld),p.direction.sub(g),p.direction.transformDirection(l),c++}else if(o.isSpotLight){const q=e.spot[f];q.position.setFromMatrixPosition(o.matrixWorld),q.position.applyMatrix4(l),q.direction.setFromMatrixPosition(o.matrixWorld),g.setFromMatrixPosition(o.target.matrixWorld),q.direction.sub(g),q.direction.transformDirection(l),f++}else if(o.isRectAreaLight){const r=e.rectArea[j];r.position.setFromMatrixPosition(o.matrixWorld),r.position.applyMatrix4(l),i.identity(),h.copy(o.matrixWorld),h.premultiply(l),i.extractRotation(h),r.halfWidth.set(0.5*o.width,0,0),r.halfHeight.set(0,0.5*o.height,0),r.halfWidth.applyMatrix4(i),r.halfHeight.applyMatrix4(i),j++}else if(o.isPointLight){const s=e.point[d];s.position.setFromMatrixPosition(o.matrixWorld),s.position.applyMatrix4(l),d++}else if(o.isHemisphereLight){const t=e.hemi[k];t.direction.setFromMatrixPosition(o.matrixWorld),t.direction.transformDirection(l),t.direction.normalize(),k++}}},state:e}}function xX(a,b){const c=new wX(a,b),d=[],e=[];return{init:function(){d.length=0,e.length=0},state:{lightsArray:d,shadowsArray:e,lights:c},setupLights:function(a){c.setup(d,a)},setupLightsView:function(a){c.setupView(d,a)},pushLight:function(a){d.push(a)},pushShadow:function(a){e.push(a)}}}function yX(a,b){let c=new WeakMap();return{get:function(d,e=0){let f;return!1===c.has(d)?(f=new xX(a,b),c.set(d,[f])):e>=c.get(d).length?(f=new xX(a,b),c.get(d).push(f)):f=c.get(d)[e],f},dispose:function(){c=new WeakMap()}}}class zX extends TF{constructor(AX){super(),this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(AX)}copy(BX){return super.copy(BX),this.depthPacking=BX.depthPacking,this.map=BX.map,this.alphaMap=BX.alphaMap,this.displacementMap=BX.displacementMap,this.displacementScale=BX.displacementScale,this.displacementBias=BX.displacementBias,this.wireframe=BX.wireframe,this.wireframeLinewidth=BX.wireframeLinewidth,this}}zX.prototype.isMeshDepthMaterial=!0;class CX extends TF{constructor(DX){super(),this.type="MeshDistanceMaterial",this.referencePosition=new Sp(),this.nearDistance=1,this.farDistance=1000,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(DX)}copy(EX){return super.copy(EX),this.referencePosition.copy(EX.referencePosition),this.nearDistance=EX.nearDistance,this.farDistance=EX.farDistance,this.map=EX.map,this.alphaMap=EX.alphaMap,this.displacementMap=EX.displacementMap,this.displacementScale=EX.displacementScale,this.displacementBias=EX.displacementBias,this}}function FX(a,b,c){let d=new yR();const e=new eh(),f=new eh(),g=new bl(),h=new zX({depthPacking:3201}),i=new CX(),j={},k=c.maxTextureSize,l={0:zg,1:0,2:2},m=new TO({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new eh()},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),n=m.clone();n.defines.HORIZONTAL_PASS=1;const o=new IJ();o.setAttribute("position",new PH(new Float32Array([-1,-1,0.5,3,-1,0.5,-1,3,0.5]),3));const p=new rN(o,m),q=this;function r(c,d){const e=b.update(p);m.defines.VSM_SAMPLES!==c.blurSamples&&(m.defines.VSM_SAMPLES=c.blurSamples,n.defines.VSM_SAMPLES=c.blurSamples,m.needsUpdate=!0,n.needsUpdate=!0),m.uniforms.shadow_pass.value=c.map.texture,m.uniforms.resolution.value=c.mapSize,m.uniforms.radius.value=c.radius,a.setRenderTarget(c.mapPass),a.clear(),a.renderBufferDirect(d,null,e,m,p,null),n.uniforms.shadow_pass.value=c.mapPass.texture,n.uniforms.resolution.value=c.mapSize,n.uniforms.radius.value=c.radius,a.setRenderTarget(c.map),a.clear(),a.renderBufferDirect(d,null,e,n,p,null)}function s(b,c,d,e,f,g,k){let m=null;const n=!0===e.isPointLight?b.customDistanceMaterial:b.customDepthMaterial;if(m=void 0!==n?n:!0===e.isPointLight?i:h,a.localClippingEnabled&& !0===d.clipShadows&&0!==d.clippingPlanes.length||d.displacementMap&&0!==d.displacementScale||d.alphaMap&&d.alphaTest>0){const o=m.uuid,p=d.uuid;let q=j[o];void 0===q&&(q={},j[o]=q);let r=q[p];void 0===r&&(r=m.clone(),q[p]=r),m=r}return m.visible=d.visible,m.wireframe=d.wireframe,3===k?m.side=null!==d.shadowSide?d.shadowSide:d.side:m.side=null!==d.shadowSide?d.shadowSide:l[d.side],m.alphaMap=d.alphaMap,m.alphaTest=d.alphaTest,m.clipShadows=d.clipShadows,m.clippingPlanes=d.clippingPlanes,m.clipIntersection=d.clipIntersection,m.displacementMap=d.displacementMap,m.displacementScale=d.displacementScale,m.displacementBias=d.displacementBias,m.wireframeLinewidth=d.wireframeLinewidth,m.linewidth=d.linewidth,!0===e.isPointLight&& !0===m.isMeshDistanceMaterial&&(m.referencePosition.setFromMatrixPosition(e.matrixWorld),m.nearDistance=f,m.farDistance=g),m}function t(c,e,f,g,h){if(!1!==c.visible){const i=c.layers.test(e.layers);if(i&&(c.isMesh||c.isLine||c.isPoints)&&(c.castShadow||c.receiveShadow&&3===h)&&(!c.frustumCulled||d.intersectsObject(c))){c.modelViewMatrix.multiplyMatrices(f.matrixWorldInverse,c.matrixWorld);const j=b.update(c),k=c.material;if(Array.isArray(k)){const l=j.groups;for(let m=0,n=l.length;m<n;m++){const o=l[m],p=k[o.materialIndex];if(p&&p.visible){const q=s(c,j,p,g,f.near,f.far,h);a.renderBufferDirect(f,null,j,q,c,o)}}}else if(k.visible){const r=s(c,j,k,g,f.near,f.far,h);a.renderBufferDirect(f,null,j,r,c,null)}}const u=c.children;for(let v=0,w=u.length;v<w;v++)t(u[v],e,f,g,h)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.render=function(b,c,h){if(!1!==q.enabled&&(!1!==q.autoUpdate|| !1!==q.needsUpdate)&&0!==b.length){const i=a.getRenderTarget(),j=a.getActiveCubeFace(),l=a.getActiveMipmapLevel(),m=a.state;m.setBlending(0),m.buffers.color.setClear(1,1,1,1),m.buffers.depth.setTest(!0),m.setScissorTest(!1);for(let n=0,o=b.length;n<o;n++){const p=b[n],s=p.shadow;if(void 0===s){console.warn("THREE.WebGLShadowMap:",p,"has no shadow.");continue}if(!1!==s.autoUpdate|| !1!==s.needsUpdate){e.copy(s.mapSize);const u=s.getFrameExtents();if(e.multiply(u),f.copy(s.mapSize),(e.x>k||e.y>k)&&(e.x>k&&(f.x=Math.floor(k/u.x),e.x=f.x*u.x,s.mapSize.x=f.x),e.y>k&&(f.y=Math.floor(k/u.y),e.y=f.y*u.y,s.mapSize.y=f.y)),null===s.map&&!s.isPointLightShadow&&3===this.type){const v={minFilter:1006,magFilter:1006,format:1023};s.map=new Km(e.x,e.y,v),s.map.texture.name=p.name+".shadowMap",s.mapPass=new Km(e.x,e.y,v),s.camera.updateProjectionMatrix()}if(null===s.map){const w={minFilter:1003,magFilter:1003,format:1023};s.map=new Km(e.x,e.y,w),s.map.texture.name=p.name+".shadowMap",s.camera.updateProjectionMatrix()}a.setRenderTarget(s.map),a.clear();const x=s.getViewportCount();for(let y=0;y<x;y++){const z=s.getViewport(y);g.set(f.x*z.x,f.y*z.y,f.x*z.z,f.y*z.w),m.viewport(g),s.updateMatrices(p,y),d=s.getFrustum(),t(c,h,s.camera,p,this.type)}s.isPointLightShadow||3!==this.type||r(s,h),s.needsUpdate=!1}}q.needsUpdate=!1,a.setRenderTarget(i,j,l)}}}function GX(a,b,c){const d=c.isWebGL2,e=new function(){let b=!1;const c=new bl();let d=null;const e=new bl(0,0,0,0);return{setMask:function(c){d===c||b||(a.colorMask(c,c,c,c),d=c)},setLocked:function(a){b=a},setClear:function(b,d,f,g,h){!0===h&&(b*=g,d*=g,f*=g),c.set(b,d,f,g),!1===e.equals(c)&&(a.clearColor(b,d,f,g),e.copy(c))},reset:function(){b=!1,d=null,e.set(-1,0,0,0)}}}(),f=new function(){let b=!1,c=null,d=null,e=null;return{setTest:function(a){a?J(2929):K(2929)},setMask:function(d){c===d||b||(a.depthMask(d),c=d)},setFunc:function(b){if(d!==b){if(b)switch(b){case 0:a.depthFunc(512);break;case 1:a.depthFunc(519);break;case 2:a.depthFunc(513);break;case 3:a.depthFunc(515);break;case 4:a.depthFunc(514);break;case 5:a.depthFunc(518);break;case 6:a.depthFunc(516);break;case 7:a.depthFunc(517);break;default:a.depthFunc(515)}else a.depthFunc(515);d=b}},setLocked:function(a){b=a},setClear:function(b){e!==b&&(a.clearDepth(b),e=b)},reset:function(){b=!1,c=null,d=null,e=null}}}(),g=new function(){let b=!1,c=null,d=null,e=null,f=null,g=null,h=null,i=null,j=null;return{setTest:function(a){b||(a?J(2960):K(2960))},setMask:function(d){c===d||b||(a.stencilMask(d),c=d)},setFunc:function(b,c,g){(d!==b||e!==c||f!==g)&&(a.stencilFunc(b,c,g),d=b,e=c,f=g)},setOp:function(b,c,d){(g!==b||h!==c||i!==d)&&(a.stencilOp(b,c,d),g=b,h=c,i=d)},setLocked:function(a){b=a},setClear:function(b){j!==b&&(a.clearStencil(b),j=b)},reset:function(){b=!1,c=null,d=null,e=null,f=null,g=null,h=null,i=null,j=null}}}();let h={},i={},j=null,k=!1,l=null,m=null,n=null,o=null,p=null,q=null,r=null,s=!1,t=null,u=null,v=null,w=null,x=null;const y=a.getParameter(35661);let z=!1;const A=a.getParameter(7938);-1!==A.indexOf("WebGL")?z=parseFloat(/^WebGL (\d)/.exec(A)[1])>=1:-1!==A.indexOf("OpenGL ES")&&(z=parseFloat(/^OpenGL ES (\d)/.exec(A)[1])>=2);let B=null,C={};const D=a.getParameter(3088),E=a.getParameter(2978),F=new bl().fromArray(D),G=new bl().fromArray(E);function H(b,c,d){const e=new Uint8Array(4),f=a.createTexture();a.bindTexture(b,f),a.texParameteri(b,10241,9728),a.texParameteri(b,10240,9728);for(let g=0;g<d;g++)a.texImage2D(c+g,0,6408,1,1,0,6408,5121,e);return f}const I={};function J(b){!0!==h[b]&&(a.enable(b),h[b]=!0)}function K(b){!1!==h[b]&&(a.disable(b),h[b]=!1)}I[3553]=H(3553,3553,1),I[34067]=H(34067,34069,6),e.setClear(0,0,0,1),f.setClear(1),g.setClear(0),J(2929),f.setFunc(3),P(!1),Q(1),J(2884),O(0);const L={[100]:32774,[101]:32778,[102]:32779};if(d)L[103]=32775,L[104]=32776;else{const M=b.get("EXT_blend_minmax");null!==M&&(L[103]=M.MIN_EXT,L[104]=M.MAX_EXT)}const N={[200]:0,[201]:1,[202]:768,[204]:770,[210]:776,[208]:774,[206]:772,[203]:769,[205]:771,[209]:775,[207]:773};function O(b,c,d,e,f,g,h,i){if(0===b){!0===k&&(K(3042),k=!1);return}if(!1===k&&(J(3042),k=!0),5!==b){if(b!==l||i!==s){if((100!==m||100!==p)&&(a.blendEquation(32774),m=100,p=100),i)switch(b){case 1:a.blendFuncSeparate(1,771,1,771);break;case 2:a.blendFunc(1,1);break;case 3:a.blendFuncSeparate(0,0,769,771);break;case 4:a.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",b);break}else switch(b){case 1:a.blendFuncSeparate(770,771,1,771);break;case 2:a.blendFunc(770,1);break;case 3:a.blendFunc(0,769);break;case 4:a.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",b);break}n=null,o=null,q=null,r=null,l=b,s=i}return}f=f||c,g=g||d,h=h||e,(c!==m||f!==p)&&(a.blendEquationSeparate(L[c],L[f]),m=c,p=f),(d!==n||e!==o||g!==q||h!==r)&&(a.blendFuncSeparate(N[d],N[e],N[g],N[h]),n=d,o=e,q=g,r=h),l=b,s=null}function P(b){t!==b&&(b?a.frontFace(2304):a.frontFace(2305),t=b)}function Q(b){0!==b?(J(2884),b!==u&&(1===b?a.cullFace(1029):2===b?a.cullFace(1028):a.cullFace(1032))):K(2884),u=b}function R(b,c,d){b?(J(32823),(w!==c||x!==d)&&(a.polygonOffset(c,d),w=c,x=d)):K(32823)}function S(b){void 0===b&&(b=33984+y-1),B!==b&&(a.activeTexture(b),B=b)}return{buffers:{color:e,depth:f,stencil:g},enable:J,disable:K,bindFramebuffer:function(b,c){return i[b]!==c&&(a.bindFramebuffer(b,c),i[b]=c,d&&(36009===b&&(i[36160]=c),36160===b&&(i[36009]=c)),!0)},useProgram:function(b){return j!==b&&(a.useProgram(b),j=b,!0)},setBlending:O,setMaterial:function(a,b){2===a.side?K(2884):J(2884);let c=a.side===zg;b&&(c=!c),P(c),1===a.blending&& !1===a.transparent?O(0):O(a.blending,a.blendEquation,a.blendSrc,a.blendDst,a.blendEquationAlpha,a.blendSrcAlpha,a.blendDstAlpha,a.premultipliedAlpha),f.setFunc(a.depthFunc),f.setTest(a.depthTest),f.setMask(a.depthWrite),e.setMask(a.colorWrite);const d=a.stencilWrite;g.setTest(d),d&&(g.setMask(a.stencilWriteMask),g.setFunc(a.stencilFunc,a.stencilRef,a.stencilFuncMask),g.setOp(a.stencilFail,a.stencilZFail,a.stencilZPass)),R(a.polygonOffset,a.polygonOffsetFactor,a.polygonOffsetUnits),!0===a.alphaToCoverage?J(32926):K(32926)},setFlipSided:P,setCullFace:Q,setLineWidth:function(b){b!==v&&(z&&a.lineWidth(b),v=b)},setPolygonOffset:R,setScissorTest:function(a){a?J(3089):K(3089)},activeTexture:S,bindTexture:function(b,c){null===B&&S();let d=C[B];void 0===d&&(d={type:void 0,texture:void 0},C[B]=d),(d.type!==b||d.texture!==c)&&(a.bindTexture(b,c||I[b]),d.type=b,d.texture=c)},unbindTexture:function(){const b=C[B];void 0!==b&& void 0!==b.type&&(a.bindTexture(b.type,null),b.type=void 0,b.texture=void 0)},compressedTexImage2D:function(){try{a.compressedTexImage2D.apply(a,arguments)}catch(b){console.error("THREE.WebGLState:",b)}},texImage2D:function(){try{a.texImage2D.apply(a,arguments)}catch(b){console.error("THREE.WebGLState:",b)}},texImage3D:function(){try{a.texImage3D.apply(a,arguments)}catch(b){console.error("THREE.WebGLState:",b)}},texStorage2D:function(){try{a.texStorage2D.apply(a,arguments)}catch(b){console.error("THREE.WebGLState:",b)}},texSubImage2D:function(){try{a.texSubImage2D.apply(a,arguments)}catch(b){console.error("THREE.WebGLState:",b)}},scissor:function(b){!1===F.equals(b)&&(a.scissor(b.x,b.y,b.z,b.w),F.copy(b))},viewport:function(b){!1===G.equals(b)&&(a.viewport(b.x,b.y,b.z,b.w),G.copy(b))},reset:function(){a.disable(3042),a.disable(2884),a.disable(2929),a.disable(32823),a.disable(3089),a.disable(2960),a.disable(32926),a.blendEquation(32774),a.blendFunc(1,0),a.blendFuncSeparate(1,0,1,0),a.colorMask(!0,!0,!0,!0),a.clearColor(0,0,0,0),a.depthMask(!0),a.depthFunc(513),a.clearDepth(1),a.stencilMask(4294967295),a.stencilFunc(519,0,4294967295),a.stencilOp(7680,7680,7680),a.clearStencil(0),a.cullFace(1029),a.frontFace(2305),a.polygonOffset(0,0),a.activeTexture(33984),a.bindFramebuffer(36160,null),!0===d&&(a.bindFramebuffer(36009,null),a.bindFramebuffer(36008,null)),a.useProgram(null),a.lineWidth(1),a.scissor(0,0,a.canvas.width,a.canvas.height),a.viewport(0,0,a.canvas.width,a.canvas.height),h={},B=null,C={},i={},j=null,k=!1,l=null,m=null,n=null,o=null,p=null,q=null,r=null,s=!1,t=null,u=null,v=null,w=null,x=null,F.set(0,0,a.canvas.width,a.canvas.height),G.set(0,0,a.canvas.width,a.canvas.height),e.reset(),f.reset(),g.reset()}}}function HX(a,b,c,d,e,f,g){const h=e.isWebGL2,i=e.maxTextures,j=e.maxCubemapSize,k=e.maxTextureSize,l=e.maxSamples,m=b.has("WEBGL_multisampled_render_to_texture"),n=m?b.get("WEBGL_multisampled_render_to_texture"):void 0,o=new WeakMap();let p,q=!1;try{q="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(r){}function s(a,b){return q?new OffscreenCanvas(a,b):zk("canvas")}function t(a,b,c,d){let e=1;if((a.width>d||a.height>d)&&(e=d/Math.max(a.width,a.height)),e<1|| !0===b){if(("undefined"==typeof HTMLImageElement||!(a instanceof HTMLImageElement))&&("undefined"==typeof HTMLCanvasElement||!(a instanceof HTMLCanvasElement))&&("undefined"==typeof ImageBitmap||!(a instanceof ImageBitmap)))return"data"in a&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+a.width+"x"+a.height+")."),a;{const f=b?ch:Math.floor,g=f(e*a.width),h=f(e*a.height);void 0===p&&(p=s(g,h));const i=c?s(g,h):p;i.width=g,i.height=h;const j=i.getContext("2d");return j.drawImage(a,0,0,g,h),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+a.width+"x"+a.height+") to ("+g+"x"+h+")."),i}}return a}function u(a){return ah(a.width)&&ah(a.height)}function v(a,b){return a.generateMipmaps&&b&&1003!==a.minFilter&&1006!==a.minFilter}function w(b){a.generateMipmap(b)}function x(c,d,e){if(!1===h)return d;if(null!==c){if(void 0!==a[c])return a[c];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+c+"'")}let f=d;return 6403===d&&(5126===e&&(f=33326),5131===e&&(f=33325),5121===e&&(f=33321)),6407===d&&(5126===e&&(f=34837),5131===e&&(f=34843),5121===e&&(f=32849)),6408===d&&(5126===e&&(f=34836),5131===e&&(f=34842),5121===e&&(f=32856)),(33325===f||33326===f||34842===f||34836===f)&&b.get("EXT_color_buffer_float"),f}function y(a){return 1003===a||1004===a||1005===a?9728:9729}function z(a){const b=a.target;b.removeEventListener("dispose",z),B(b),b.isVideoTexture&&o.delete(b),g.memory.textures--}function A(a){const b=a.target;b.removeEventListener("dispose",A),C(b)}function B(b){const c=d.get(b);void 0!==c.__webglInit&&(a.deleteTexture(c.__webglTexture),d.remove(b))}function C(b){const c=b.texture,e=d.get(b),f=d.get(c);if(b){if(void 0!==f.__webglTexture&&(a.deleteTexture(f.__webglTexture),g.memory.textures--),b.depthTexture&&b.depthTexture.dispose(),b.isWebGLCubeRenderTarget)for(let h=0;h<6;h++)a.deleteFramebuffer(e.__webglFramebuffer[h]),e.__webglDepthbuffer&&a.deleteRenderbuffer(e.__webglDepthbuffer[h]);else a.deleteFramebuffer(e.__webglFramebuffer),e.__webglDepthbuffer&&a.deleteRenderbuffer(e.__webglDepthbuffer),e.__webglMultisampledFramebuffer&&a.deleteFramebuffer(e.__webglMultisampledFramebuffer),e.__webglColorRenderbuffer&&a.deleteRenderbuffer(e.__webglColorRenderbuffer),e.__webglDepthRenderbuffer&&a.deleteRenderbuffer(e.__webglDepthRenderbuffer);if(b.isWebGLMultipleRenderTargets)for(let i=0,j=c.length;i<j;i++){const k=d.get(c[i]);k.__webglTexture&&(a.deleteTexture(k.__webglTexture),g.memory.textures--),d.remove(c[i])}d.remove(c),d.remove(b)}}let D=0;function E(a,b){const e=d.get(a);if(a.isVideoTexture&&Q(a),a.version>0&&e.__version!==a.version){const f=a.image;if(void 0===f)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else if(!1===f.complete)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{K(e,a,b);return}}c.activeTexture(33984+b),c.bindTexture(3553,e.__webglTexture)}function F(a,b){const e=d.get(a);if(a.version>0&&e.__version!==a.version){L(e,a,b);return}c.activeTexture(33984+b),c.bindTexture(34067,e.__webglTexture)}const G={[1000]:10497,[1001]:33071,[1002]:33648},H={[1003]:9728,[1004]:9984,[1005]:9986,[1006]:9729,[1007]:9985,[1008]:9987};function I(c,f,g){if(g?(a.texParameteri(c,10242,G[f.wrapS]),a.texParameteri(c,10243,G[f.wrapT]),(32879===c||35866===c)&&a.texParameteri(c,32882,G[f.wrapR]),a.texParameteri(c,10240,H[f.magFilter]),a.texParameteri(c,10241,H[f.minFilter])):(a.texParameteri(c,10242,33071),a.texParameteri(c,10243,33071),(32879===c||35866===c)&&a.texParameteri(c,32882,33071),(1001!==f.wrapS||1001!==f.wrapT)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),a.texParameteri(c,10240,y(f.magFilter)),a.texParameteri(c,10241,y(f.minFilter)),1003!==f.minFilter&&1006!==f.minFilter&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!0===b.has("EXT_texture_filter_anisotropic")){const i=b.get("EXT_texture_filter_anisotropic");(1015!==f.type|| !1!==b.has("OES_texture_float_linear"))&&(!1!==h||1016!==f.type|| !1!==b.has("OES_texture_half_float_linear"))&&(f.anisotropy>1||d.get(f).__currentAnisotropy)&&(a.texParameterf(c,i.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(f.anisotropy,e.getMaxAnisotropy())),d.get(f).__currentAnisotropy=f.anisotropy)}}function J(b,c){void 0===b.__webglInit&&(b.__webglInit=!0,c.addEventListener("dispose",z),b.__webglTexture=a.createTexture(),g.memory.textures++)}function K(b,d,e){var g,i,j;let l=3553;d.isDataTexture2DArray&&(l=35866),d.isDataTexture3D&&(l=32879),J(b,d),c.activeTexture(33984+e),c.bindTexture(l,b.__webglTexture),a.pixelStorei(37440,d.flipY),a.pixelStorei(37441,d.premultiplyAlpha),a.pixelStorei(3317,d.unpackAlignment),a.pixelStorei(37443,0);const m=(g=d,!h&&(1001!==g.wrapS||1001!==g.wrapT||1003!==g.minFilter&&1006!==g.minFilter)&& !1===u(d.image)),n=t(d.image,m,!1,k),o=u(n)||h,p=f.convert(d.format);let q=f.convert(d.type),r=x(d.internalFormat,p,q,d.encoding);I(l,d,o);let s;const y=d.mipmaps;if(d.isDepthTexture)r=6402,h?r=1015===d.type?36012:1014===d.type?33190:1020===d.type?35056:33189:1015===d.type&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),1026===d.format&&6402===r&&1012!==d.type&&1014!==d.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),d.type=1012,q=f.convert(d.type)),1027===d.format&&6402===r&&(r=34041,1020!==d.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),d.type=1020,q=f.convert(d.type))),c.texImage2D(3553,0,r,n.width,n.height,0,p,q,null);else if(d.isDataTexture)if(y.length>0&&o){for(let z=0,A=y.length;z<A;z++)s=y[z],c.texImage2D(3553,z,r,s.width,s.height,0,p,q,s.data);d.generateMipmaps=!1}else c.texImage2D(3553,0,r,n.width,n.height,0,p,q,n.data);else if(d.isCompressedTexture)for(let B=0,C=y.length;B<C;B++)s=y[B],1023!==d.format&&1022!==d.format?null!==p?c.compressedTexImage2D(3553,B,r,s.width,s.height,0,s.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):c.texImage2D(3553,B,r,s.width,s.height,0,p,q,s.data);else if(d.isDataTexture2DArray)c.texImage3D(35866,0,r,n.width,n.height,n.depth,0,p,q,n.data);else if(d.isDataTexture3D)c.texImage3D(32879,0,r,n.width,n.height,n.depth,0,p,q,n.data);else{const D=(i=d,j=n,!0===v(i,o)?Math.log2(Math.max(j.width,j.height))+1:i.mipmaps.length>0?i.mipmaps.length:1),E=h&& !0!==d.isVideoTexture,F=void 0===b.__version;if(y.length>0&&o){E&&F&&c.texStorage2D(3553,D,r,y[0].width,y[0].height);for(let G=0,H=y.length;G<H;G++)s=y[G],E?c.texSubImage2D(3553,G,0,0,p,q,s):c.texImage2D(3553,G,r,p,q,s);d.generateMipmaps=!1}else E?(F&&c.texStorage2D(3553,D,r,n.width,n.height),c.texSubImage2D(3553,0,0,0,p,q,n)):c.texImage2D(3553,0,r,p,q,n)}v(d,o)&&w(l),b.__version=d.version,d.onUpdate&&d.onUpdate(d)}function L(b,d,e){if(6===d.image.length){J(b,d),c.activeTexture(33984+e),c.bindTexture(34067,b.__webglTexture),a.pixelStorei(37440,d.flipY),a.pixelStorei(37441,d.premultiplyAlpha),a.pixelStorei(3317,d.unpackAlignment),a.pixelStorei(37443,0);const g=d&&(d.isCompressedTexture||d.image[0].isCompressedTexture),i=d.image[0]&&d.image[0].isDataTexture,k=[];for(let l=0;l<6;l++)g||i?k[l]=i?d.image[l].image:d.image[l]:k[l]=t(d.image[l],!1,!0,j);const m=k[0],n=u(m)||h,o=f.convert(d.format),p=f.convert(d.type),q=x(d.internalFormat,o,p,d.encoding);I(34067,d,n);let r;if(g)for(let s=0;s<6;s++){r=k[s].mipmaps;for(let y=0;y<r.length;y++){const z=r[y];1023!==d.format&&1022!==d.format?null!==o?c.compressedTexImage2D(34069+s,y,q,z.width,z.height,0,z.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):c.texImage2D(34069+s,y,q,z.width,z.height,0,o,p,z.data)}}else{r=d.mipmaps;for(let A=0;A<6;A++)if(i){c.texImage2D(34069+A,0,q,k[A].width,k[A].height,0,o,p,k[A].data);for(let B=0;B<r.length;B++){const C=r[B],D=C.image[A].image;c.texImage2D(34069+A,B+1,q,D.width,D.height,0,o,p,D.data)}}else{c.texImage2D(34069+A,0,q,o,p,k[A]);for(let E=0;E<r.length;E++){const F=r[E];c.texImage2D(34069+A,E+1,q,o,p,F.image[A])}}}v(d,n)&&w(34067),b.__version=d.version,d.onUpdate&&d.onUpdate(d)}}function M(b,e,g,h,i){const j=f.convert(g.format),k=f.convert(g.type),l=x(g.internalFormat,j,k,g.encoding),m=d.get(e);m.__hasExternalTextures||(32879===i||35866===i?c.texImage3D(i,0,l,e.width,e.height,e.depth,0,j,k,null):c.texImage2D(i,0,l,e.width,e.height,0,j,k,null)),c.bindFramebuffer(36160,b),e.useRenderToTexture?n.framebufferTexture2DMultisampleEXT(36160,h,i,d.get(g).__webglTexture,0,P(e)):a.framebufferTexture2D(36160,h,i,d.get(g).__webglTexture,0),c.bindFramebuffer(36160,null)}function N(b,c,d){if(a.bindRenderbuffer(36161,b),c.depthBuffer&&!c.stencilBuffer){let e=33189;if(d||c.useRenderToTexture){const g=c.depthTexture;g&&g.isDepthTexture&&(1015===g.type?e=36012:1014===g.type&&(e=33190));const h=P(c);c.useRenderToTexture?n.renderbufferStorageMultisampleEXT(36161,h,e,c.width,c.height):a.renderbufferStorageMultisample(36161,h,e,c.width,c.height)}else a.renderbufferStorage(36161,e,c.width,c.height);a.framebufferRenderbuffer(36160,36096,36161,b)}else if(c.depthBuffer&&c.stencilBuffer){const i=P(c);d&&c.useRenderbuffer?a.renderbufferStorageMultisample(36161,i,35056,c.width,c.height):c.useRenderToTexture?n.renderbufferStorageMultisampleEXT(36161,i,35056,c.width,c.height):a.renderbufferStorage(36161,34041,c.width,c.height),a.framebufferRenderbuffer(36160,33306,36161,b)}else{const j=!0===c.isWebGLMultipleRenderTargets?c.texture[0]:c.texture,k=f.convert(j.format),l=f.convert(j.type),m=x(j.internalFormat,k,l,j.encoding),o=P(c);d&&c.useRenderbuffer?a.renderbufferStorageMultisample(36161,o,m,c.width,c.height):c.useRenderToTexture?n.renderbufferStorageMultisampleEXT(36161,o,m,c.width,c.height):a.renderbufferStorage(36161,m,c.width,c.height)}a.bindRenderbuffer(36161,null)}function O(b){const e=d.get(b),f=!0===b.isWebGLCubeRenderTarget;if(b.depthTexture&&!e.__autoAllocateDepthBuffer){if(f)throw new Error("target.depthTexture not supported in Cube render targets");!function(b,e){const f=e&&e.isWebGLCubeRenderTarget;if(f)throw new Error("Depth Texture with cube render targets is not supported");if(c.bindFramebuffer(36160,b),!(e.depthTexture&&e.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");d.get(e.depthTexture).__webglTexture&&e.depthTexture.image.width===e.width&&e.depthTexture.image.height===e.height||(e.depthTexture.image.width=e.width,e.depthTexture.image.height=e.height,e.depthTexture.needsUpdate=!0),E(e.depthTexture,0);const g=d.get(e.depthTexture).__webglTexture,h=P(e);if(1026===e.depthTexture.format)e.useRenderToTexture?n.framebufferTexture2DMultisampleEXT(36160,36096,3553,g,0,h):a.framebufferTexture2D(36160,36096,3553,g,0);else if(1027===e.depthTexture.format)e.useRenderToTexture?n.framebufferTexture2DMultisampleEXT(36160,33306,3553,g,0,h):a.framebufferTexture2D(36160,33306,3553,g,0);else throw new Error("Unknown depthTexture format")}(e.__webglFramebuffer,b)}else if(f){e.__webglDepthbuffer=[];for(let g=0;g<6;g++)c.bindFramebuffer(36160,e.__webglFramebuffer[g]),e.__webglDepthbuffer[g]=a.createRenderbuffer(),N(e.__webglDepthbuffer[g],b,!1)}else c.bindFramebuffer(36160,e.__webglFramebuffer),e.__webglDepthbuffer=a.createRenderbuffer(),N(e.__webglDepthbuffer,b,!1);c.bindFramebuffer(36160,null)}function P(a){return h&&(a.useRenderbuffer||a.useRenderToTexture)?Math.min(l,a.samples):0}function Q(a){const b=g.render.frame;o.get(a)!==b&&(o.set(a,b),a.update())}let R=!1,S=!1;this.allocateTextureUnit=function(){const a=D;return a>=i&&console.warn("THREE.WebGLTextures: Trying to use "+a+" texture units while this GPU supports only "+i),D+=1,a},this.resetTextureUnits=function(){D=0},this.setTexture2D=E,this.setTexture2DArray=function(a,b){const e=d.get(a);if(a.version>0&&e.__version!==a.version){K(e,a,b);return}c.activeTexture(33984+b),c.bindTexture(35866,e.__webglTexture)},this.setTexture3D=function(a,b){const e=d.get(a);if(a.version>0&&e.__version!==a.version){K(e,a,b);return}c.activeTexture(33984+b),c.bindTexture(32879,e.__webglTexture)},this.setTextureCube=F,this.rebindTextures=function(a,b,c){const e=d.get(a);void 0!==b&&M(e.__webglFramebuffer,a,a.texture,36064,3553),void 0!==c&&O(a)},this.setupRenderTarget=function(b){const i=b.texture,j=d.get(b),k=d.get(i);b.addEventListener("dispose",A),!0!==b.isWebGLMultipleRenderTargets&&(void 0===k.__webglTexture&&(k.__webglTexture=a.createTexture()),k.__version=i.version,g.memory.textures++);const l=!0===b.isWebGLCubeRenderTarget,m=!0===b.isWebGLMultipleRenderTargets,n=i.isDataTexture3D||i.isDataTexture2DArray,o=u(b)||h;if(h&&1022===i.format&&(1015===i.type||1016===i.type)&&(i.format=1023,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),l){j.__webglFramebuffer=[];for(let p=0;p<6;p++)j.__webglFramebuffer[p]=a.createFramebuffer()}else if(j.__webglFramebuffer=a.createFramebuffer(),m)if(e.drawBuffers){const q=b.texture;for(let r=0,s=q.length;r<s;r++){const t=d.get(q[r]);void 0===t.__webglTexture&&(t.__webglTexture=a.createTexture(),g.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");else if(b.useRenderbuffer)if(h){j.__webglMultisampledFramebuffer=a.createFramebuffer(),j.__webglColorRenderbuffer=a.createRenderbuffer(),a.bindRenderbuffer(36161,j.__webglColorRenderbuffer);const y=f.convert(i.format),z=f.convert(i.type),B=x(i.internalFormat,y,z,i.encoding),C=P(b);a.renderbufferStorageMultisample(36161,C,B,b.width,b.height),c.bindFramebuffer(36160,j.__webglMultisampledFramebuffer),a.framebufferRenderbuffer(36160,36064,36161,j.__webglColorRenderbuffer),a.bindRenderbuffer(36161,null),b.depthBuffer&&(j.__webglDepthRenderbuffer=a.createRenderbuffer(),N(j.__webglDepthRenderbuffer,b,!0)),c.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(l){c.bindTexture(34067,k.__webglTexture),I(34067,i,o);for(let D=0;D<6;D++)M(j.__webglFramebuffer[D],b,i,36064,34069+D);v(i,o)&&w(34067),c.unbindTexture()}else if(m){const E=b.texture;for(let F=0,G=E.length;F<G;F++){const H=E[F],J=d.get(H);c.bindTexture(3553,J.__webglTexture),I(3553,H,o),M(j.__webglFramebuffer,b,H,36064+F,3553),v(H,o)&&w(3553)}c.unbindTexture()}else{let K=3553;if(n)if(h){const L=i.isDataTexture3D;K=L?32879:35866}else console.warn("THREE.DataTexture3D and THREE.DataTexture2DArray only supported with WebGL2.");c.bindTexture(K,k.__webglTexture),I(K,i,o),M(j.__webglFramebuffer,b,i,36064,K),v(i,o)&&w(K),c.unbindTexture()}b.depthBuffer&&O(b)},this.updateRenderTargetMipmap=function(a){const b=u(a)||h,e=!0===a.isWebGLMultipleRenderTargets?a.texture:[a.texture];for(let f=0,g=e.length;f<g;f++){const i=e[f];if(v(i,b)){const j=a.isWebGLCubeRenderTarget?34067:3553,k=d.get(i).__webglTexture;c.bindTexture(j,k),w(j),c.unbindTexture()}}},this.updateMultisampleRenderTarget=function(b){if(b.useRenderbuffer)if(h){const e=b.width,f=b.height;let g=16384;const i=[36064],j=b.stencilBuffer?33306:36096;b.depthBuffer&&i.push(j),!b.ignoreDepthForMultisampleCopy&&(b.depthBuffer&&(g|=256),b.stencilBuffer&&(g|=1024));const k=d.get(b);c.bindFramebuffer(36008,k.__webglMultisampledFramebuffer),c.bindFramebuffer(36009,k.__webglFramebuffer),b.ignoreDepthForMultisampleCopy&&(a.invalidateFramebuffer(36008,[j]),a.invalidateFramebuffer(36009,[j])),a.blitFramebuffer(0,0,e,f,0,0,e,f,g,9728),a.invalidateFramebuffer(36008,i),c.bindFramebuffer(36008,null),c.bindFramebuffer(36009,k.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")},this.setupDepthRenderbuffer=O,this.setupFrameBufferTexture=M,this.safeSetTexture2D=function(a,b){a&&a.isWebGLRenderTarget&&(!1===R&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),R=!0),a=a.texture),E(a,b)},this.safeSetTextureCube=function(a,b){a&&a.isWebGLCubeRenderTarget&&(!1===S&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),S=!0),a=a.texture),F(a,b)}}function IX(a,b,c){const d=c.isWebGL2;return{convert:function(a){let c;if(1009===a)return 5121;if(1017===a)return 32819;if(1018===a)return 32820;if(1019===a)return 33635;if(1010===a)return 5120;if(1011===a)return 5122;if(1012===a)return 5123;if(1013===a)return 5124;if(1014===a)return 5125;if(1015===a)return 5126;if(1016===a)return d?5131:null!==(c=b.get("OES_texture_half_float"))?c.HALF_FLOAT_OES:null;if(1021===a)return 6406;if(1022===a)return 6407;if(1023===a)return 6408;if(1024===a)return 6409;if(1025===a)return 6410;if(1026===a)return 6402;if(1027===a)return 34041;if(1028===a)return 6403;if(1029===a)return 36244;if(1030===a)return 33319;if(1031===a)return 33320;if(1032===a)return 36248;if(1033===a)return 36249;if(33776===a||33777===a||33778===a||33779===a){if(null===(c=b.get("WEBGL_compressed_texture_s3tc")))return null;if(33776===a)return c.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===a)return c.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===a)return c.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===a)return c.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===a||35841===a||35842===a||35843===a){if(null===(c=b.get("WEBGL_compressed_texture_pvrtc")))return null;if(35840===a)return c.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===a)return c.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===a)return c.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===a)return c.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===a)return null!==(c=b.get("WEBGL_compressed_texture_etc1"))?c.COMPRESSED_RGB_ETC1_WEBGL:null;if((37492===a||37496===a)&&null!==(c=b.get("WEBGL_compressed_texture_etc"))){if(37492===a)return c.COMPRESSED_RGB8_ETC2;if(37496===a)return c.COMPRESSED_RGBA8_ETC2_EAC}return 37808===a||37809===a||37810===a||37811===a||37812===a||37813===a||37814===a||37815===a||37816===a||37817===a||37818===a||37819===a||37820===a||37821===a||37840===a||37841===a||37842===a||37843===a||37844===a||37845===a||37846===a||37847===a||37848===a||37849===a||37850===a||37851===a||37852===a||37853===a?null!==(c=b.get("WEBGL_compressed_texture_astc"))?a:null:36492===a?null!==(c=b.get("EXT_texture_compression_bptc"))?a:null:1020===a?d?34042:null!==(c=b.get("WEBGL_depth_texture"))?c.UNSIGNED_INT_24_8_WEBGL:null:void 0}}}CX.prototype.isMeshDistanceMaterial=!0;class JX extends jP{constructor(KX=[]){super(),this.cameras=KX}}JX.prototype.isArrayCamera=!0;class LX extends hC{constructor(){super(),this.type="Group"}}LX.prototype.isGroup=!0;const MX={type:"move"};class NX{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new LX(),this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new LX(),this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Sp(),this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Sp()),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new LX(),this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Sp(),this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Sp()),this._grip}dispatchEvent(OX){return null!==this._targetRay&&this._targetRay.dispatchEvent(OX),null!==this._grip&&this._grip.dispatchEvent(OX),null!==this._hand&&this._hand.dispatchEvent(OX),this}disconnect(PX){return this.dispatchEvent({type:"disconnected",data:PX}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(QX,RX,SX){let TX=null,UX=null,VX=null;const WX=this._targetRay,XX=this._grip,YX=this._hand;if(QX&&"visible-blurred"!==RX.session.visibilityState)if(null!==WX&&null!==(TX=RX.getPose(QX.targetRaySpace,SX))&&(WX.matrix.fromArray(TX.transform.matrix),WX.matrix.decompose(WX.position,WX.rotation,WX.scale),TX.linearVelocity?(WX.hasLinearVelocity=!0,WX.linearVelocity.copy(TX.linearVelocity)):WX.hasLinearVelocity=!1,TX.angularVelocity?(WX.hasAngularVelocity=!0,WX.angularVelocity.copy(TX.angularVelocity)):WX.hasAngularVelocity=!1,this.dispatchEvent(MX)),YX&&QX.hand){for(const ZX of(VX=!0,QX.hand.values())){const $X=RX.getJointPose(ZX,SX);if(void 0===YX.joints[ZX.jointName]){const _X=new LX();_X.matrixAutoUpdate=!1,_X.visible=!1,YX.joints[ZX.jointName]=_X,YX.add(_X)}const aY=YX.joints[ZX.jointName];null!==$X&&(aY.matrix.fromArray($X.transform.matrix),aY.matrix.decompose(aY.position,aY.rotation,aY.scale),aY.jointRadius=$X.radius),aY.visible=null!==$X}const bY=YX.joints["index-finger-tip"],cY=YX.joints["thumb-tip"],dY=bY.position.distanceTo(cY.position),eY=0.02,fY=0.005;YX.inputState.pinching&&dY>eY+fY?(YX.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:QX.handedness,target:this})):!YX.inputState.pinching&&dY<=eY-fY&&(YX.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:QX.handedness,target:this}))}else null!==XX&&QX.gripSpace&&null!==(UX=RX.getPose(QX.gripSpace,SX))&&(XX.matrix.fromArray(UX.transform.matrix),XX.matrix.decompose(XX.position,XX.rotation,XX.scale),UX.linearVelocity?(XX.hasLinearVelocity=!0,XX.linearVelocity.copy(UX.linearVelocity)):XX.hasLinearVelocity=!1,UX.angularVelocity?(XX.hasAngularVelocity=!0,XX.angularVelocity.copy(UX.angularVelocity)):XX.hasAngularVelocity=!1);return null!==WX&&(WX.visible=null!==TX),null!==XX&&(XX.visible=null!==UX),null!==YX&&(YX.visible=null!==VX),this}}class gY extends Hk{constructor(hY,iY,jY,kY,lY,mY,nY,oY,pY,qY){if(1026!==(qY=void 0!==qY?qY:1026)&&1027!==qY)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===jY&&1026===qY&&(jY=1012),void 0===jY&&1027===qY&&(jY=1020),super(null,kY,lY,mY,nY,oY,qY,jY,pY),this.image={width:hY,height:iY},this.magFilter=void 0!==nY?nY:1003,this.minFilter=void 0!==oY?oY:1003,this.flipY=!1,this.generateMipmaps=!1}}gY.prototype.isDepthTexture=!0;class rY extends Bg{constructor(sY,tY){super();const uY=this;let vY=null,wY=1,xY=null,yY="local-floor";const zY=sY.extensions.has("WEBGL_multisampled_render_to_texture");let AY=null,BY=null,CY=null,DY=null,EY=!1,FY=null;const GY=tY.getContextAttributes();let HY=null,IY=null;const JY=[],KY=new Map(),LY=new jP();LY.layers.enable(1),LY.viewport=new bl();const MY=new jP();MY.layers.enable(2),MY.viewport=new bl();const NY=[LY,MY],OY=new JX();OY.layers.enable(1),OY.layers.enable(2);let PY=null,QY=null;function RY(a){const b=KY.get(a.inputSource);b&&b.dispatchEvent({type:a.type,data:a.inputSource})}function SY(){KY.forEach(function(a,b){a.disconnect(b)}),KY.clear(),PY=null,QY=null,sY.setRenderTarget(HY),DY=null,CY=null,BY=null,vY=null,IY=null,YY.stop(),uY.isPresenting=!1,uY.dispatchEvent({type:"sessionend"})}function TY(a){const b=vY.inputSources;for(let c=0;c<JY.length;c++)KY.set(b[c],JY[c]);for(let d=0;d<a.removed.length;d++){const e=a.removed[d],f=KY.get(e);f&&(f.dispatchEvent({type:"disconnected",data:e}),KY.delete(e))}for(let g=0;g<a.added.length;g++){const h=a.added[g],i=KY.get(h);i&&i.dispatchEvent({type:"connected",data:h})}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(a){let b=JY[a];return void 0===b&&(b=new NX(),JY[a]=b),b.getTargetRaySpace()},this.getControllerGrip=function(a){let b=JY[a];return void 0===b&&(b=new NX(),JY[a]=b),b.getGripSpace()},this.getHand=function(a){let b=JY[a];return void 0===b&&(b=new NX(),JY[a]=b),b.getHandSpace()},this.setFramebufferScaleFactor=function(a){wY=a,!0===uY.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(a){yY=a,!0===uY.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return xY},this.getBaseLayer=function(){return null!==CY?CY:DY},this.getBinding=function(){return BY},this.getFrame=function(){return FY},this.getSession=function(){return vY},this.setSession=async function(a){if(null!==(vY=a)){if(HY=sY.getRenderTarget(),vY.addEventListener("select",RY),vY.addEventListener("selectstart",RY),vY.addEventListener("selectend",RY),vY.addEventListener("squeeze",RY),vY.addEventListener("squeezestart",RY),vY.addEventListener("squeezeend",RY),vY.addEventListener("end",SY),vY.addEventListener("inputsourceschange",TY),!0!==GY.xrCompatible&&await tY.makeXRCompatible(),void 0===vY.renderState.layers|| !1===sY.capabilities.isWebGL2){const b={antialias:void 0!==vY.renderState.layers||GY.antialias,alpha:GY.alpha,depth:GY.depth,stencil:GY.stencil,framebufferScaleFactor:wY};DY=new XRWebGLLayer(vY,tY,b),vY.updateRenderState({baseLayer:DY}),IY=new Km(DY.framebufferWidth,DY.framebufferHeight)}else{EY=GY.antialias;let c=null,d=null,e=null;GY.depth&&(e=GY.stencil?35056:33189,c=GY.stencil?1027:1026,d=GY.stencil?1020:1012);const f={colorFormat:GY.alpha||EY?32856:32849,depthFormat:e,scaleFactor:wY};CY=(BY=new XRWebGLBinding(vY,tY)).createProjectionLayer(f),vY.updateRenderState({layers:[CY]}),IY=EY?new en(CY.textureWidth,CY.textureHeight,{format:1023,type:1009,depthTexture:new gY(CY.textureWidth,CY.textureHeight,d,void 0,void 0,void 0,void 0,void 0,void 0,c),stencilBuffer:GY.stencil,ignoreDepth:CY.ignoreDepthValues,useRenderToTexture:zY}):new Km(CY.textureWidth,CY.textureHeight,{format:GY.alpha?1023:1022,type:1009,depthTexture:new gY(CY.textureWidth,CY.textureHeight,d,void 0,void 0,void 0,void 0,void 0,void 0,c),stencilBuffer:GY.stencil,ignoreDepth:CY.ignoreDepthValues})}this.setFoveation(0),xY=await vY.requestReferenceSpace(yY),YY.setContext(vY),YY.start(),uY.isPresenting=!0,uY.dispatchEvent({type:"sessionstart"})}};const UY=new Sp(),VY=new Sp();function WY(a,b){null===b?a.matrixWorld.copy(a.matrix):a.matrixWorld.multiplyMatrices(b.matrixWorld,a.matrix),a.matrixWorldInverse.copy(a.matrixWorld).invert()}this.updateCamera=function(a){if(null!==vY){OY.near=MY.near=LY.near=a.near,OY.far=MY.far=LY.far=a.far,(PY!==OY.near||QY!==OY.far)&&(vY.updateRenderState({depthNear:OY.near,depthFar:OY.far}),PY=OY.near,QY=OY.far);const b=a.parent,c=OY.cameras;WY(OY,b);for(let d=0;d<c.length;d++)WY(c[d],b);OY.matrixWorld.decompose(OY.position,OY.quaternion,OY.scale),a.position.copy(OY.position),a.quaternion.copy(OY.quaternion),a.scale.copy(OY.scale),a.matrix.copy(OY.matrix),a.matrixWorld.copy(OY.matrixWorld);const e=a.children;for(let f=0,g=e.length;f<g;f++)e[f].updateMatrixWorld(!0);2===c.length?(function(a,b,c){UY.setFromMatrixPosition(b.matrixWorld),VY.setFromMatrixPosition(c.matrixWorld);const d=UY.distanceTo(VY),e=b.projectionMatrix.elements,f=c.projectionMatrix.elements,g=e[14]/(e[10]-1),h=e[14]/(e[10]+1),i=(e[9]+1)/e[5],j=(e[9]-1)/e[5],k=(e[8]-1)/e[0],l=(f[8]+1)/f[0],m=d/(-k+l),n=-(m*k);b.matrixWorld.decompose(a.position,a.quaternion,a.scale),a.translateX(n),a.translateZ(m),a.matrixWorld.compose(a.position,a.quaternion,a.scale),a.matrixWorldInverse.copy(a.matrixWorld).invert();const o=g+m,p=h+m;a.projectionMatrix.makePerspective(g*k-n,g*l+(d-n),i*h/p*o,j*h/p*o,o,p)})(OY,LY,MY):OY.projectionMatrix.copy(LY.projectionMatrix)}},this.getCamera=function(){return OY},this.getFoveation=function(){return null!==CY?CY.fixedFoveation:null!==DY?DY.fixedFoveation:void 0},this.setFoveation=function(a){null!==CY&&(CY.fixedFoveation=a),null!==DY&& void 0!==DY.fixedFoveation&&(DY.fixedFoveation=a)};let XY=null;const YY=new wS();YY.setAnimationLoop(function(a,b){if(AY=b.getViewerPose(xY),FY=b,null!==AY){const c=AY.views;null!==DY&&(sY.setRenderTargetFramebuffer(IY,DY.framebuffer),sY.setRenderTarget(IY));let d=!1;c.length!==OY.cameras.length&&(OY.cameras.length=0,d=!0);for(let e=0;e<c.length;e++){const f=c[e];let g=null;if(null!==DY)g=DY.getViewport(f);else{const h=BY.getViewSubImage(CY,f);g=h.viewport,0===e&&(sY.setRenderTargetTextures(IY,h.colorTexture,CY.ignoreDepthValues?void 0:h.depthStencilTexture),sY.setRenderTarget(IY))}const i=NY[e];i.matrix.fromArray(f.transform.matrix),i.projectionMatrix.fromArray(f.projectionMatrix),i.viewport.set(g.x,g.y,g.width,g.height),0===e&&OY.matrix.copy(i.matrix),!0===d&&OY.cameras.push(i)}}const j=vY.inputSources;for(let k=0;k<JY.length;k++){const l=JY[k],m=j[k];l.update(m,b,xY)}XY&&XY(a,b),FY=null}),this.setAnimationLoop=function(a){XY=a},this.dispose=function(){}}}function ZY(a){function b(b,c){b.opacity.value=c.opacity,c.color&&b.diffuse.value.copy(c.color),c.emissive&&b.emissive.value.copy(c.emissive).multiplyScalar(c.emissiveIntensity),c.map&&(b.map.value=c.map),c.alphaMap&&(b.alphaMap.value=c.alphaMap),c.specularMap&&(b.specularMap.value=c.specularMap),c.alphaTest>0&&(b.alphaTest.value=c.alphaTest);const d=a.get(c).envMap;d&&(b.envMap.value=d,b.flipEnvMap.value=d.isCubeTexture&& !1===d.isRenderTargetTexture?-1:1,b.reflectivity.value=c.reflectivity,b.ior.value=c.ior,b.refractionRatio.value=c.refractionRatio),c.lightMap&&(b.lightMap.value=c.lightMap,b.lightMapIntensity.value=c.lightMapIntensity),c.aoMap&&(b.aoMap.value=c.aoMap,b.aoMapIntensity.value=c.aoMapIntensity);let e;c.map?e=c.map:c.specularMap?e=c.specularMap:c.displacementMap?e=c.displacementMap:c.normalMap?e=c.normalMap:c.bumpMap?e=c.bumpMap:c.roughnessMap?e=c.roughnessMap:c.metalnessMap?e=c.metalnessMap:c.alphaMap?e=c.alphaMap:c.emissiveMap?e=c.emissiveMap:c.clearcoatMap?e=c.clearcoatMap:c.clearcoatNormalMap?e=c.clearcoatNormalMap:c.clearcoatRoughnessMap?e=c.clearcoatRoughnessMap:c.specularIntensityMap?e=c.specularIntensityMap:c.specularColorMap?e=c.specularColorMap:c.transmissionMap?e=c.transmissionMap:c.thicknessMap?e=c.thicknessMap:c.sheenColorMap?e=c.sheenColorMap:c.sheenRoughnessMap&&(e=c.sheenRoughnessMap),void 0!==e&&(e.isWebGLRenderTarget&&(e=e.texture),!0===e.matrixAutoUpdate&&e.updateMatrix(),b.uvTransform.value.copy(e.matrix));let f;c.aoMap?f=c.aoMap:c.lightMap&&(f=c.lightMap),void 0!==f&&(f.isWebGLRenderTarget&&(f=f.texture),!0===f.matrixAutoUpdate&&f.updateMatrix(),b.uv2Transform.value.copy(f.matrix))}function c(b,c){b.roughness.value=c.roughness,b.metalness.value=c.metalness,c.roughnessMap&&(b.roughnessMap.value=c.roughnessMap),c.metalnessMap&&(b.metalnessMap.value=c.metalnessMap),c.emissiveMap&&(b.emissiveMap.value=c.emissiveMap),c.bumpMap&&(b.bumpMap.value=c.bumpMap,b.bumpScale.value=c.bumpScale,c.side===zg&&(b.bumpScale.value*=-1)),c.normalMap&&(b.normalMap.value=c.normalMap,b.normalScale.value.copy(c.normalScale),c.side===zg&&b.normalScale.value.negate()),c.displacementMap&&(b.displacementMap.value=c.displacementMap,b.displacementScale.value=c.displacementScale,b.displacementBias.value=c.displacementBias);const d=a.get(c).envMap;d&&(b.envMapIntensity.value=c.envMapIntensity)}return{refreshFogUniforms:function(a,b){a.fogColor.value.copy(b.color),b.isFog?(a.fogNear.value=b.near,a.fogFar.value=b.far):b.isFogExp2&&(a.fogDensity.value=b.density)},refreshMaterialUniforms:function(a,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H;let I,J;d.isMeshBasicMaterial?b(a,d):d.isMeshLambertMaterial?(b(a,d),h=a,(i=d).emissiveMap&&(h.emissiveMap.value=i.emissiveMap)):d.isMeshToonMaterial?(b(a,d),j=a,(k=d).gradientMap&&(j.gradientMap.value=k.gradientMap),k.emissiveMap&&(j.emissiveMap.value=k.emissiveMap),k.bumpMap&&(j.bumpMap.value=k.bumpMap,j.bumpScale.value=k.bumpScale,k.side===zg&&(j.bumpScale.value*=-1)),k.normalMap&&(j.normalMap.value=k.normalMap,j.normalScale.value.copy(k.normalScale),k.side===zg&&j.normalScale.value.negate()),k.displacementMap&&(j.displacementMap.value=k.displacementMap,j.displacementScale.value=k.displacementScale,j.displacementBias.value=k.displacementBias)):d.isMeshPhongMaterial?(b(a,d),l=a,m=d,l.specular.value.copy(m.specular),l.shininess.value=Math.max(m.shininess,0.0001),m.emissiveMap&&(l.emissiveMap.value=m.emissiveMap),m.bumpMap&&(l.bumpMap.value=m.bumpMap,l.bumpScale.value=m.bumpScale,m.side===zg&&(l.bumpScale.value*=-1)),m.normalMap&&(l.normalMap.value=m.normalMap,l.normalScale.value.copy(m.normalScale),m.side===zg&&l.normalScale.value.negate()),m.displacementMap&&(l.displacementMap.value=m.displacementMap,l.displacementScale.value=m.displacementScale,l.displacementBias.value=m.displacementBias)):d.isMeshStandardMaterial?(b(a,d),d.isMeshPhysicalMaterial?(n=a,o=d,p=g,c(n,o),n.ior.value=o.ior,o.sheen>0&&(n.sheenColor.value.copy(o.sheenColor).multiplyScalar(o.sheen),n.sheenRoughness.value=o.sheenRoughness,o.sheenColorMap&&(n.sheenColorMap.value=o.sheenColorMap),o.sheenRoughnessMap&&(n.sheenRoughnessMap.value=o.sheenRoughnessMap)),o.clearcoat>0&&(n.clearcoat.value=o.clearcoat,n.clearcoatRoughness.value=o.clearcoatRoughness,o.clearcoatMap&&(n.clearcoatMap.value=o.clearcoatMap),o.clearcoatRoughnessMap&&(n.clearcoatRoughnessMap.value=o.clearcoatRoughnessMap),o.clearcoatNormalMap&&(n.clearcoatNormalScale.value.copy(o.clearcoatNormalScale),n.clearcoatNormalMap.value=o.clearcoatNormalMap,o.side===zg&&n.clearcoatNormalScale.value.negate())),o.transmission>0&&(n.transmission.value=o.transmission,n.transmissionSamplerMap.value=p.texture,n.transmissionSamplerSize.value.set(p.width,p.height),o.transmissionMap&&(n.transmissionMap.value=o.transmissionMap),n.thickness.value=o.thickness,o.thicknessMap&&(n.thicknessMap.value=o.thicknessMap),n.attenuationDistance.value=o.attenuationDistance,n.attenuationColor.value.copy(o.attenuationColor)),n.specularIntensity.value=o.specularIntensity,n.specularColor.value.copy(o.specularColor),o.specularIntensityMap&&(n.specularIntensityMap.value=o.specularIntensityMap),o.specularColorMap&&(n.specularColorMap.value=o.specularColorMap)):c(a,d)):d.isMeshMatcapMaterial?(b(a,d),q=a,(r=d).matcap&&(q.matcap.value=r.matcap),r.bumpMap&&(q.bumpMap.value=r.bumpMap,q.bumpScale.value=r.bumpScale,r.side===zg&&(q.bumpScale.value*=-1)),r.normalMap&&(q.normalMap.value=r.normalMap,q.normalScale.value.copy(r.normalScale),r.side===zg&&q.normalScale.value.negate()),r.displacementMap&&(q.displacementMap.value=r.displacementMap,q.displacementScale.value=r.displacementScale,q.displacementBias.value=r.displacementBias)):d.isMeshDepthMaterial?(b(a,d),s=a,(t=d).displacementMap&&(s.displacementMap.value=t.displacementMap,s.displacementScale.value=t.displacementScale,s.displacementBias.value=t.displacementBias)):d.isMeshDistanceMaterial?(b(a,d),u=a,(v=d).displacementMap&&(u.displacementMap.value=v.displacementMap,u.displacementScale.value=v.displacementScale,u.displacementBias.value=v.displacementBias),u.referencePosition.value.copy(v.referencePosition),u.nearDistance.value=v.nearDistance,u.farDistance.value=v.farDistance):d.isMeshNormalMaterial?(b(a,d),w=a,(x=d).bumpMap&&(w.bumpMap.value=x.bumpMap,w.bumpScale.value=x.bumpScale,x.side===zg&&(w.bumpScale.value*=-1)),x.normalMap&&(w.normalMap.value=x.normalMap,w.normalScale.value.copy(x.normalScale),x.side===zg&&w.normalScale.value.negate()),x.displacementMap&&(w.displacementMap.value=x.displacementMap,w.displacementScale.value=x.displacementScale,w.displacementBias.value=x.displacementBias)):d.isLineBasicMaterial?(y=a,z=d,y.diffuse.value.copy(z.color),y.opacity.value=z.opacity,d.isLineDashedMaterial&&(A=a,B=d,A.dashSize.value=B.dashSize,A.totalSize.value=B.dashSize+B.gapSize,A.scale.value=B.scale)):d.isPointsMaterial?(C=a,D=d,E=e,F=f,C.diffuse.value.copy(D.color),C.opacity.value=D.opacity,C.size.value=D.size*E,C.scale.value=0.5*F,D.map&&(C.map.value=D.map),D.alphaMap&&(C.alphaMap.value=D.alphaMap),D.alphaTest>0&&(C.alphaTest.value=D.alphaTest),D.map?I=D.map:D.alphaMap&&(I=D.alphaMap),void 0!==I&&(!0===I.matrixAutoUpdate&&I.updateMatrix(),C.uvTransform.value.copy(I.matrix))):d.isSpriteMaterial?(G=a,H=d,G.diffuse.value.copy(H.color),G.opacity.value=H.opacity,G.rotation.value=H.rotation,H.map&&(G.map.value=H.map),H.alphaMap&&(G.alphaMap.value=H.alphaMap),H.alphaTest>0&&(G.alphaTest.value=H.alphaTest),H.map?J=H.map:H.alphaMap&&(J=H.alphaMap),void 0!==J&&(!0===J.matrixAutoUpdate&&J.updateMatrix(),G.uvTransform.value.copy(J.matrix))):d.isShadowMaterial?(a.color.value.copy(d.color),a.opacity.value=d.opacity):d.isShaderMaterial&&(d.uniformsNeedUpdate=!1)}}}function $Y(a={}){const b=void 0!==a.canvas?a.canvas:function(){const a=zk("canvas");return a.style.display="block",a}(),c=void 0!==a.context?a.context:null,d=void 0!==a.alpha&&a.alpha,e=void 0===a.depth||a.depth,f=void 0===a.stencil||a.stencil,g=void 0!==a.antialias&&a.antialias,h=void 0===a.premultipliedAlpha||a.premultipliedAlpha,i=void 0!==a.preserveDrawingBuffer&&a.preserveDrawingBuffer,j=void 0!==a.powerPreference?a.powerPreference:"default",k=void 0!==a.failIfMajorPerformanceCaveat&&a.failIfMajorPerformanceCaveat;let l=null,m=null;const n=[],o=[];this.domElement=b,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=3000,this.physicallyCorrectLights=!1,this.toneMapping=0,this.toneMappingExposure=1;const p=this;let q=!1,r=0,s=0,t=null,u=-1,v=null;const w=new bl(),x=new bl();let y=null,z=b.width,A=b.height,B=1,C=null,D=null;const E=new bl(0,0,z,A),F=new bl(0,0,z,A);let G=!1;const H=[],I=new yR();let J=!1,K=!1,L=null;const M=new dw(),N=new Sp(),O={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function P(){return null===t?B:1}let Q=c;function R(a,c){for(let d=0;d<a.length;d++){const e=a[d],f=b.getContext(e,c);if(null!==f)return f}return null}try{const S={alpha:d,depth:e,stencil:f,antialias:g,premultipliedAlpha:h,preserveDrawingBuffer:i,powerPreference:j,failIfMajorPerformanceCaveat:k};if("setAttribute"in b&&b.setAttribute("data-engine","three.js r135"),b.addEventListener("webglcontextlost",sa,!1),b.addEventListener("webglcontextrestored",ta,!1),null===Q){const T=["webgl2","webgl","experimental-webgl"];if(!0===p.isWebGL1Renderer&&T.shift(),Q=R(T,S),null===Q){if(R(T))throw new Error("Error creating WebGL context with your selected attributes.");throw new Error("Error creating WebGL context.")}}void 0===Q.getShaderPrecisionFormat&&(Q.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(U){throw console.error("THREE.WebGLRenderer: "+U.message),U}let V,W,X,Y,Z,$,_,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa;function qa(){V=new AV(Q),W=new eT(Q,V,a),V.init(W),oa=new IX(Q,V,W),X=new GX(Q,V,W),H[0]=1029,Y=new DV(Q),Z=new oX(),$=new HX(Q,V,X,Z,W,oa,Y),_=new gT(p),aa=new zV(p),ba=new xS(Q,W),pa=new cT(Q,V,ba,W),ca=new BV(Q,ba,Y,pa),da=new NV(Q,ca,ba,Y),la=new MV(Q,W,$),ia=new fT(Z),ea=new nX(p,_,aa,V,W,pa,ia),fa=new ZY(Z),ga=new sX(Z),ha=new yX(V,W),ka=new bT(p,_,X,da,h),ja=new FX(p,da,W),ma=new dT(Q,V,Y,W),na=new CV(Q,V,Y,W),Y.programs=ea.programs,p.capabilities=W,p.extensions=V,p.properties=Z,p.renderLists=ga,p.shadowMap=ja,p.state=X,p.info=Y}qa();const ra=new rY(p,Q);function sa(a){a.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),q=!0}function ta(){console.log("THREE.WebGLRenderer: Context Restored."),q=!1;const a=Y.autoReset,b=ja.enabled,c=ja.autoUpdate,d=ja.needsUpdate,e=ja.type;qa(),Y.autoReset=a,ja.enabled=b,ja.autoUpdate=c,ja.needsUpdate=d,ja.type=e}function ua(a){const b=a.target;b.removeEventListener("dispose",ua),va(b)}function va(a){wa(a),Z.remove(a)}function wa(a){const b=Z.get(a).programs;void 0!==b&&b.forEach(function(a){ea.releaseProgram(a)})}this.xr=ra,this.getContext=function(){return Q},this.getContextAttributes=function(){return Q.getContextAttributes()},this.forceContextLoss=function(){const a=V.get("WEBGL_lose_context");a&&a.loseContext()},this.forceContextRestore=function(){const a=V.get("WEBGL_lose_context");a&&a.restoreContext()},this.getPixelRatio=function(){return B},this.setPixelRatio=function(a){void 0!==a&&(B=a,this.setSize(z,A,!1))},this.getSize=function(a){return a.set(z,A)},this.setSize=function(a,c,d){if(ra.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}z=a,A=c,b.width=Math.floor(a*B),b.height=Math.floor(c*B),!1!==d&&(b.style.width=a+"px",b.style.height=c+"px"),this.setViewport(0,0,a,c)},this.getDrawingBufferSize=function(a){return a.set(z*B,A*B).floor()},this.setDrawingBufferSize=function(a,c,d){z=a,A=c,B=d,b.width=Math.floor(a*d),b.height=Math.floor(c*d),this.setViewport(0,0,a,c)},this.getCurrentViewport=function(a){return a.copy(w)},this.getViewport=function(a){return a.copy(E)},this.setViewport=function(a,b,c,d){a.isVector4?E.set(a.x,a.y,a.z,a.w):E.set(a,b,c,d),X.viewport(w.copy(E).multiplyScalar(B).floor())},this.getScissor=function(a){return a.copy(F)},this.setScissor=function(a,b,c,d){a.isVector4?F.set(a.x,a.y,a.z,a.w):F.set(a,b,c,d),X.scissor(x.copy(F).multiplyScalar(B).floor())},this.getScissorTest=function(){return G},this.setScissorTest=function(a){X.setScissorTest(G=a)},this.setOpaqueSort=function(a){C=a},this.setTransparentSort=function(a){D=a},this.getClearColor=function(a){return a.copy(ka.getClearColor())},this.setClearColor=function(){ka.setClearColor.apply(ka,arguments)},this.getClearAlpha=function(){return ka.getClearAlpha()},this.setClearAlpha=function(){ka.setClearAlpha.apply(ka,arguments)},this.clear=function(a,b,c){let d=0;(void 0===a||a)&&(d|=16384),(void 0===b||b)&&(d|=256),(void 0===c||c)&&(d|=1024),Q.clear(d)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){b.removeEventListener("webglcontextlost",sa,!1),b.removeEventListener("webglcontextrestored",ta,!1),ga.dispose(),ha.dispose(),Z.dispose(),_.dispose(),aa.dispose(),da.dispose(),pa.dispose(),ra.dispose(),ra.removeEventListener("sessionstart",ya),ra.removeEventListener("sessionend",za),L&&(L.dispose(),L=null),Aa.stop()},this.renderBufferDirect=function(a,b,c,d,e,f){null===b&&(b=O);const g=e.isMesh&&0>e.matrixWorld.determinant(),h=Ia(a,b,c,d,e);X.setMaterial(d,g);let i=c.index;const j=c.attributes.position;if(null===i){if(void 0===j||0===j.count)return}else if(0===i.count)return;let k=1;!0===d.wireframe&&(i=ca.getWireframeAttribute(c),k=2),pa.setup(e,d,h,c,i);let l,m=ma;null!==i&&(l=ba.get(i),(m=na).setIndex(l));const n=null!==i?i.count:j.count,o=c.drawRange.start*k,p=c.drawRange.count*k,q=null!==f?f.start*k:0,r=null!==f?f.count*k:1/0,s=Math.max(o,q),t=Math.max(0,Math.min(n,o+p,q+r)-1-s+1);if(0!==t){if(e.isMesh)!0===d.wireframe?(X.setLineWidth(d.wireframeLinewidth*P()),m.setMode(1)):m.setMode(4);else if(e.isLine){let u=d.linewidth;void 0===u&&(u=1),X.setLineWidth(u*P()),e.isLineSegments?m.setMode(1):e.isLineLoop?m.setMode(2):m.setMode(3)}else e.isPoints?m.setMode(0):e.isSprite&&m.setMode(4);if(e.isInstancedMesh)m.renderInstances(s,t,e.count);else if(c.isInstancedBufferGeometry){const v=Math.min(c.instanceCount,c._maxInstanceCount);m.renderInstances(s,t,v)}else m.render(s,t)}},this.compile=function(a,b){(m=ha.get(a)).init(),o.push(m),a.traverseVisible(function(a){a.isLight&&a.layers.test(b.layers)&&(m.pushLight(a),a.castShadow&&m.pushShadow(a))}),m.setupLights(p.physicallyCorrectLights),a.traverse(function(b){const c=b.material;if(c)if(Array.isArray(c))for(let d=0;d<c.length;d++){const e=c[d];Ga(e,a,b)}else Ga(c,a,b)}),o.pop(),m=null};let xa=null;function ya(){Aa.stop()}function za(){Aa.start()}const Aa=new wS();function Ba(a,b,c,d){if(!1!==a.visible){const e=a.layers.test(b.layers);if(e){if(a.isGroup)c=a.renderOrder;else if(a.isLOD)!0===a.autoUpdate&&a.update(b);else if(a.isLight)m.pushLight(a),a.castShadow&&m.pushShadow(a);else if(a.isSprite){if(!a.frustumCulled||I.intersectsSprite(a)){d&&N.setFromMatrixPosition(a.matrixWorld).applyMatrix4(M);const f=da.update(a),g=a.material;g.visible&&l.push(a,f,g,c,N.z,null)}}else if((a.isMesh||a.isLine||a.isPoints)&&(a.isSkinnedMesh&&a.skeleton.frame!==Y.render.frame&&(a.skeleton.update(),a.skeleton.frame=Y.render.frame),!a.frustumCulled||I.intersectsObject(a))){d&&N.setFromMatrixPosition(a.matrixWorld).applyMatrix4(M);const h=da.update(a),i=a.material;if(Array.isArray(i)){const j=h.groups;for(let k=0,n=j.length;k<n;k++){const o=j[k],p=i[o.materialIndex];p&&p.visible&&l.push(a,h,p,c,N.z,o)}}else i.visible&&l.push(a,h,i,c,N.z,null)}}const q=a.children;for(let r=0,s=q.length;r<s;r++)Ba(q[r],b,c,d)}}function Ca(a,b,c,d){const e=a.opaque,f=a.transmissive,g=a.transparent;m.setupLightsView(c),f.length>0&&Da(e,b,c),d&&X.viewport(w.copy(d)),e.length>0&&Ea(e,b,c),f.length>0&&Ea(f,b,c),g.length>0&&Ea(g,b,c)}function Da(a,b,c){if(null===L){const d=!0===g&& !0===W.isWebGL2,e=d?en:Km;L=new e(1024,1024,{generateMipmaps:!0,type:null!==oa.convert(1016)?1016:1009,minFilter:1008,magFilter:1003,wrapS:1001,wrapT:1001,useRenderToTexture:V.has("WEBGL_multisampled_render_to_texture")})}const f=p.getRenderTarget();p.setRenderTarget(L),p.clear();const h=p.toneMapping;p.toneMapping=0,Ea(a,b,c),p.toneMapping=h,$.updateMultisampleRenderTarget(L),$.updateRenderTargetMipmap(L),p.setRenderTarget(f)}function Ea(a,b,c){const d=!0===b.isScene?b.overrideMaterial:null;for(let e=0,f=a.length;e<f;e++){const g=a[e],h=g.object,i=g.geometry,j=null===d?g.material:d,k=g.group;h.layers.test(c.layers)&&Fa(h,b,c,i,j,k)}}function Fa(a,b,c,d,e,f){a.onBeforeRender(p,b,c,d,e,f),a.modelViewMatrix.multiplyMatrices(c.matrixWorldInverse,a.matrixWorld),a.normalMatrix.getNormalMatrix(a.modelViewMatrix),e.onBeforeRender(p,b,c,d,a,f),!0===e.transparent&&2===e.side?(e.side=zg,e.needsUpdate=!0,p.renderBufferDirect(c,b,d,e,a,f),e.side=0,e.needsUpdate=!0,p.renderBufferDirect(c,b,d,e,a,f),e.side=2):p.renderBufferDirect(c,b,d,e,a,f),a.onAfterRender(p,b,c,d,e,f)}function Ga(a,b,c){!0!==b.isScene&&(b=O);const d=Z.get(a),e=m.state.lights,f=m.state.shadowsArray,g=e.state.version,h=ea.getParameters(a,e.state,f,b,c),i=ea.getProgramCacheKey(h);let j=d.programs;d.environment=a.isMeshStandardMaterial?b.environment:null,d.fog=b.fog,d.envMap=(a.isMeshStandardMaterial?aa:_).get(a.envMap||d.environment),void 0===j&&(a.addEventListener("dispose",ua),j=new Map(),d.programs=j);let k=j.get(i);if(void 0!==k){if(d.currentProgram===k&&d.lightsStateVersion===g)return Ha(a,h),k}else h.uniforms=ea.getUniforms(a),a.onBuild(c,h,p),a.onBeforeCompile(h,p),k=ea.acquireProgram(h,i),j.set(i,k),d.uniforms=h.uniforms;const l=d.uniforms;(a.isShaderMaterial||a.isRawShaderMaterial)&& !0!==a.clipping||(l.clippingPlanes=ia.uniform),Ha(a,h),d.needsLights=Ka(a),d.lightsStateVersion=g,d.needsLights&&(l.ambientLightColor.value=e.state.ambient,l.lightProbe.value=e.state.probe,l.directionalLights.value=e.state.directional,l.directionalLightShadows.value=e.state.directionalShadow,l.spotLights.value=e.state.spot,l.spotLightShadows.value=e.state.spotShadow,l.rectAreaLights.value=e.state.rectArea,l.ltc_1.value=e.state.rectAreaLTC1,l.ltc_2.value=e.state.rectAreaLTC2,l.pointLights.value=e.state.point,l.pointLightShadows.value=e.state.pointShadow,l.hemisphereLights.value=e.state.hemi,l.directionalShadowMap.value=e.state.directionalShadowMap,l.directionalShadowMatrix.value=e.state.directionalShadowMatrix,l.spotShadowMap.value=e.state.spotShadowMap,l.spotShadowMatrix.value=e.state.spotShadowMatrix,l.pointShadowMap.value=e.state.pointShadowMap,l.pointShadowMatrix.value=e.state.pointShadowMatrix);const n=k.getUniforms(),o=WW.seqWithValue(n.seq,l);return d.currentProgram=k,d.uniformsList=o,k}function Ha(a,b){const c=Z.get(a);c.outputEncoding=b.outputEncoding,c.instancing=b.instancing,c.skinning=b.skinning,c.morphTargets=b.morphTargets,c.morphNormals=b.morphNormals,c.morphTargetsCount=b.morphTargetsCount,c.numClippingPlanes=b.numClippingPlanes,c.numIntersection=b.numClipIntersection,c.vertexAlphas=b.vertexAlphas,c.vertexTangents=b.vertexTangents}function Ia(a,b,c,d,e){!0!==b.isScene&&(b=O),$.resetTextureUnits();const f=b.fog,g=d.isMeshStandardMaterial?b.environment:null,h=null===t?p.outputEncoding:t.texture.encoding,i=(d.isMeshStandardMaterial?aa:_).get(d.envMap||g),j=!0===d.vertexColors&&!!c.attributes.color&&4===c.attributes.color.itemSize,k=!!d.normalMap&&!!c.attributes.tangent,l=!!c.morphAttributes.position,n=!!c.morphAttributes.normal,o=c.morphAttributes.position?c.morphAttributes.position.length:0,q=Z.get(d),r=m.state.lights;if(!0===J&&(!0===K||a!==v)){const s=a===v&&d.id===u;ia.setState(d,a,s)}let w=!1;d.version===q.__version?q.needsLights&&q.lightsStateVersion!==r.state.version?w=!0:q.outputEncoding!==h?w=!0:e.isInstancedMesh&& !1===q.instancing?w=!0:e.isInstancedMesh|| !0!==q.instancing?e.isSkinnedMesh&& !1===q.skinning?w=!0:e.isSkinnedMesh|| !0!==q.skinning?q.envMap!==i?w=!0:d.fog&&q.fog!==f?w=!0:void 0!==q.numClippingPlanes&&(q.numClippingPlanes!==ia.numPlanes||q.numIntersection!==ia.numIntersection)?w=!0:q.vertexAlphas!==j?w=!0:q.vertexTangents!==k?w=!0:q.morphTargets!==l?w=!0:q.morphNormals!==n?w=!0:!0===W.isWebGL2&&q.morphTargetsCount!==o&&(w=!0):w=!0:w=!0:(w=!0,q.__version=d.version);let x=q.currentProgram;!0===w&&(x=Ga(d,b,e));let y=!1,z=!1,C=!1;const D=x.getUniforms(),E=q.uniforms;if(X.useProgram(x.program)&&(y=!0,z=!0,C=!0),d.id!==u&&(u=d.id,z=!0),y||v!==a){if(D.setValue(Q,"projectionMatrix",a.projectionMatrix),W.logarithmicDepthBuffer&&D.setValue(Q,"logDepthBufFC",2/(Math.log(a.far+1)/Math.LN2)),v!==a&&(v=a,z=!0,C=!0),d.isShaderMaterial||d.isMeshPhongMaterial||d.isMeshToonMaterial||d.isMeshStandardMaterial||d.envMap){const F=D.map.cameraPosition;void 0!==F&&F.setValue(Q,N.setFromMatrixPosition(a.matrixWorld))}(d.isMeshPhongMaterial||d.isMeshToonMaterial||d.isMeshLambertMaterial||d.isMeshBasicMaterial||d.isMeshStandardMaterial||d.isShaderMaterial)&&D.setValue(Q,"isOrthographic",!0===a.isOrthographicCamera),(d.isMeshPhongMaterial||d.isMeshToonMaterial||d.isMeshLambertMaterial||d.isMeshBasicMaterial||d.isMeshStandardMaterial||d.isShaderMaterial||d.isShadowMaterial||e.isSkinnedMesh)&&D.setValue(Q,"viewMatrix",a.matrixWorldInverse)}if(e.isSkinnedMesh){D.setOptional(Q,e,"bindMatrix"),D.setOptional(Q,e,"bindMatrixInverse");const G=e.skeleton;G&&(W.floatVertexTextures?(null===G.boneTexture&&G.computeBoneTexture(),D.setValue(Q,"boneTexture",G.boneTexture,$),D.setValue(Q,"boneTextureSize",G.boneTextureSize)):D.setOptional(Q,G,"boneMatrices"))}return c&&(void 0!==c.morphAttributes.position|| void 0!==c.morphAttributes.normal)&&la.update(e,c,d,x),(z||q.receiveShadow!==e.receiveShadow)&&(q.receiveShadow=e.receiveShadow,D.setValue(Q,"receiveShadow",e.receiveShadow)),z&&(D.setValue(Q,"toneMappingExposure",p.toneMappingExposure),q.needsLights&&Ja(E,C),f&&d.fog&&fa.refreshFogUniforms(E,f),fa.refreshMaterialUniforms(E,d,B,A,L),WW.upload(Q,q.uniformsList,E,$)),d.isShaderMaterial&& !0===d.uniformsNeedUpdate&&(WW.upload(Q,q.uniformsList,E,$),d.uniformsNeedUpdate=!1),d.isSpriteMaterial&&D.setValue(Q,"center",e.center),D.setValue(Q,"modelViewMatrix",e.modelViewMatrix),D.setValue(Q,"normalMatrix",e.normalMatrix),D.setValue(Q,"modelMatrix",e.matrixWorld),x}function Ja(a,b){a.ambientLightColor.needsUpdate=b,a.lightProbe.needsUpdate=b,a.directionalLights.needsUpdate=b,a.directionalLightShadows.needsUpdate=b,a.pointLights.needsUpdate=b,a.pointLightShadows.needsUpdate=b,a.spotLights.needsUpdate=b,a.spotLightShadows.needsUpdate=b,a.rectAreaLights.needsUpdate=b,a.hemisphereLights.needsUpdate=b}function Ka(a){return a.isMeshLambertMaterial||a.isMeshToonMaterial||a.isMeshPhongMaterial||a.isMeshStandardMaterial||a.isShadowMaterial||a.isShaderMaterial&& !0===a.lights}Aa.setAnimationLoop(function(a){xa&&xa(a)}),"undefined"!=typeof window&&Aa.setContext(window),this.setAnimationLoop=function(a){xa=a,ra.setAnimationLoop(a),null===a?Aa.stop():Aa.start()},ra.addEventListener("sessionstart",ya),ra.addEventListener("sessionend",za),this.render=function(a,b){if(void 0!==b&& !0!==b.isCamera){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(!0!==q){!0===a.autoUpdate&&a.updateMatrixWorld(),null===b.parent&&b.updateMatrixWorld(),!0===ra.enabled&& !0===ra.isPresenting&&(!0===ra.cameraAutoUpdate&&ra.updateCamera(b),b=ra.getCamera()),!0===a.isScene&&a.onBeforeRender(p,a,b,t),(m=ha.get(a,o.length)).init(),o.push(m),M.multiplyMatrices(b.projectionMatrix,b.matrixWorldInverse),I.setFromProjectionMatrix(M),K=this.localClippingEnabled,J=ia.init(this.clippingPlanes,K,b),(l=ga.get(a,n.length)).init(),n.push(l),Ba(a,b,0,p.sortObjects),l.finish(),!0===p.sortObjects&&l.sort(C,D),!0===J&&ia.beginShadows();const c=m.state.shadowsArray;if(ja.render(c,a,b),!0===J&&ia.endShadows(),!0===this.info.autoReset&&this.info.reset(),ka.render(l,a),m.setupLights(p.physicallyCorrectLights),b.isArrayCamera){const d=b.cameras;for(let e=0,f=d.length;e<f;e++){const g=d[e];Ca(l,a,g,g.viewport)}}else Ca(l,a,b);null!==t&&($.updateMultisampleRenderTarget(t),$.updateRenderTargetMipmap(t)),!0===a.isScene&&a.onAfterRender(p,a,b),X.buffers.depth.setTest(!0),X.buffers.depth.setMask(!0),X.buffers.color.setMask(!0),X.setPolygonOffset(!1),pa.resetDefaultState(),u=-1,v=null,o.pop(),m=o.length>0?o[o.length-1]:null,n.pop(),l=n.length>0?n[n.length-1]:null}},this.getActiveCubeFace=function(){return r},this.getActiveMipmapLevel=function(){return s},this.getRenderTarget=function(){return t},this.setRenderTargetTextures=function(a,b,c){Z.get(a.texture).__webglTexture=b,Z.get(a.depthTexture).__webglTexture=c;const d=Z.get(a);d.__hasExternalTextures=!0,d.__hasExternalTextures&&(d.__autoAllocateDepthBuffer=void 0===c,!d.__autoAllocateDepthBuffer&&a.useRenderToTexture&&(console.warn("render-to-texture extension was disabled because an external texture was provided"),a.useRenderToTexture=!1,a.useRenderbuffer=!0))},this.setRenderTargetFramebuffer=function(a,b){const c=Z.get(a);c.__webglFramebuffer=b,c.__useDefaultFramebuffer=void 0===b},this.setRenderTarget=function(a,b=0,c=0){t=a,r=b,s=c;let d=!0;if(a){const e=Z.get(a);void 0!==e.__useDefaultFramebuffer?(X.bindFramebuffer(36160,null),d=!1):void 0===e.__webglFramebuffer?$.setupRenderTarget(a):e.__hasExternalTextures&&$.rebindTextures(a,Z.get(a.texture).__webglTexture,Z.get(a.depthTexture).__webglTexture)}let f=null,g=!1,h=!1;if(a){const i=a.texture;(i.isDataTexture3D||i.isDataTexture2DArray)&&(h=!0);const j=Z.get(a).__webglFramebuffer;a.isWebGLCubeRenderTarget?(f=j[b],g=!0):f=a.useRenderbuffer?Z.get(a).__webglMultisampledFramebuffer:j,w.copy(a.viewport),x.copy(a.scissor),y=a.scissorTest}else w.copy(E).multiplyScalar(B).floor(),x.copy(F).multiplyScalar(B).floor(),y=G;const k=X.bindFramebuffer(36160,f);if(k&&W.drawBuffers&&d){let l=!1;if(a)if(a.isWebGLMultipleRenderTargets){const m=a.texture;if(H.length!==m.length||36064!==H[0]){for(let n=0,o=m.length;n<o;n++)H[n]=36064+n;H.length=m.length,l=!0}}else(1!==H.length||36064!==H[0])&&(H[0]=36064,H.length=1,l=!0);else(1!==H.length||1029!==H[0])&&(H[0]=1029,H.length=1,l=!0);l&&(W.isWebGL2?Q.drawBuffers(H):V.get("WEBGL_draw_buffers").drawBuffersWEBGL(H))}if(X.viewport(w),X.scissor(x),X.setScissorTest(y),g){const p=Z.get(a.texture);Q.framebufferTexture2D(36160,36064,34069+b,p.__webglTexture,c)}else if(h){const q=Z.get(a.texture),v=b||0;Q.framebufferTextureLayer(36160,36064,q.__webglTexture,c||0,v)}u=-1},this.readRenderTargetPixels=function(a,b,c,d,e,f,g){if(!(a&&a.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let h=Z.get(a).__webglFramebuffer;if(a.isWebGLCubeRenderTarget&& void 0!==g&&(h=h[g]),h){X.bindFramebuffer(36160,h);try{const i=a.texture,j=i.format,k=i.type;if(1023!==j&&oa.convert(j)!==Q.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const l=1016===k&&(V.has("EXT_color_buffer_half_float")||W.isWebGL2&&V.has("EXT_color_buffer_float"));if(1009!==k&&oa.convert(k)!==Q.getParameter(35738)&&!(1015===k&&(W.isWebGL2||V.has("OES_texture_float")||V.has("WEBGL_color_buffer_float")))&&!l){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}36053===Q.checkFramebufferStatus(36160)?b>=0&&b<=a.width-d&&c>=0&&c<=a.height-e&&Q.readPixels(b,c,d,e,oa.convert(j),oa.convert(k),f):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{const m=null!==t?Z.get(t).__webglFramebuffer:null;X.bindFramebuffer(36160,m)}}},this.copyFramebufferToTexture=function(a,b,c=0){const d=Math.pow(2,-c),e=Math.floor(b.image.width*d),f=Math.floor(b.image.height*d);let g=oa.convert(b.format);W.isWebGL2&&(6407===g&&(g=32849),6408===g&&(g=32856)),$.setTexture2D(b,0),Q.copyTexImage2D(3553,c,g,a.x,a.y,e,f,0),X.unbindTexture()},this.copyTextureToTexture=function(a,b,c,d=0){const e=b.image.width,f=b.image.height,g=oa.convert(c.format),h=oa.convert(c.type);$.setTexture2D(c,0),Q.pixelStorei(37440,c.flipY),Q.pixelStorei(37441,c.premultiplyAlpha),Q.pixelStorei(3317,c.unpackAlignment),b.isDataTexture?Q.texSubImage2D(3553,d,a.x,a.y,e,f,g,h,b.image.data):b.isCompressedTexture?Q.compressedTexSubImage2D(3553,d,a.x,a.y,b.mipmaps[0].width,b.mipmaps[0].height,g,b.mipmaps[0].data):Q.texSubImage2D(3553,d,a.x,a.y,g,h,b.image),0===d&&c.generateMipmaps&&Q.generateMipmap(3553),X.unbindTexture()},this.copyTextureToTexture3D=function(a,b,c,d,e=0){if(p.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const f=a.max.x-a.min.x+1,g=a.max.y-a.min.y+1,h=a.max.z-a.min.z+1,i=oa.convert(d.format),j=oa.convert(d.type);let k;if(d.isDataTexture3D)$.setTexture3D(d,0),k=32879;else if(d.isDataTexture2DArray)$.setTexture2DArray(d,0),k=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}Q.pixelStorei(37440,d.flipY),Q.pixelStorei(37441,d.premultiplyAlpha),Q.pixelStorei(3317,d.unpackAlignment);const l=Q.getParameter(3314),m=Q.getParameter(32878),n=Q.getParameter(3316),o=Q.getParameter(3315),q=Q.getParameter(32877),r=c.isCompressedTexture?c.mipmaps[0]:c.image;Q.pixelStorei(3314,r.width),Q.pixelStorei(32878,r.height),Q.pixelStorei(3316,a.min.x),Q.pixelStorei(3315,a.min.y),Q.pixelStorei(32877,a.min.z),c.isDataTexture||c.isDataTexture3D?Q.texSubImage3D(k,e,b.x,b.y,b.z,f,g,h,i,j,r.data):c.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Q.compressedTexSubImage3D(k,e,b.x,b.y,b.z,f,g,h,i,r.data)):Q.texSubImage3D(k,e,b.x,b.y,b.z,f,g,h,i,j,r),Q.pixelStorei(3314,l),Q.pixelStorei(32878,m),Q.pixelStorei(3316,n),Q.pixelStorei(3315,o),Q.pixelStorei(32877,q),0===e&&d.generateMipmaps&&Q.generateMipmap(k),X.unbindTexture()},this.initTexture=function(a){$.setTexture2D(a,0),X.unbindTexture()},this.resetState=function(){r=0,s=0,t=null,X.reset(),pa.reset()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}$Y.prototype.isWebGLRenderer=!0,(class extends $Y{}).prototype.isWebGL1Renderer=!0;class _Y{constructor(aZ,bZ=0.00025){this.name="",this.color=new pG(aZ),this.density=bZ}clone(){return new _Y(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}_Y.prototype.isFogExp2=!0;class cZ{constructor(dZ,eZ=1,fZ=1000){this.name="",this.color=new pG(dZ),this.near=eZ,this.far=fZ}clone(){return new cZ(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}cZ.prototype.isFog=!0;class gZ extends hC{constructor(){super(),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(hZ,iZ){return super.copy(hZ,iZ),null!==hZ.background&&(this.background=hZ.background.clone()),null!==hZ.environment&&(this.environment=hZ.environment.clone()),null!==hZ.fog&&(this.fog=hZ.fog.clone()),null!==hZ.overrideMaterial&&(this.overrideMaterial=hZ.overrideMaterial.clone()),this.autoUpdate=hZ.autoUpdate,this.matrixAutoUpdate=hZ.matrixAutoUpdate,this}toJSON(jZ){const kZ=super.toJSON(jZ);return null!==this.fog&&(kZ.object.fog=this.fog.toJSON()),kZ}}gZ.prototype.isScene=!0;class lZ{constructor(mZ,nZ){this.array=mZ,this.stride=nZ,this.count=void 0!==mZ?mZ.length/nZ:0,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Yg()}onUploadCallback(){}set needsUpdate(oZ){!0===oZ&&this.version++}setUsage(pZ){return this.usage=pZ,this}copy(qZ){return this.array=new qZ.array.constructor(qZ.array),this.count=qZ.count,this.stride=qZ.stride,this.usage=qZ.usage,this}copyAt(rZ,sZ,tZ){rZ*=this.stride,tZ*=sZ.stride;for(let uZ=0,vZ=this.stride;uZ<vZ;uZ++)this.array[rZ+uZ]=sZ.array[tZ+uZ];return this}set(wZ,xZ=0){return this.array.set(wZ,xZ),this}clone(yZ){void 0===yZ.arrayBuffers&&(yZ.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Yg()),void 0===yZ.arrayBuffers[this.array.buffer._uuid]&&(yZ.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const zZ=new this.array.constructor(yZ.arrayBuffers[this.array.buffer._uuid]),AZ=new this.constructor(zZ,this.stride);return AZ.setUsage(this.usage),AZ}onUpload(BZ){return this.onUploadCallback=BZ,this}toJSON(CZ){return void 0===CZ.arrayBuffers&&(CZ.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Yg()),void 0===CZ.arrayBuffers[this.array.buffer._uuid]&&(CZ.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}lZ.prototype.isInterleavedBuffer=!0;const DZ=new Sp();class EZ{constructor(FZ,GZ,HZ,IZ=!1){this.name="",this.data=FZ,this.itemSize=GZ,this.offset=HZ,this.normalized=!0===IZ}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(JZ){this.data.needsUpdate=JZ}applyMatrix4(KZ){for(let LZ=0,MZ=this.data.count;LZ<MZ;LZ++)DZ.x=this.getX(LZ),DZ.y=this.getY(LZ),DZ.z=this.getZ(LZ),DZ.applyMatrix4(KZ),this.setXYZ(LZ,DZ.x,DZ.y,DZ.z);return this}applyNormalMatrix(NZ){for(let OZ=0,PZ=this.count;OZ<PZ;OZ++)DZ.x=this.getX(OZ),DZ.y=this.getY(OZ),DZ.z=this.getZ(OZ),DZ.applyNormalMatrix(NZ),this.setXYZ(OZ,DZ.x,DZ.y,DZ.z);return this}transformDirection(QZ){for(let RZ=0,SZ=this.count;RZ<SZ;RZ++)DZ.x=this.getX(RZ),DZ.y=this.getY(RZ),DZ.z=this.getZ(RZ),DZ.transformDirection(QZ),this.setXYZ(RZ,DZ.x,DZ.y,DZ.z);return this}setX(TZ,UZ){return this.data.array[TZ*this.data.stride+this.offset]=UZ,this}setY(VZ,WZ){return this.data.array[VZ*this.data.stride+this.offset+1]=WZ,this}setZ(XZ,YZ){return this.data.array[XZ*this.data.stride+this.offset+2]=YZ,this}setW(ZZ,$Z){return this.data.array[ZZ*this.data.stride+this.offset+3]=$Z,this}getX(_Z){return this.data.array[_Z*this.data.stride+this.offset]}getY(a$){return this.data.array[a$*this.data.stride+this.offset+1]}getZ(b$){return this.data.array[b$*this.data.stride+this.offset+2]}getW(c$){return this.data.array[c$*this.data.stride+this.offset+3]}setXY(d$,e$,f$){return d$=d$*this.data.stride+this.offset,this.data.array[d$+0]=e$,this.data.array[d$+1]=f$,this}setXYZ(g$,h$,i$,j$){return g$=g$*this.data.stride+this.offset,this.data.array[g$+0]=h$,this.data.array[g$+1]=i$,this.data.array[g$+2]=j$,this}setXYZW(k$,l$,m$,n$,o$){return k$=k$*this.data.stride+this.offset,this.data.array[k$+0]=l$,this.data.array[k$+1]=m$,this.data.array[k$+2]=n$,this.data.array[k$+3]=o$,this}clone(p$){if(void 0!==p$)return void 0===p$.interleavedBuffers&&(p$.interleavedBuffers={}),void 0===p$.interleavedBuffers[this.data.uuid]&&(p$.interleavedBuffers[this.data.uuid]=this.data.clone(p$)),new EZ(p$.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized);{console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const q$=[];for(let r$=0;r$<this.count;r$++){const s$=r$*this.data.stride+this.offset;for(let t$=0;t$<this.itemSize;t$++)q$.push(this.data.array[s$+t$])}return new PH(new this.array.constructor(q$),this.itemSize,this.normalized)}}toJSON(u$){if(void 0!==u$)return void 0===u$.interleavedBuffers&&(u$.interleavedBuffers={}),void 0===u$.interleavedBuffers[this.data.uuid]&&(u$.interleavedBuffers[this.data.uuid]=this.data.toJSON(u$)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized};{console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const v$=[];for(let w$=0;w$<this.count;w$++){const x$=w$*this.data.stride+this.offset;for(let y$=0;y$<this.itemSize;y$++)v$.push(this.data.array[x$+y$])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:v$,normalized:this.normalized}}}}EZ.prototype.isInterleavedBufferAttribute=!0;class z$ extends TF{constructor(A$){super(),this.type="SpriteMaterial",this.color=new pG(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(A$)}copy(B$){return super.copy(B$),this.color.copy(B$.color),this.map=B$.map,this.alphaMap=B$.alphaMap,this.rotation=B$.rotation,this.sizeAttenuation=B$.sizeAttenuation,this}}z$.prototype.isSpriteMaterial=!0;let C$;const D$=new Sp(),E$=new Sp(),F$=new Sp(),G$=new eh(),H$=new eh(),I$=new dw(),J$=new Sp(),K$=new Sp(),L$=new Sp(),M$=new eh(),N$=new eh(),O$=new eh();function P$(a,b,c,d,e,f){G$.subVectors(a,c).addScalar(0.5).multiply(d),void 0!==e?(H$.x=f*G$.x-e*G$.y,H$.y=e*G$.x+f*G$.y):H$.copy(G$),a.copy(b),a.x+=H$.x,a.y+=H$.y,a.applyMatrix4(I$)}(class extends hC{constructor(Q$){if(super(),this.type="Sprite",void 0===C$){C$=new IJ();const R$=new Float32Array([-0.5,-0.5,0,0,0,0.5,-0.5,0,1,0,0.5,0.5,0,1,1,-0.5,0.5,0,0,1]),S$=new lZ(R$,5);C$.setIndex([0,1,2,0,2,3]),C$.setAttribute("position",new EZ(S$,3,0,!1)),C$.setAttribute("uv",new EZ(S$,2,3,!1))}this.geometry=C$,this.material=void 0!==Q$?Q$:new z$(),this.center=new eh(0.5,0.5)}raycast(T$,U$){null===T$.camera&&console.error("THREE.Sprite: \"Raycaster.camera\" needs to be set in order to raycast against sprites."),E$.setFromMatrixScale(this.matrixWorld),I$.copy(T$.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(T$.camera.matrixWorldInverse,this.matrixWorld),F$.setFromMatrixPosition(this.modelViewMatrix),T$.camera.isPerspectiveCamera&& !1===this.material.sizeAttenuation&&E$.multiplyScalar(-F$.z);const V$=this.material.rotation;let W$,X$;0!==V$&&(X$=Math.cos(V$),W$=Math.sin(V$));const Y$=this.center;P$(J$.set(-0.5,-0.5,0),F$,Y$,E$,W$,X$),P$(K$.set(0.5,-0.5,0),F$,Y$,E$,W$,X$),P$(L$.set(0.5,0.5,0),F$,Y$,E$,W$,X$),M$.set(0,0),N$.set(1,0),O$.set(1,1);let Z$=T$.ray.intersectTriangle(J$,K$,L$,!1,D$);if(null!==Z$||(P$(K$.set(-0.5,0.5,0),F$,Y$,E$,W$,X$),N$.set(0,1),null!==(Z$=T$.ray.intersectTriangle(J$,L$,K$,!1,D$)))){const $$=T$.ray.origin.distanceTo(D$);$$<T$.near||$$>T$.far||U$.push({distance:$$,point:D$.clone(),uv:qE.getUV(D$,J$,K$,L$,M$,N$,O$,new eh()),face:null,object:this})}}copy(_$){return super.copy(_$),void 0!==_$.center&&this.center.copy(_$.center),this.material=_$.material,this}}).prototype.isSprite=!0,new Sp(),new Sp();const a_=new Sp(),b_=new bl(),c_=new bl(),d_=new Sp(),e_=new dw();class f_ extends rN{constructor(g_,h_){super(g_,h_),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new dw(),this.bindMatrixInverse=new dw()}copy(i_){return super.copy(i_),this.bindMode=i_.bindMode,this.bindMatrix.copy(i_.bindMatrix),this.bindMatrixInverse.copy(i_.bindMatrixInverse),this.skeleton=i_.skeleton,this}bind(j_,k_){this.skeleton=j_,void 0===k_&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),k_=this.matrixWorld),this.bindMatrix.copy(k_),this.bindMatrixInverse.copy(k_).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const l_=new bl(),m_=this.geometry.attributes.skinWeight;for(let n_=0,o_=m_.count;n_<o_;n_++){l_.x=m_.getX(n_),l_.y=m_.getY(n_),l_.z=m_.getZ(n_),l_.w=m_.getW(n_);const p_=1/l_.manhattanLength();p_!==1/0?l_.multiplyScalar(p_):l_.set(1,0,0,0),m_.setXYZW(n_,l_.x,l_.y,l_.z,l_.w)}}updateMatrixWorld(q_){super.updateMatrixWorld(q_),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(r_,s_){const t_=this.skeleton,u_=this.geometry;b_.fromBufferAttribute(u_.attributes.skinIndex,r_),c_.fromBufferAttribute(u_.attributes.skinWeight,r_),a_.copy(s_).applyMatrix4(this.bindMatrix),s_.set(0,0,0);for(let v_=0;v_<4;v_++){const w_=c_.getComponent(v_);if(0!==w_){const x_=b_.getComponent(v_);e_.multiplyMatrices(t_.bones[x_].matrixWorld,t_.boneInverses[x_]),s_.addScaledVector(d_.copy(a_).applyMatrix4(e_),w_)}}return s_.applyMatrix4(this.bindMatrixInverse)}}f_.prototype.isSkinnedMesh=!0;class y_ extends hC{constructor(){super(),this.type="Bone"}}y_.prototype.isBone=!0;class z_ extends Hk{constructor(A_=null,B_=1,C_=1,D_,E_,F_,G_,H_,I_=1003,J_=1003,K_,L_){super(null,F_,G_,H_,I_,J_,D_,E_,K_,L_),this.image={data:A_,width:B_,height:C_},this.magFilter=I_,this.minFilter=J_,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}z_.prototype.isDataTexture=!0;const M_=new dw(),N_=new dw();class O_{constructor(P_=[],Q_=[]){this.uuid=Yg(),this.bones=P_.slice(0),this.boneInverses=Q_,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const R_=this.bones,S_=this.boneInverses;if(this.boneMatrices=new Float32Array(16*R_.length),0===S_.length)this.calculateInverses();else if(R_.length!==S_.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let T_=0,U_=this.bones.length;T_<U_;T_++)this.boneInverses.push(new dw())}}calculateInverses(){this.boneInverses.length=0;for(let V_=0,W_=this.bones.length;V_<W_;V_++){const X_=new dw();this.bones[V_]&&X_.copy(this.bones[V_].matrixWorld).invert(),this.boneInverses.push(X_)}}pose(){for(let Y_=0,Z_=this.bones.length;Y_<Z_;Y_++){const $_=this.bones[Y_];$_&&$_.matrixWorld.copy(this.boneInverses[Y_]).invert()}for(let __=0,a0=this.bones.length;__<a0;__++){const b0=this.bones[__];b0&&(b0.parent&&b0.parent.isBone?(b0.matrix.copy(b0.parent.matrixWorld).invert(),b0.matrix.multiply(b0.matrixWorld)):b0.matrix.copy(b0.matrixWorld),b0.matrix.decompose(b0.position,b0.quaternion,b0.scale))}}update(){const c0=this.bones,d0=this.boneInverses,e0=this.boneMatrices,f0=this.boneTexture;for(let g0=0,h0=c0.length;g0<h0;g0++){const i0=c0[g0]?c0[g0].matrixWorld:N_;M_.multiplyMatrices(i0,d0[g0]),M_.toArray(e0,16*g0)}null!==f0&&(f0.needsUpdate=!0)}clone(){return new O_(this.bones,this.boneInverses)}computeBoneTexture(){let j0=Math.sqrt(4*this.bones.length);j0=Math.max(j0=bh(j0),4);const k0=new Float32Array(j0*j0*4);k0.set(this.boneMatrices);const l0=new z_(k0,j0,j0,1023,1015);return this.boneMatrices=k0,this.boneTexture=l0,this.boneTextureSize=j0,this}getBoneByName(m0){for(let n0=0,o0=this.bones.length;n0<o0;n0++){const p0=this.bones[n0];if(p0.name===m0)return p0}}dispose(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(q0,r0){this.uuid=q0.uuid;for(let s0=0,t0=q0.bones.length;s0<t0;s0++){const u0=q0.bones[s0];let v0=r0[u0];void 0===v0&&(console.warn("THREE.Skeleton: No bone found with UUID:",u0),v0=new y_()),this.bones.push(v0),this.boneInverses.push(new dw().fromArray(q0.boneInverses[s0]))}return this.init(),this}toJSON(){const w0={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};w0.uuid=this.uuid;const x0=this.bones,y0=this.boneInverses;for(let z0=0,A0=x0.length;z0<A0;z0++){const B0=x0[z0];w0.bones.push(B0.uuid);const C0=y0[z0];w0.boneInverses.push(C0.toArray())}return w0}}class D0 extends PH{constructor(E0,F0,G0,H0=1){"number"==typeof G0&&(H0=G0,G0=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),super(E0,F0,G0),this.meshPerAttribute=H0}copy(I0){return super.copy(I0),this.meshPerAttribute=I0.meshPerAttribute,this}toJSON(){const J0=super.toJSON();return J0.meshPerAttribute=this.meshPerAttribute,J0.isInstancedBufferAttribute=!0,J0}}D0.prototype.isInstancedBufferAttribute=!0;const K0=new dw(),L0=new dw(),M0=[],N0=new rN();(class extends rN{constructor(O0,P0,Q0){super(O0,P0),this.instanceMatrix=new D0(new Float32Array(16*Q0),16),this.instanceColor=null,this.count=Q0,this.frustumCulled=!1}copy(R0){return super.copy(R0),this.instanceMatrix.copy(R0.instanceMatrix),null!==R0.instanceColor&&(this.instanceColor=R0.instanceColor.clone()),this.count=R0.count,this}getColorAt(S0,T0){T0.fromArray(this.instanceColor.array,3*S0)}getMatrixAt(U0,V0){V0.fromArray(this.instanceMatrix.array,16*U0)}raycast(W0,X0){const Y0=this.matrixWorld,Z0=this.count;if(N0.geometry=this.geometry,N0.material=this.material,void 0!==N0.material)for(let $0=0;$0<Z0;$0++){this.getMatrixAt($0,K0),L0.multiplyMatrices(Y0,K0),N0.matrixWorld=L0,N0.raycast(W0,M0);for(let _0=0,a1=M0.length;_0<a1;_0++){const b1=M0[_0];b1.instanceId=$0,b1.object=this,X0.push(b1)}M0.length=0}}setColorAt(c1,d1){null===this.instanceColor&&(this.instanceColor=new D0(new Float32Array(3*this.instanceMatrix.count),3)),d1.toArray(this.instanceColor.array,3*c1)}setMatrixAt(e1,f1){f1.toArray(this.instanceMatrix.array,16*e1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}).prototype.isInstancedMesh=!0;class g1 extends TF{constructor(h1){super(),this.type="LineBasicMaterial",this.color=new pG(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.setValues(h1)}copy(i1){return super.copy(i1),this.color.copy(i1.color),this.linewidth=i1.linewidth,this.linecap=i1.linecap,this.linejoin=i1.linejoin,this}}g1.prototype.isLineBasicMaterial=!0;const j1=new Sp(),k1=new Sp(),l1=new dw(),m1=new Lu(),n1=new au();class o1 extends hC{constructor(p1=new IJ(),q1=new g1()){super(),this.type="Line",this.geometry=p1,this.material=q1,this.updateMorphTargets()}copy(r1){return super.copy(r1),this.material=r1.material,this.geometry=r1.geometry,this}computeLineDistances(){const s1=this.geometry;if(s1.isBufferGeometry)if(null===s1.index){const t1=s1.attributes.position,u1=[0];for(let v1=1,w1=t1.count;v1<w1;v1++)j1.fromBufferAttribute(t1,v1-1),k1.fromBufferAttribute(t1,v1),u1[v1]=u1[v1-1],u1[v1]+=j1.distanceTo(k1);s1.setAttribute("lineDistance",new xJ(u1,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else s1.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}raycast(x1,y1){const z1=this.geometry,A1=this.matrixWorld,B1=x1.params.Line.threshold,C1=z1.drawRange;if(null===z1.boundingSphere&&z1.computeBoundingSphere(),n1.copy(z1.boundingSphere),n1.applyMatrix4(A1),n1.radius+=B1,!1!==x1.ray.intersectsSphere(n1)){l1.copy(A1).invert(),m1.copy(x1.ray).applyMatrix4(l1);const D1=B1/((this.scale.x+this.scale.y+this.scale.z)/3),E1=D1*D1,F1=new Sp(),G1=new Sp(),H1=new Sp(),I1=new Sp(),J1=this.isLineSegments?2:1;if(z1.isBufferGeometry){const K1=z1.index,L1=z1.attributes,M1=L1.position;if(null!==K1){const N1=Math.max(0,C1.start),O1=Math.min(K1.count,C1.start+C1.count);for(let P1=N1,Q1=O1-1;P1<Q1;P1+=J1){const R1=K1.getX(P1),S1=K1.getX(P1+1);F1.fromBufferAttribute(M1,R1),G1.fromBufferAttribute(M1,S1);const T1=m1.distanceSqToSegment(F1,G1,I1,H1);if(!(T1>E1)){I1.applyMatrix4(this.matrixWorld);const U1=x1.ray.origin.distanceTo(I1);U1<x1.near||U1>x1.far||y1.push({distance:U1,point:H1.clone().applyMatrix4(this.matrixWorld),index:P1,face:null,faceIndex:null,object:this})}}}else{const V1=Math.max(0,C1.start),W1=Math.min(M1.count,C1.start+C1.count);for(let X1=V1,Y1=W1-1;X1<Y1;X1+=J1){F1.fromBufferAttribute(M1,X1),G1.fromBufferAttribute(M1,X1+1);const Z1=m1.distanceSqToSegment(F1,G1,I1,H1);if(!(Z1>E1)){I1.applyMatrix4(this.matrixWorld);const $1=x1.ray.origin.distanceTo(I1);$1<x1.near||$1>x1.far||y1.push({distance:$1,point:H1.clone().applyMatrix4(this.matrixWorld),index:X1,face:null,faceIndex:null,object:this})}}}}else z1.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}updateMorphTargets(){const _1=this.geometry;if(_1.isBufferGeometry){const a2=_1.morphAttributes,b2=Object.keys(a2);if(b2.length>0){const c2=a2[b2[0]];if(void 0!==c2){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let d2=0,e2=c2.length;d2<e2;d2++){const f2=c2[d2].name||String(d2);this.morphTargetInfluences.push(0),this.morphTargetDictionary[f2]=d2}}}}else{const g2=_1.morphTargets;void 0!==g2&&g2.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}o1.prototype.isLine=!0;const h2=new Sp(),i2=new Sp();class j2 extends o1{constructor(k2,l2){super(k2,l2),this.type="LineSegments"}computeLineDistances(){const m2=this.geometry;if(m2.isBufferGeometry)if(null===m2.index){const n2=m2.attributes.position,o2=[];for(let p2=0,q2=n2.count;p2<q2;p2+=2)h2.fromBufferAttribute(n2,p2),i2.fromBufferAttribute(n2,p2+1),o2[p2]=0===p2?0:o2[p2-1],o2[p2+1]=o2[p2]+h2.distanceTo(i2);m2.setAttribute("lineDistance",new xJ(o2,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else m2.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}j2.prototype.isLineSegments=!0;class r2 extends o1{constructor(s2,t2){super(s2,t2),this.type="LineLoop"}}r2.prototype.isLineLoop=!0;class u2 extends TF{constructor(v2){super(),this.type="PointsMaterial",this.color=new pG(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.setValues(v2)}copy(w2){return super.copy(w2),this.color.copy(w2.color),this.map=w2.map,this.alphaMap=w2.alphaMap,this.size=w2.size,this.sizeAttenuation=w2.sizeAttenuation,this}}u2.prototype.isPointsMaterial=!0;const x2=new dw(),y2=new Lu(),z2=new au(),A2=new Sp();class B2 extends hC{constructor(C2=new IJ(),D2=new u2()){super(),this.type="Points",this.geometry=C2,this.material=D2,this.updateMorphTargets()}copy(E2){return super.copy(E2),this.material=E2.material,this.geometry=E2.geometry,this}raycast(F2,G2){const H2=this.geometry,I2=this.matrixWorld,J2=F2.params.Points.threshold,K2=H2.drawRange;if(null===H2.boundingSphere&&H2.computeBoundingSphere(),z2.copy(H2.boundingSphere),z2.applyMatrix4(I2),z2.radius+=J2,!1!==F2.ray.intersectsSphere(z2)){x2.copy(I2).invert(),y2.copy(F2.ray).applyMatrix4(x2);const L2=J2/((this.scale.x+this.scale.y+this.scale.z)/3),M2=L2*L2;if(H2.isBufferGeometry){const N2=H2.index,O2=H2.attributes,P2=O2.position;if(null!==N2){const Q2=Math.max(0,K2.start),R2=Math.min(N2.count,K2.start+K2.count);for(let S2=Q2,T2=R2;S2<T2;S2++){const U2=N2.getX(S2);A2.fromBufferAttribute(P2,U2),f3(A2,U2,M2,I2,F2,G2,this)}}else{const V2=Math.max(0,K2.start),W2=Math.min(P2.count,K2.start+K2.count);for(let X2=V2,Y2=W2;X2<Y2;X2++)A2.fromBufferAttribute(P2,X2),f3(A2,X2,M2,I2,F2,G2,this)}}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}updateMorphTargets(){const Z2=this.geometry;if(Z2.isBufferGeometry){const $2=Z2.morphAttributes,_2=Object.keys($2);if(_2.length>0){const a3=$2[_2[0]];if(void 0!==a3){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let b3=0,c3=a3.length;b3<c3;b3++){const d3=a3[b3].name||String(b3);this.morphTargetInfluences.push(0),this.morphTargetDictionary[d3]=b3}}}}else{const e3=Z2.morphTargets;void 0!==e3&&e3.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}function f3(a,b,c,d,e,f,g){const h=y2.distanceSqToPoint(a);if(h<c){const i=new Sp();y2.closestPointToPoint(a,i),i.applyMatrix4(d);const j=e.ray.origin.distanceTo(i);if(j<e.near||j>e.far)return;f.push({distance:j,distanceToRay:Math.sqrt(h),point:i,index:b,face:null,object:g})}}B2.prototype.isPoints=!0,(class extends Hk{constructor(g3,h3,i3,j3,k3,l3,m3,n3,o3){super(g3,h3,i3,j3,k3,l3,m3,n3,o3),this.format=void 0!==m3?m3:1022,this.minFilter=void 0!==l3?l3:1006,this.magFilter=void 0!==k3?k3:1006,this.generateMipmaps=!1;const p3=this;function q3(){p3.needsUpdate=!0,g3.requestVideoFrameCallback(q3)}"requestVideoFrameCallback"in g3&&g3.requestVideoFrameCallback(q3)}clone(){return new this.constructor(this.image).copy(this)}update(){const r3=this.image;!1=="requestVideoFrameCallback"in r3&&r3.readyState>=r3.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}).prototype.isVideoTexture=!0,(class extends Hk{constructor(s3,t3,u3,v3,w3,x3,y3,z3,A3,B3,C3,D3){super(null,x3,y3,z3,A3,B3,v3,w3,C3,D3),this.image={width:t3,height:u3},this.mipmaps=s3,this.flipY=!1,this.generateMipmaps=!1}}).prototype.isCompressedTexture=!0,(class extends Hk{constructor(E3,F3,G3,H3,I3,J3,K3,L3,M3){super(E3,F3,G3,H3,I3,J3,K3,L3,M3),this.needsUpdate=!0}}).prototype.isCanvasTexture=!0;class N3 extends IJ{constructor(O3=1,P3=8,Q3=0,R3=2*Math.PI){super(),this.type="CircleGeometry",this.parameters={radius:O3,segments:P3,thetaStart:Q3,thetaLength:R3},P3=Math.max(3,P3);const S3=[],T3=[],U3=[],V3=[],W3=new Sp(),X3=new eh();T3.push(0,0,0),U3.push(0,0,1),V3.push(0.5,0.5);for(let Y3=0,Z3=3;Y3<=P3;Y3++,Z3+=3){const $3=Q3+Y3/P3*R3;W3.x=O3*Math.cos($3),W3.y=O3*Math.sin($3),T3.push(W3.x,W3.y,W3.z),U3.push(0,0,1),X3.x=(T3[Z3]/O3+1)/2,X3.y=(T3[Z3+1]/O3+1)/2,V3.push(X3.x,X3.y)}for(let _3=1;_3<=P3;_3++)S3.push(_3,_3+1,0);this.setIndex(S3),this.setAttribute("position",new xJ(T3,3)),this.setAttribute("normal",new xJ(U3,3)),this.setAttribute("uv",new xJ(V3,2))}static fromJSON(a4){return new N3(a4.radius,a4.segments,a4.thetaStart,a4.thetaLength)}}class b4 extends IJ{constructor(c4=1,d4=1,e4=1,f4=8,g4=1,h4=!1,i4=0,j4=2*Math.PI){super(),this.type="CylinderGeometry",this.parameters={radiusTop:c4,radiusBottom:d4,height:e4,radialSegments:f4,heightSegments:g4,openEnded:h4,thetaStart:i4,thetaLength:j4};const k4=this;f4=Math.floor(f4),g4=Math.floor(g4);const l4=[],m4=[],n4=[],o4=[];let p4=0;const q4=[],r4=e4/2;let s4=0;function t4(a){const b=p4,c=new eh(),d=new Sp();let e=0;const f=!0===a?c4:d4,g=!0===a?1:-1;for(let h=1;h<=f4;h++)m4.push(0,r4*g,0),n4.push(0,g,0),o4.push(0.5,0.5),p4++;const i=p4;for(let j=0;j<=f4;j++){const k=j/f4,l=k*j4+i4,m=Math.cos(l),n=Math.sin(l);d.x=f*n,d.y=r4*g,d.z=f*m,m4.push(d.x,d.y,d.z),n4.push(0,g,0),c.x=0.5*m+0.5,c.y=0.5*n*g+0.5,o4.push(c.x,c.y),p4++}for(let o=0;o<f4;o++){const p=b+o,q=i+o;!0===a?l4.push(q,q+1,p):l4.push(q+1,q,p),e+=3}k4.addGroup(s4,e,!0===a?1:2),s4+=e}(function(){const a=new Sp(),b=new Sp();let c=0;const d=(d4-c4)/e4;for(let e=0;e<=g4;e++){const f=[],g=e/g4,h=g*(d4-c4)+c4;for(let i=0;i<=f4;i++){const j=i/f4,k=j*j4+i4,l=Math.sin(k),m=Math.cos(k);b.x=h*l,b.y=-g*e4+r4,b.z=h*m,m4.push(b.x,b.y,b.z),a.set(l,d,m).normalize(),n4.push(a.x,a.y,a.z),o4.push(j,1-g),f.push(p4++)}q4.push(f)}for(let n=0;n<f4;n++)for(let o=0;o<g4;o++){const p=q4[o][n],q=q4[o+1][n],r=q4[o+1][n+1],s=q4[o][n+1];l4.push(p,q,s),l4.push(q,r,s),c+=6}k4.addGroup(s4,c,0),s4+=c})(),!1===h4&&(c4>0&&t4(!0),d4>0&&t4(!1)),this.setIndex(l4),this.setAttribute("position",new xJ(m4,3)),this.setAttribute("normal",new xJ(n4,3)),this.setAttribute("uv",new xJ(o4,2))}static fromJSON(u4){return new b4(u4.radiusTop,u4.radiusBottom,u4.height,u4.radialSegments,u4.heightSegments,u4.openEnded,u4.thetaStart,u4.thetaLength)}}class v4 extends b4{constructor(w4=1,x4=1,y4=8,z4=1,A4=!1,B4=0,C4=2*Math.PI){super(0,w4,x4,y4,z4,A4,B4,C4),this.type="ConeGeometry",this.parameters={radius:w4,height:x4,radialSegments:y4,heightSegments:z4,openEnded:A4,thetaStart:B4,thetaLength:C4}}static fromJSON(D4){return new v4(D4.radius,D4.height,D4.radialSegments,D4.heightSegments,D4.openEnded,D4.thetaStart,D4.thetaLength)}}class E4 extends IJ{constructor(F4=[],G4=[],H4=1,I4=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:F4,indices:G4,radius:H4,detail:I4};const J4=[],K4=[];function L4(a,b,c,d){const e=d+1,f=[];for(let g=0;g<=e;g++){f[g]=[];const h=a.clone().lerp(c,g/e),i=b.clone().lerp(c,g/e),j=e-g;for(let k=0;k<=j;k++)0===k&&g===e?f[g][k]=h:f[g][k]=h.clone().lerp(i,k/j)}for(let l=0;l<e;l++)for(let m=0;m<2*(e-l)-1;m++){const n=Math.floor(m/2);m%2==0?(M4(f[l][n+1]),M4(f[l+1][n]),M4(f[l][n])):(M4(f[l][n+1]),M4(f[l+1][n+1]),M4(f[l+1][n]))}}function M4(a){J4.push(a.x,a.y,a.z)}function N4(a,b){const c=3*a;b.x=F4[c+0],b.y=F4[c+1],b.z=F4[c+2]}function O4(a,b,c,d){d<0&&1===a.x&&(K4[b]=a.x-1),0===c.x&&0===c.z&&(K4[b]=d/2/Math.PI+0.5)}function P4(a){return Math.atan2(a.z,-a.x)}function Q4(a){return Math.atan2(-a.y,Math.sqrt(a.x*a.x+a.z*a.z))}(function(a){const b=new Sp(),c=new Sp(),d=new Sp();for(let e=0;e<G4.length;e+=3)N4(G4[e+0],b),N4(G4[e+1],c),N4(G4[e+2],d),L4(b,c,d,a)})(I4),(function(a){const b=new Sp();for(let c=0;c<J4.length;c+=3)b.x=J4[c+0],b.y=J4[c+1],b.z=J4[c+2],b.normalize().multiplyScalar(a),J4[c+0]=b.x,J4[c+1]=b.y,J4[c+2]=b.z})(H4),(function(){const a=new Sp();for(let b=0;b<J4.length;b+=3){a.x=J4[b+0],a.y=J4[b+1],a.z=J4[b+2];const c=P4(a)/2/Math.PI+0.5,d=Q4(a)/Math.PI+0.5;K4.push(c,1-d)}(function(){const a=new Sp(),b=new Sp(),c=new Sp(),d=new Sp(),e=new eh(),f=new eh(),g=new eh();for(let h=0,i=0;h<J4.length;h+=9,i+=6){a.set(J4[h+0],J4[h+1],J4[h+2]),b.set(J4[h+3],J4[h+4],J4[h+5]),c.set(J4[h+6],J4[h+7],J4[h+8]),e.set(K4[i+0],K4[i+1]),f.set(K4[i+2],K4[i+3]),g.set(K4[i+4],K4[i+5]),d.copy(a).add(b).add(c).divideScalar(3);const j=P4(d);O4(e,i+0,a,j),O4(f,i+2,b,j),O4(g,i+4,c,j)}})(),(function(){for(let a=0;a<K4.length;a+=6){const b=K4[a+0],c=K4[a+2],d=K4[a+4],e=Math.max(b,c,d),f=Math.min(b,c,d);e>0.9&&f<0.1&&(b<0.2&&(K4[a+0]+=1),c<0.2&&(K4[a+2]+=1),d<0.2&&(K4[a+4]+=1))}})()})(),this.setAttribute("position",new xJ(J4,3)),this.setAttribute("normal",new xJ(J4.slice(),3)),this.setAttribute("uv",new xJ(K4,2)),0===I4?this.computeVertexNormals():this.normalizeNormals()}static fromJSON(R4){return new E4(R4.vertices,R4.indices,R4.radius,R4.details)}}class S4 extends E4{constructor(T4=1,U4=0){const V4=(1+Math.sqrt(5))/2,W4=1/V4;super([-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-W4,-V4,0,-W4,V4,0,W4,-V4,0,W4,V4,-W4,-V4,0,-W4,V4,0,W4,-V4,0,W4,V4,0,-V4,0,-W4,V4,0,-W4,-V4,0,W4,V4,0,W4],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],T4,U4),this.type="DodecahedronGeometry",this.parameters={radius:T4,detail:U4}}static fromJSON(X4){return new S4(X4.radius,X4.detail)}}const Y4=new Sp(),Z4=new Sp(),$4=new Sp(),_4=new qE();class a5{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(b5,c5){const d5=this.getUtoTmapping(b5);return this.getPoint(d5,c5)}getPoints(e5=5){const f5=[];for(let g5=0;g5<=e5;g5++)f5.push(this.getPoint(g5/e5));return f5}getSpacedPoints(h5=5){const i5=[];for(let j5=0;j5<=h5;j5++)i5.push(this.getPointAt(j5/h5));return i5}getLength(){const k5=this.getLengths();return k5[k5.length-1]}getLengths(l5=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===l5+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const m5=[];let n5,o5=this.getPoint(0),p5=0;m5.push(0);for(let q5=1;q5<=l5;q5++)p5+=(n5=this.getPoint(q5/l5)).distanceTo(o5),m5.push(p5),o5=n5;return this.cacheArcLengths=m5,m5}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(r5,s5){const t5=this.getLengths();let u5=0;const v5=t5.length;let w5;w5=s5||r5*t5[v5-1];let x5=0,y5=v5-1,z5;for(;x5<=y5;)if((z5=t5[u5=Math.floor(x5+(y5-x5)/2)]-w5)<0)x5=u5+1;else if(z5>0)y5=u5-1;else{y5=u5;break}if(t5[u5=y5]===w5)return u5/(v5-1);const A5=t5[u5],B5=t5[u5+1];return(u5+(w5-A5)/(B5-A5))/(v5-1)}getTangent(C5,D5){const E5=0.0001;let F5=C5-E5,G5=C5+E5;F5<0&&(F5=0),G5>1&&(G5=1);const H5=this.getPoint(F5),I5=this.getPoint(G5),J5=D5||(H5.isVector2?new eh():new Sp());return J5.copy(I5).sub(H5).normalize(),J5}getTangentAt(K5,L5){const M5=this.getUtoTmapping(K5);return this.getTangent(M5,L5)}computeFrenetFrames(N5,O5){const P5=new Sp(),Q5=[],R5=[],S5=[],T5=new Sp(),U5=new dw();for(let V5=0;V5<=N5;V5++){const W5=V5/N5;Q5[V5]=this.getTangentAt(W5,new Sp())}R5[0]=new Sp(),S5[0]=new Sp();let X5=Number.MAX_VALUE;const Y5=Math.abs(Q5[0].x),Z5=Math.abs(Q5[0].y),$5=Math.abs(Q5[0].z);Y5<=X5&&(X5=Y5,P5.set(1,0,0)),Z5<=X5&&(X5=Z5,P5.set(0,1,0)),$5<=X5&&P5.set(0,0,1),T5.crossVectors(Q5[0],P5).normalize(),R5[0].crossVectors(Q5[0],T5),S5[0].crossVectors(Q5[0],R5[0]);for(let _5=1;_5<=N5;_5++){if(R5[_5]=R5[_5-1].clone(),S5[_5]=S5[_5-1].clone(),T5.crossVectors(Q5[_5-1],Q5[_5]),T5.length()>Number.EPSILON){T5.normalize();const a6=Math.acos(Zg(Q5[_5-1].dot(Q5[_5]),-1,1));R5[_5].applyMatrix4(U5.makeRotationAxis(T5,a6))}S5[_5].crossVectors(Q5[_5],R5[_5])}if(!0===O5){let b6=Math.acos(Zg(R5[0].dot(R5[N5]),-1,1));b6/=N5,Q5[0].dot(T5.crossVectors(R5[0],R5[N5]))>0&&(b6=-b6);for(let c6=1;c6<=N5;c6++)R5[c6].applyMatrix4(U5.makeRotationAxis(Q5[c6],b6*c6)),S5[c6].crossVectors(Q5[c6],R5[c6])}return{tangents:Q5,normals:R5,binormals:S5}}clone(){return new this.constructor().copy(this)}copy(d6){return this.arcLengthDivisions=d6.arcLengthDivisions,this}toJSON(){const e6={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e6.arcLengthDivisions=this.arcLengthDivisions,e6.type=this.type,e6}fromJSON(f6){return this.arcLengthDivisions=f6.arcLengthDivisions,this}}class g6 extends a5{constructor(h6=0,i6=0,j6=1,k6=1,l6=0,m6=2*Math.PI,n6=!1,o6=0){super(),this.type="EllipseCurve",this.aX=h6,this.aY=i6,this.xRadius=j6,this.yRadius=k6,this.aStartAngle=l6,this.aEndAngle=m6,this.aClockwise=n6,this.aRotation=o6}getPoint(p6,q6){const r6=q6||new eh(),s6=2*Math.PI;let t6=this.aEndAngle-this.aStartAngle;const u6=Math.abs(t6)<Number.EPSILON;for(;t6<0;)t6+=s6;for(;t6>s6;)t6-=s6;t6<Number.EPSILON&&(t6=u6?0:s6),!0!==this.aClockwise||u6||(t6===s6?t6=-s6:t6-=s6);const v6=this.aStartAngle+p6*t6;let w6=this.aX+this.xRadius*Math.cos(v6),x6=this.aY+this.yRadius*Math.sin(v6);if(0!==this.aRotation){const y6=Math.cos(this.aRotation),z6=Math.sin(this.aRotation),A6=w6-this.aX,B6=x6-this.aY;w6=A6*y6-B6*z6+this.aX,x6=A6*z6+B6*y6+this.aY}return r6.set(w6,x6)}copy(C6){return super.copy(C6),this.aX=C6.aX,this.aY=C6.aY,this.xRadius=C6.xRadius,this.yRadius=C6.yRadius,this.aStartAngle=C6.aStartAngle,this.aEndAngle=C6.aEndAngle,this.aClockwise=C6.aClockwise,this.aRotation=C6.aRotation,this}toJSON(){const D6=super.toJSON();return D6.aX=this.aX,D6.aY=this.aY,D6.xRadius=this.xRadius,D6.yRadius=this.yRadius,D6.aStartAngle=this.aStartAngle,D6.aEndAngle=this.aEndAngle,D6.aClockwise=this.aClockwise,D6.aRotation=this.aRotation,D6}fromJSON(E6){return super.fromJSON(E6),this.aX=E6.aX,this.aY=E6.aY,this.xRadius=E6.xRadius,this.yRadius=E6.yRadius,this.aStartAngle=E6.aStartAngle,this.aEndAngle=E6.aEndAngle,this.aClockwise=E6.aClockwise,this.aRotation=E6.aRotation,this}}g6.prototype.isEllipseCurve=!0;class F6 extends g6{constructor(G6,H6,I6,J6,K6,L6){super(G6,H6,I6,I6,J6,K6,L6),this.type="ArcCurve"}}function M6(){let a=0,b=0,c=0,d=0;function e(e,f,g,h){a=e,b=g,c=-3*e+3*f-2*g-h,d=2*e-2*f+g+h}return{initCatmullRom:function(a,b,c,d,f){e(b,c,f*(c-a),f*(d-b))},initNonuniformCatmullRom:function(a,b,c,d,f,g,h){let i=(b-a)/f-(c-a)/(f+g)+(c-b)/g,j=(c-b)/g-(d-b)/(g+h)+(d-c)/h;i*=g,j*=g,e(b,c,i,j)},calc:function(e){const f=e*e;return a+b*e+c*f+d*(f*e)}}}F6.prototype.isArcCurve=!0;const N6=new Sp(),O6=new M6(),P6=new M6(),Q6=new M6();class R6 extends a5{constructor(S6=[],T6=!1,U6="centripetal",V6=0.5){super(),this.type="CatmullRomCurve3",this.points=S6,this.closed=T6,this.curveType=U6,this.tension=V6}getPoint(W6,X6=new Sp()){const Y6=X6,Z6=this.points,$6=Z6.length,_6=($6-(this.closed?0:1))*W6;let a7=Math.floor(_6),b7=_6-a7;this.closed?a7+=a7>0?0:(Math.floor(Math.abs(a7)/$6)+1)*$6:0===b7&&a7===$6-1&&(a7=$6-2,b7=1);let c7,d7;this.closed||a7>0?c7=Z6[(a7-1)%$6]:(N6.subVectors(Z6[0],Z6[1]).add(Z6[0]),c7=N6);const e7=Z6[a7%$6],f7=Z6[(a7+1)%$6];if(this.closed||a7+2<$6?d7=Z6[(a7+2)%$6]:(N6.subVectors(Z6[$6-1],Z6[$6-2]).add(Z6[$6-1]),d7=N6),"centripetal"===this.curveType||"chordal"===this.curveType){const g7="chordal"===this.curveType?0.5:0.25;let h7=Math.pow(c7.distanceToSquared(e7),g7),i7=Math.pow(e7.distanceToSquared(f7),g7),j7=Math.pow(f7.distanceToSquared(d7),g7);i7<0.0001&&(i7=1),h7<0.0001&&(h7=i7),j7<0.0001&&(j7=i7),O6.initNonuniformCatmullRom(c7.x,e7.x,f7.x,d7.x,h7,i7,j7),P6.initNonuniformCatmullRom(c7.y,e7.y,f7.y,d7.y,h7,i7,j7),Q6.initNonuniformCatmullRom(c7.z,e7.z,f7.z,d7.z,h7,i7,j7)}else"catmullrom"===this.curveType&&(O6.initCatmullRom(c7.x,e7.x,f7.x,d7.x,this.tension),P6.initCatmullRom(c7.y,e7.y,f7.y,d7.y,this.tension),Q6.initCatmullRom(c7.z,e7.z,f7.z,d7.z,this.tension));return Y6.set(O6.calc(b7),P6.calc(b7),Q6.calc(b7)),Y6}copy(k7){super.copy(k7),this.points=[];for(let l7=0,m7=k7.points.length;l7<m7;l7++){const n7=k7.points[l7];this.points.push(n7.clone())}return this.closed=k7.closed,this.curveType=k7.curveType,this.tension=k7.tension,this}toJSON(){const o7=super.toJSON();o7.points=[];for(let p7=0,q7=this.points.length;p7<q7;p7++){const r7=this.points[p7];o7.points.push(r7.toArray())}return o7.closed=this.closed,o7.curveType=this.curveType,o7.tension=this.tension,o7}fromJSON(s7){super.fromJSON(s7),this.points=[];for(let t7=0,u7=s7.points.length;t7<u7;t7++){const v7=s7.points[t7];this.points.push(new Sp().fromArray(v7))}return this.closed=s7.closed,this.curveType=s7.curveType,this.tension=s7.tension,this}}function w7(a,b,c,d,e){const f=(d-b)*0.5,g=(e-c)*0.5,h=a*a;return(2*c-2*d+f+g)*(a*h)+(-3*c+3*d-2*f-g)*h+f*a+c}function x7(a,b,c,d){var e,f;return(function(a,b){const c=1-a;return c*c*b})(a,b)+2*(1-(e=a))*e*c+(f=a)*f*d}function y7(a,b,c,d,e){var f,g;return(function(a,b){const c=1-a;return c*c*c*b})(a,b)+(function(a,b){const c=1-a;return 3*c*c*a*b})(a,c)+3*(1-(f=a))*f*f*d+(g=a)*g*g*e}R6.prototype.isCatmullRomCurve3=!0;class z7 extends a5{constructor(A7=new eh(),B7=new eh(),C7=new eh(),D7=new eh()){super(),this.type="CubicBezierCurve",this.v0=A7,this.v1=B7,this.v2=C7,this.v3=D7}getPoint(E7,F7=new eh()){const G7=F7,H7=this.v0,I7=this.v1,J7=this.v2,K7=this.v3;return G7.set(y7(E7,H7.x,I7.x,J7.x,K7.x),y7(E7,H7.y,I7.y,J7.y,K7.y)),G7}copy(L7){return super.copy(L7),this.v0.copy(L7.v0),this.v1.copy(L7.v1),this.v2.copy(L7.v2),this.v3.copy(L7.v3),this}toJSON(){const M7=super.toJSON();return M7.v0=this.v0.toArray(),M7.v1=this.v1.toArray(),M7.v2=this.v2.toArray(),M7.v3=this.v3.toArray(),M7}fromJSON(N7){return super.fromJSON(N7),this.v0.fromArray(N7.v0),this.v1.fromArray(N7.v1),this.v2.fromArray(N7.v2),this.v3.fromArray(N7.v3),this}}z7.prototype.isCubicBezierCurve=!0;class O7 extends a5{constructor(P7=new Sp(),Q7=new Sp(),R7=new Sp(),S7=new Sp()){super(),this.type="CubicBezierCurve3",this.v0=P7,this.v1=Q7,this.v2=R7,this.v3=S7}getPoint(T7,U7=new Sp()){const V7=U7,W7=this.v0,X7=this.v1,Y7=this.v2,Z7=this.v3;return V7.set(y7(T7,W7.x,X7.x,Y7.x,Z7.x),y7(T7,W7.y,X7.y,Y7.y,Z7.y),y7(T7,W7.z,X7.z,Y7.z,Z7.z)),V7}copy($7){return super.copy($7),this.v0.copy($7.v0),this.v1.copy($7.v1),this.v2.copy($7.v2),this.v3.copy($7.v3),this}toJSON(){const _7=super.toJSON();return _7.v0=this.v0.toArray(),_7.v1=this.v1.toArray(),_7.v2=this.v2.toArray(),_7.v3=this.v3.toArray(),_7}fromJSON(a8){return super.fromJSON(a8),this.v0.fromArray(a8.v0),this.v1.fromArray(a8.v1),this.v2.fromArray(a8.v2),this.v3.fromArray(a8.v3),this}}O7.prototype.isCubicBezierCurve3=!0;class b8 extends a5{constructor(c8=new eh(),d8=new eh()){super(),this.type="LineCurve",this.v1=c8,this.v2=d8}getPoint(e8,f8=new eh()){const g8=f8;return 1===e8?g8.copy(this.v2):(g8.copy(this.v2).sub(this.v1),g8.multiplyScalar(e8).add(this.v1)),g8}getPointAt(h8,i8){return this.getPoint(h8,i8)}getTangent(j8,k8){const l8=k8||new eh();return l8.copy(this.v2).sub(this.v1).normalize(),l8}copy(m8){return super.copy(m8),this.v1.copy(m8.v1),this.v2.copy(m8.v2),this}toJSON(){const n8=super.toJSON();return n8.v1=this.v1.toArray(),n8.v2=this.v2.toArray(),n8}fromJSON(o8){return super.fromJSON(o8),this.v1.fromArray(o8.v1),this.v2.fromArray(o8.v2),this}}b8.prototype.isLineCurve=!0;class p8 extends a5{constructor(q8=new eh(),r8=new eh(),s8=new eh()){super(),this.type="QuadraticBezierCurve",this.v0=q8,this.v1=r8,this.v2=s8}getPoint(t8,u8=new eh()){const v8=u8,w8=this.v0,x8=this.v1,y8=this.v2;return v8.set(x7(t8,w8.x,x8.x,y8.x),x7(t8,w8.y,x8.y,y8.y)),v8}copy(z8){return super.copy(z8),this.v0.copy(z8.v0),this.v1.copy(z8.v1),this.v2.copy(z8.v2),this}toJSON(){const A8=super.toJSON();return A8.v0=this.v0.toArray(),A8.v1=this.v1.toArray(),A8.v2=this.v2.toArray(),A8}fromJSON(B8){return super.fromJSON(B8),this.v0.fromArray(B8.v0),this.v1.fromArray(B8.v1),this.v2.fromArray(B8.v2),this}}p8.prototype.isQuadraticBezierCurve=!0;class C8 extends a5{constructor(D8=new Sp(),E8=new Sp(),F8=new Sp()){super(),this.type="QuadraticBezierCurve3",this.v0=D8,this.v1=E8,this.v2=F8}getPoint(G8,H8=new Sp()){const I8=H8,J8=this.v0,K8=this.v1,L8=this.v2;return I8.set(x7(G8,J8.x,K8.x,L8.x),x7(G8,J8.y,K8.y,L8.y),x7(G8,J8.z,K8.z,L8.z)),I8}copy(M8){return super.copy(M8),this.v0.copy(M8.v0),this.v1.copy(M8.v1),this.v2.copy(M8.v2),this}toJSON(){const N8=super.toJSON();return N8.v0=this.v0.toArray(),N8.v1=this.v1.toArray(),N8.v2=this.v2.toArray(),N8}fromJSON(O8){return super.fromJSON(O8),this.v0.fromArray(O8.v0),this.v1.fromArray(O8.v1),this.v2.fromArray(O8.v2),this}}C8.prototype.isQuadraticBezierCurve3=!0;class P8 extends a5{constructor(Q8=[]){super(),this.type="SplineCurve",this.points=Q8}getPoint(R8,S8=new eh()){const T8=S8,U8=this.points,V8=(U8.length-1)*R8,W8=Math.floor(V8),X8=V8-W8,Y8=U8[0===W8?W8:W8-1],Z8=U8[W8],$8=U8[W8>U8.length-2?U8.length-1:W8+1],_8=U8[W8>U8.length-3?U8.length-1:W8+2];return T8.set(w7(X8,Y8.x,Z8.x,$8.x,_8.x),w7(X8,Y8.y,Z8.y,$8.y,_8.y)),T8}copy(a9){super.copy(a9),this.points=[];for(let b9=0,c9=a9.points.length;b9<c9;b9++){const d9=a9.points[b9];this.points.push(d9.clone())}return this}toJSON(){const e9=super.toJSON();e9.points=[];for(let f9=0,g9=this.points.length;f9<g9;f9++){const h9=this.points[f9];e9.points.push(h9.toArray())}return e9}fromJSON(i9){super.fromJSON(i9),this.points=[];for(let j9=0,k9=i9.points.length;j9<k9;j9++){const l9=i9.points[j9];this.points.push(new eh().fromArray(l9))}return this}}P8.prototype.isSplineCurve=!0;var m9=Object.freeze({__proto__:null,ArcCurve:F6,CatmullRomCurve3:R6,CubicBezierCurve:z7,CubicBezierCurve3:O7,EllipseCurve:g6,LineCurve:b8,LineCurve3:class extends a5{constructor(n9=new Sp(),o9=new Sp()){super(),this.type="LineCurve3",this.isLineCurve3=!0,this.v1=n9,this.v2=o9}getPoint(p9,q9=new Sp()){const r9=q9;return 1===p9?r9.copy(this.v2):(r9.copy(this.v2).sub(this.v1),r9.multiplyScalar(p9).add(this.v1)),r9}getPointAt(s9,t9){return this.getPoint(s9,t9)}copy(u9){return super.copy(u9),this.v1.copy(u9.v1),this.v2.copy(u9.v2),this}toJSON(){const v9=super.toJSON();return v9.v1=this.v1.toArray(),v9.v2=this.v2.toArray(),v9}fromJSON(w9){return super.fromJSON(w9),this.v1.fromArray(w9.v1),this.v2.fromArray(w9.v2),this}},QuadraticBezierCurve:p8,QuadraticBezierCurve3:C8,SplineCurve:P8});class x9 extends a5{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(y9){this.curves.push(y9)}closePath(){const z9=this.curves[0].getPoint(0),A9=this.curves[this.curves.length-1].getPoint(1);z9.equals(A9)||this.curves.push(new b8(A9,z9))}getPoint(B9,C9){const D9=B9*this.getLength(),E9=this.getCurveLengths();let F9=0;for(;F9<E9.length;){if(E9[F9]>=D9){const G9=E9[F9]-D9,H9=this.curves[F9],I9=H9.getLength(),J9=0===I9?0:1-G9/I9;return H9.getPointAt(J9,C9)}F9++}return null}getLength(){const K9=this.getCurveLengths();return K9[K9.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const L9=[];let M9=0;for(let N9=0,O9=this.curves.length;N9<O9;N9++)M9+=this.curves[N9].getLength(),L9.push(M9);return this.cacheLengths=L9,L9}getSpacedPoints(P9=40){const Q9=[];for(let R9=0;R9<=P9;R9++)Q9.push(this.getPoint(R9/P9));return this.autoClose&&Q9.push(Q9[0]),Q9}getPoints(S9=12){const T9=[];let U9;for(let V9=0,W9=this.curves;V9<W9.length;V9++){const X9=W9[V9],Y9=X9&&X9.isEllipseCurve?2*S9:X9&&(X9.isLineCurve||X9.isLineCurve3)?1:X9&&X9.isSplineCurve?S9*X9.points.length:S9,Z9=X9.getPoints(Y9);for(let $9=0;$9<Z9.length;$9++){const _9=Z9[$9];U9&&U9.equals(_9)||(T9.push(_9),U9=_9)}}return this.autoClose&&T9.length>1&&!T9[T9.length-1].equals(T9[0])&&T9.push(T9[0]),T9}copy(aaa){super.copy(aaa),this.curves=[];for(let baa=0,caa=aaa.curves.length;baa<caa;baa++){const daa=aaa.curves[baa];this.curves.push(daa.clone())}return this.autoClose=aaa.autoClose,this}toJSON(){const eaa=super.toJSON();eaa.autoClose=this.autoClose,eaa.curves=[];for(let faa=0,gaa=this.curves.length;faa<gaa;faa++){const haa=this.curves[faa];eaa.curves.push(haa.toJSON())}return eaa}fromJSON(iaa){super.fromJSON(iaa),this.autoClose=iaa.autoClose,this.curves=[];for(let jaa=0,kaa=iaa.curves.length;jaa<kaa;jaa++){const laa=iaa.curves[jaa];this.curves.push(new m9[laa.type]().fromJSON(laa))}return this}}class maa extends x9{constructor(naa){super(),this.type="Path",this.currentPoint=new eh(),naa&&this.setFromPoints(naa)}setFromPoints(oaa){this.moveTo(oaa[0].x,oaa[0].y);for(let paa=1,qaa=oaa.length;paa<qaa;paa++)this.lineTo(oaa[paa].x,oaa[paa].y);return this}moveTo(raa,saa){return this.currentPoint.set(raa,saa),this}lineTo(taa,uaa){const vaa=new b8(this.currentPoint.clone(),new eh(taa,uaa));return this.curves.push(vaa),this.currentPoint.set(taa,uaa),this}quadraticCurveTo(waa,xaa,yaa,zaa){const Aaa=new p8(this.currentPoint.clone(),new eh(waa,xaa),new eh(yaa,zaa));return this.curves.push(Aaa),this.currentPoint.set(yaa,zaa),this}bezierCurveTo(Baa,Caa,Daa,Eaa,Faa,Gaa){const Haa=new z7(this.currentPoint.clone(),new eh(Baa,Caa),new eh(Daa,Eaa),new eh(Faa,Gaa));return this.curves.push(Haa),this.currentPoint.set(Faa,Gaa),this}splineThru(Iaa){const Jaa=[this.currentPoint.clone()].concat(Iaa),Kaa=new P8(Jaa);return this.curves.push(Kaa),this.currentPoint.copy(Iaa[Iaa.length-1]),this}arc(Laa,Maa,Naa,Oaa,Paa,Qaa){const Raa=this.currentPoint.x,Saa=this.currentPoint.y;return this.absarc(Laa+Raa,Maa+Saa,Naa,Oaa,Paa,Qaa),this}absarc(Taa,Uaa,Vaa,Waa,Xaa,Yaa){return this.absellipse(Taa,Uaa,Vaa,Vaa,Waa,Xaa,Yaa),this}ellipse(Zaa,$aa,_aa,aba,bba,cba,dba,eba){const fba=this.currentPoint.x,gba=this.currentPoint.y;return this.absellipse(Zaa+fba,$aa+gba,_aa,aba,bba,cba,dba,eba),this}absellipse(hba,iba,jba,kba,lba,mba,nba,oba){const pba=new g6(hba,iba,jba,kba,lba,mba,nba,oba);if(this.curves.length>0){const qba=pba.getPoint(0);qba.equals(this.currentPoint)||this.lineTo(qba.x,qba.y)}this.curves.push(pba);const rba=pba.getPoint(1);return this.currentPoint.copy(rba),this}copy(sba){return super.copy(sba),this.currentPoint.copy(sba.currentPoint),this}toJSON(){const tba=super.toJSON();return tba.currentPoint=this.currentPoint.toArray(),tba}fromJSON(uba){return super.fromJSON(uba),this.currentPoint.fromArray(uba.currentPoint),this}}class vba extends maa{constructor(wba){super(wba),this.uuid=Yg(),this.type="Shape",this.holes=[]}getPointsHoles(xba){const yba=[];for(let zba=0,Aba=this.holes.length;zba<Aba;zba++)yba[zba]=this.holes[zba].getPoints(xba);return yba}extractPoints(Bba){return{shape:this.getPoints(Bba),holes:this.getPointsHoles(Bba)}}copy(Cba){super.copy(Cba),this.holes=[];for(let Dba=0,Eba=Cba.holes.length;Dba<Eba;Dba++){const Fba=Cba.holes[Dba];this.holes.push(Fba.clone())}return this}toJSON(){const Gba=super.toJSON();Gba.uuid=this.uuid,Gba.holes=[];for(let Hba=0,Iba=this.holes.length;Hba<Iba;Hba++){const Jba=this.holes[Hba];Gba.holes.push(Jba.toJSON())}return Gba}fromJSON(Kba){super.fromJSON(Kba),this.uuid=Kba.uuid,this.holes=[];for(let Lba=0,Mba=Kba.holes.length;Lba<Mba;Lba++){const Nba=Kba.holes[Lba];this.holes.push(new maa().fromJSON(Nba))}return this}}const Oba={triangulate:function(a,b,c=2){const d=b&&b.length,e=d?b[0]*c:a.length;let f=Pba(a,0,e,c,!0);const g=[];if(!f||f.next===f.prev)return g;let h,i,j,k,l,m,n;if(d&&(f=Wba(a,b,f,c)),a.length>80*c){h=j=a[0],i=k=a[1];for(let o=c;o<e;o+=c)l=a[o],m=a[o+1],l<h&&(h=l),m<i&&(i=m),l>j&&(j=l),m>k&&(k=m);n=0!==(n=Math.max(j-h,k-i))?1/n:0}return Rba(f,g,c,h,i,n),g}};function Pba(a,b,c,d,e){let f,g;if(e===rca(a,b,c,d)>0)for(f=b;f<c;f+=d)g=oca(f,a[f],a[f+1],g);else for(f=c-d;f>=b;f-=d)g=oca(f,a[f],a[f+1],g);return g&&gca(g,g.next)&&(pca(g),g=g.next),g}function Qba(a,b){if(!a)return a;b||(b=a);let c=a,d;do if(d=!1,!c.steiner&&(gca(c,c.next)||0===fca(c.prev,c,c.next))){if(pca(c),(c=b=c.prev)===c.next)break;d=!0}else c=c.next;while(d||c!==b)return b}function Rba(a,b,c,d,e,f,g){if(a){!g&&f&&_ba(a,d,e,f);let h=a,i,j;for(;a.prev!==a.next;){if(i=a.prev,j=a.next,f?Tba(a,d,e,f):Sba(a)){b.push(i.i/c),b.push(a.i/c),b.push(j.i/c),pca(a),a=j.next,h=j.next;continue}if((a=j)===h){g?1===g?Rba(a=Uba(Qba(a),b,c),b,c,d,e,f,2):2===g&&Vba(a,b,c,d,e,f):Rba(Qba(a),b,c,d,e,f,1);break}}}}function Sba(a){const b=a.prev,c=a,d=a.next;if(fca(b,c,d)>=0)return!1;let e=a.next.next;for(;e!==a.prev;){if(dca(b.x,b.y,c.x,c.y,d.x,d.y,e.x,e.y)&&fca(e.prev,e,e.next)>=0)return!1;e=e.next}return!0}function Tba(a,b,c,d){const e=a.prev,f=a,g=a.next;if(fca(e,f,g)>=0)return!1;const h=e.x<f.x?e.x<g.x?e.x:g.x:f.x<g.x?f.x:g.x,i=e.y<f.y?e.y<g.y?e.y:g.y:f.y<g.y?f.y:g.y,j=e.x>f.x?e.x>g.x?e.x:g.x:f.x>g.x?f.x:g.x,k=e.y>f.y?e.y>g.y?e.y:g.y:f.y>g.y?f.y:g.y,l=bca(h,i,b,c,d),m=bca(j,k,b,c,d);let n=a.prevZ,o=a.nextZ;for(;n&&n.z>=l&&o&&o.z<=m;){if(n!==a.prev&&n!==a.next&&dca(e.x,e.y,f.x,f.y,g.x,g.y,n.x,n.y)&&fca(n.prev,n,n.next)>=0)return!1;if(n=n.prevZ,o!==a.prev&&o!==a.next&&dca(e.x,e.y,f.x,f.y,g.x,g.y,o.x,o.y)&&fca(o.prev,o,o.next)>=0)return!1;o=o.nextZ}for(;n&&n.z>=l;){if(n!==a.prev&&n!==a.next&&dca(e.x,e.y,f.x,f.y,g.x,g.y,n.x,n.y)&&fca(n.prev,n,n.next)>=0)return!1;n=n.prevZ}for(;o&&o.z<=m;){if(o!==a.prev&&o!==a.next&&dca(e.x,e.y,f.x,f.y,g.x,g.y,o.x,o.y)&&fca(o.prev,o,o.next)>=0)return!1;o=o.nextZ}return!0}function Uba(a,b,c){let d=a;do{const e=d.prev,f=d.next.next;!gca(e,f)&&hca(e,d,d.next,f)&&lca(e,f)&&lca(f,e)&&(b.push(e.i/c),b.push(d.i/c),b.push(f.i/c),pca(d),pca(d.next),d=a=f),d=d.next}while(d!==a)return Qba(d)}function Vba(a,b,c,d,e,f){let g=a;do{let h=g.next.next;for(;h!==g.prev;){if(g.i!==h.i&&eca(g,h)){let i=nca(g,h);g=Qba(g,g.next),i=Qba(i,i.next),Rba(g,b,c,d,e,f),Rba(i,b,c,d,e,f);return}h=h.next}g=g.next}while(g!==a)}function Wba(a,b,c,d){const e=[];let f,g,h,i,j;for(f=0,g=b.length;f<g;f++)h=b[f]*d,i=f<g-1?b[f+1]*d:a.length,j=Pba(a,h,i,d,!1),j===j.next&&(j.steiner=!0),e.push(cca(j));for(e.sort(Xba),f=0;f<e.length;f++)Yba(e[f],c),c=Qba(c,c.next);return c}function Xba(a,b){return a.x-b.x}function Yba(a,b){if(b=Zba(a,b)){const c=nca(b,a);Qba(b,b.next),Qba(c,c.next)}}function Zba(a,b){let c=b;const d=a.x,e=a.y;let f=-1/0,g;do{if(e<=c.y&&e>=c.next.y&&c.next.y!==c.y){const h=c.x+(e-c.y)*(c.next.x-c.x)/(c.next.y-c.y);if(h<=d&&h>f){if(f=h,h===d){if(e===c.y)return c;if(e===c.next.y)return c.next}g=c.x<c.next.x?c:c.next}}c=c.next}while(c!==b)if(!g)return null;if(d===f)return g;const i=g,j=g.x,k=g.y;let l=1/0,m;c=g;do d>=c.x&&c.x>=j&&d!==c.x&&dca(e<k?d:f,e,j,k,e<k?f:d,e,c.x,c.y)&&(m=Math.abs(e-c.y)/(d-c.x),lca(c,a)&&(m<l||m===l&&(c.x>g.x||c.x===g.x&&$ba(g,c)))&&(g=c,l=m)),c=c.next;while(c!==i)return g}function $ba(a,b){return 0>fca(a.prev,a,b.prev)&&0>fca(b.next,a,a.next)}function _ba(a,b,c,d){let e=a;do null===e.z&&(e.z=bca(e.x,e.y,b,c,d)),e.prevZ=e.prev,e.nextZ=e.next,e=e.next;while(e!==a)e.prevZ.nextZ=null,e.prevZ=null,aca(e)}function aca(a){let b,c,d,e,f,g,h,i,j=1;do{for(c=a,a=null,f=null,g=0;c;){for(g++,d=c,h=0,b=0;b<j&&(h++,d=d.nextZ);b++);for(i=j;h>0||i>0&&d;)0!==h&&(0===i||!d||c.z<=d.z)?(e=c,c=c.nextZ,h--):(e=d,d=d.nextZ,i--),f?f.nextZ=e:a=e,e.prevZ=f,f=e;c=d}f.nextZ=null,j*=2}while(g>1)return a}function bca(a,b,c,d,e){return a=32767*(a-c)*e,b=32767*(b-d)*e,a=(a|a<<8)&16711935,a=(a|a<<4)&252645135,a=(a|a<<2)&858993459,a=(a|a<<1)&1431655765,b=(b|b<<8)&16711935,b=(b|b<<4)&252645135,b=(b|b<<2)&858993459,b=(b|b<<1)&1431655765,a|b<<1}function cca(a){let b=a,c=a;do(b.x<c.x||b.x===c.x&&b.y<c.y)&&(c=b),b=b.next;while(b!==a)return c}function dca(a,b,c,d,e,f,g,h){return(e-g)*(b-h)-(a-g)*(f-h)>=0&&(a-g)*(d-h)-(c-g)*(b-h)>=0&&(c-g)*(f-h)-(e-g)*(d-h)>=0}function eca(a,b){return a.next.i!==b.i&&a.prev.i!==b.i&&!kca(a,b)&&(lca(a,b)&&lca(b,a)&&mca(a,b)&&(fca(a.prev,a,b.prev)||fca(a,b.prev,b))||gca(a,b)&&fca(a.prev,a,a.next)>0&&fca(b.prev,b,b.next)>0)}function fca(a,b,c){return(b.y-a.y)*(c.x-b.x)-(b.x-a.x)*(c.y-b.y)}function gca(a,b){return a.x===b.x&&a.y===b.y}function hca(a,b,c,d){const e=jca(fca(a,b,c)),f=jca(fca(a,b,d)),g=jca(fca(c,d,a)),h=jca(fca(c,d,b));return e!==f&&g!==h|| !!(0===e&&ica(a,c,b))|| !!(0===f&&ica(a,d,b))|| !!(0===g&&ica(c,a,d))||!!(0===h&&ica(c,b,d))}function ica(a,b,c){return b.x<=Math.max(a.x,c.x)&&b.x>=Math.min(a.x,c.x)&&b.y<=Math.max(a.y,c.y)&&b.y>=Math.min(a.y,c.y)}function jca(a){return a>0?1:a<0?-1:0}function kca(a,b){let c=a;do{if(c.i!==a.i&&c.next.i!==a.i&&c.i!==b.i&&c.next.i!==b.i&&hca(c,c.next,a,b))return!0;c=c.next}while(c!==a)return!1}function lca(a,b){return 0>fca(a.prev,a,a.next)?fca(a,b,a.next)>=0&&fca(a,a.prev,b)>=0:0>fca(a,b,a.prev)||0>fca(a,a.next,b)}function mca(a,b){let c=a,d=!1;const e=(a.x+b.x)/2,f=(a.y+b.y)/2;do c.y>f!=c.next.y>f&&c.next.y!==c.y&&e<(c.next.x-c.x)*(f-c.y)/(c.next.y-c.y)+c.x&&(d=!d),c=c.next;while(c!==a)return d}function nca(a,b){const c=new qca(a.i,a.x,a.y),d=new qca(b.i,b.x,b.y),e=a.next,f=b.prev;return a.next=b,b.prev=a,c.next=e,e.prev=c,d.next=c,c.prev=d,f.next=d,d.prev=f,d}function oca(a,b,c,d){const e=new qca(a,b,c);return d?(e.next=d.next,e.prev=d,d.next.prev=e,d.next=e):(e.prev=e,e.next=e),e}function pca(a){a.next.prev=a.prev,a.prev.next=a.next,a.prevZ&&(a.prevZ.nextZ=a.nextZ),a.nextZ&&(a.nextZ.prevZ=a.prevZ)}function qca(a,b,c){this.i=a,this.x=b,this.y=c,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function rca(a,b,c,d){let e=0;for(let f=b,g=c-d;f<c;f+=d)e+=(a[g]-a[f])*(a[f+1]+a[g+1]),g=f;return e}class sca{static area(tca){const uca=tca.length;let vca=0;for(let wca=uca-1,xca=0;xca<uca;wca=xca++)vca+=tca[wca].x*tca[xca].y-tca[xca].x*tca[wca].y;return 0.5*vca}static isClockWise(yca){return 0>sca.area(yca)}static triangulateShape(zca,Aca){const Bca=[],Cca=[],Dca=[];Ica(zca),Jca(Bca,zca);let Eca=zca.length;Aca.forEach(Ica);for(let Fca=0;Fca<Aca.length;Fca++)Cca.push(Eca),Eca+=Aca[Fca].length,Jca(Bca,Aca[Fca]);const Gca=Oba.triangulate(Bca,Cca);for(let Hca=0;Hca<Gca.length;Hca+=3)Dca.push(Gca.slice(Hca,Hca+3));return Dca}}function Ica(a){const b=a.length;b>2&&a[b-1].equals(a[0])&&a.pop()}function Jca(a,b){for(let c=0;c<b.length;c++)a.push(b[c].x),a.push(b[c].y)}class Kca extends IJ{constructor(Lca=new vba([new eh(0.5,0.5),new eh(-0.5,0.5),new eh(-0.5,-0.5),new eh(0.5,-0.5)]),Mca={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:Lca,options:Mca},Lca=Array.isArray(Lca)?Lca:[Lca];const Nca=this,Oca=[],Pca=[];for(let Qca=0,Rca=Lca.length;Qca<Rca;Qca++){const Sca=Lca[Qca];Tca(Sca)}function Tca(a){const b=[],c=void 0!==Mca.curveSegments?Mca.curveSegments:12,d=void 0!==Mca.steps?Mca.steps:1;let e=void 0!==Mca.depth?Mca.depth:1,f=void 0===Mca.bevelEnabled||Mca.bevelEnabled,g=void 0!==Mca.bevelThickness?Mca.bevelThickness:0.2,h=void 0!==Mca.bevelSize?Mca.bevelSize:g-0.1,i=void 0!==Mca.bevelOffset?Mca.bevelOffset:0,j=void 0!==Mca.bevelSegments?Mca.bevelSegments:3;const k=Mca.extrudePath,l=void 0!==Mca.UVGenerator?Mca.UVGenerator:cda;void 0!==Mca.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),e=Mca.amount);let m,n=!1,o,p,q,r;k&&(m=k.getSpacedPoints(d),n=!0,f=!1,o=k.computeFrenetFrames(d,!1),p=new Sp(),q=new Sp(),r=new Sp()),f||(j=0,g=0,h=0,i=0);const s=a.extractPoints(c);let t=s.shape;const u=s.holes,v=!sca.isClockWise(t);if(v){t=t.reverse();for(let w=0,x=u.length;w<x;w++){const y=u[w];sca.isClockWise(y)&&(u[w]=y.reverse())}}const z=sca.triangulateShape(t,u),A=t;for(let B=0,C=u.length;B<C;B++){const D=u[B];t=t.concat(D)}function E(a,b,c){return b||console.error("THREE.ExtrudeGeometry: vec does not exist"),b.clone().multiplyScalar(c).add(a)}const F=t.length,G=z.length;function H(a,b,c){let d,e,f;const g=a.x-b.x,h=a.y-b.y,i=c.x-a.x,j=c.y-a.y,k=g*g+h*h,l=g*j-h*i;if(Math.abs(l)>Number.EPSILON){const m=Math.sqrt(k),n=Math.sqrt(i*i+j*j),o=b.x-h/m,p=b.y+g/m,q=c.x-j/n,r=c.y+i/n,s=((q-o)*j-(r-p)*i)/(g*j-h*i);d=o+g*s-a.x,e=p+h*s-a.y;const t=d*d+e*e;if(t<=2)return new eh(d,e);f=Math.sqrt(t/2)}else{let u=!1;g>Number.EPSILON?i>Number.EPSILON&&(u=!0):g< -Number.EPSILON?i< -Number.EPSILON&&(u=!0):Math.sign(h)===Math.sign(j)&&(u=!0),u?(d=-h,e=g,f=Math.sqrt(k)):(d=g,e=h,f=Math.sqrt(k/2))}return new eh(d/f,e/f)}const I=[];for(let J=0,K=A.length,L=K-1,M=J+1;J<K;J++,L++,M++)L===K&&(L=0),M===K&&(M=0),I[J]=H(A[J],A[L],A[M]);const N=[];let O,P=I.concat();for(let Q=0,R=u.length;Q<R;Q++){const S=u[Q];O=[];for(let T=0,U=S.length,V=U-1,W=T+1;T<U;T++,V++,W++)V===U&&(V=0),W===U&&(W=0),O[T]=H(S[T],S[V],S[W]);N.push(O),P=P.concat(O)}for(let X=0;X<j;X++){const Y=X/j,Z=g*Math.cos(Y*Math.PI/2),$=h*Math.sin(Y*Math.PI/2)+i;for(let _=0,aa=A.length;_<aa;_++){const ba=E(A[_],I[_],$);Ca(ba.x,ba.y,-Z)}for(let ca=0,da=u.length;ca<da;ca++){const ea=u[ca];O=N[ca];for(let fa=0,ga=ea.length;fa<ga;fa++){const ha=E(ea[fa],O[fa],$);Ca(ha.x,ha.y,-Z)}}}const ia=h+i;for(let ja=0;ja<F;ja++){const ka=f?E(t[ja],P[ja],ia):t[ja];n?(q.copy(o.normals[0]).multiplyScalar(ka.x),p.copy(o.binormals[0]).multiplyScalar(ka.y),r.copy(m[0]).add(q).add(p),Ca(r.x,r.y,r.z)):Ca(ka.x,ka.y,0)}for(let la=1;la<=d;la++)for(let ma=0;ma<F;ma++){const na=f?E(t[ma],P[ma],ia):t[ma];n?(q.copy(o.normals[la]).multiplyScalar(na.x),p.copy(o.binormals[la]).multiplyScalar(na.y),r.copy(m[la]).add(q).add(p),Ca(r.x,r.y,r.z)):Ca(na.x,na.y,e/d*la)}for(let oa=j-1;oa>=0;oa--){const pa=oa/j,qa=g*Math.cos(pa*Math.PI/2),ra=h*Math.sin(pa*Math.PI/2)+i;for(let sa=0,ta=A.length;sa<ta;sa++){const ua=E(A[sa],I[sa],ra);Ca(ua.x,ua.y,e+qa)}for(let va=0,wa=u.length;va<wa;va++){const xa=u[va];O=N[va];for(let ya=0,za=xa.length;ya<za;ya++){const Aa=E(xa[ya],O[ya],ra);n?Ca(Aa.x,Aa.y+m[d-1].y,m[d-1].x+qa):Ca(Aa.x,Aa.y,e+qa)}}}function Ba(a,b){let c=a.length;for(;--c>=0;){const e=c;let f=c-1;f<0&&(f=a.length-1);for(let g=0,h=d+2*j;g<h;g++){const i=F*g,k=F*(g+1),l=b+e+i,m=b+f+i,n=b+f+k,o=b+e+k;Ea(l,m,n,o)}}}function Ca(a,c,d){b.push(a),b.push(c),b.push(d)}function Da(a,b,c){Fa(a),Fa(b),Fa(c);const d=Oca.length/3,e=l.generateTopUV(Nca,Oca,d-3,d-2,d-1);Ga(e[0]),Ga(e[1]),Ga(e[2])}function Ea(a,b,c,d){Fa(a),Fa(b),Fa(d),Fa(b),Fa(c),Fa(d);const e=Oca.length/3,f=l.generateSideWallUV(Nca,Oca,e-6,e-3,e-2,e-1);Ga(f[0]),Ga(f[1]),Ga(f[3]),Ga(f[1]),Ga(f[2]),Ga(f[3])}function Fa(a){Oca.push(b[3*a+0]),Oca.push(b[3*a+1]),Oca.push(b[3*a+2])}function Ga(a){Pca.push(a.x),Pca.push(a.y)}(function(){const a=Oca.length/3;if(f){let b=0,c=F*b;for(let e=0;e<G;e++){const g=z[e];Da(g[2]+c,g[1]+c,g[0]+c)}c=F*(b=d+2*j);for(let h=0;h<G;h++){const i=z[h];Da(i[0]+c,i[1]+c,i[2]+c)}}else{for(let k=0;k<G;k++){const l=z[k];Da(l[2],l[1],l[0])}for(let m=0;m<G;m++){const n=z[m];Da(n[0]+F*d,n[1]+F*d,n[2]+F*d)}}Nca.addGroup(a,Oca.length/3-a,0)})(),(function(){const a=Oca.length/3;let b=0;Ba(A,b),b+=A.length;for(let c=0,d=u.length;c<d;c++){const e=u[c];Ba(e,b),b+=e.length}Nca.addGroup(a,Oca.length/3-a,1)})()}this.setAttribute("position",new xJ(Oca,3)),this.setAttribute("uv",new xJ(Pca,2)),this.computeVertexNormals()}toJSON(){const Uca=super.toJSON(),Vca=this.parameters.shapes,Wca=this.parameters.options;return dda(Vca,Wca,Uca)}static fromJSON(Xca,Yca){const Zca=[];for(let $ca=0,_ca=Xca.shapes.length;$ca<_ca;$ca++){const ada=Yca[Xca.shapes[$ca]];Zca.push(ada)}const bda=Xca.options.extrudePath;return void 0!==bda&&(Xca.options.extrudePath=new m9[bda.type]().fromJSON(bda)),new Kca(Zca,Xca.options)}}const cda={generateTopUV:function(a,b,c,d,e){const f=b[3*c],g=b[3*c+1],h=b[3*d],i=b[3*d+1],j=b[3*e],k=b[3*e+1];return[new eh(f,g),new eh(h,i),new eh(j,k)]},generateSideWallUV:function(a,b,c,d,e,f){const g=b[3*c],h=b[3*c+1],i=b[3*c+2],j=b[3*d],k=b[3*d+1],l=b[3*d+2],m=b[3*e],n=b[3*e+1],o=b[3*e+2],p=b[3*f],q=b[3*f+1],r=b[3*f+2];return Math.abs(h-k)<Math.abs(g-j)?[new eh(g,1-i),new eh(j,1-l),new eh(m,1-o),new eh(p,1-r)]:[new eh(h,1-i),new eh(k,1-l),new eh(n,1-o),new eh(q,1-r)]}};function dda(a,b,c){if(c.shapes=[],Array.isArray(a))for(let d=0,e=a.length;d<e;d++){const f=a[d];c.shapes.push(f.uuid)}else c.shapes.push(a.uuid);return void 0!==b.extrudePath&&(c.options.extrudePath=b.extrudePath.toJSON()),c}class eda extends E4{constructor(fda=1,gda=0){const hda=(1+Math.sqrt(5))/2;super([-1,hda,0,1,hda,0,-1,-hda,0,1,-hda,0,0,-1,hda,0,1,hda,0,-1,-hda,0,1,-hda,hda,0,-1,hda,0,1,-hda,0,-1,-hda,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],fda,gda),this.type="IcosahedronGeometry",this.parameters={radius:fda,detail:gda}}static fromJSON(ida){return new eda(ida.radius,ida.detail)}}class jda extends IJ{constructor(kda=[new eh(0,0.5),new eh(0.5,0),new eh(0,-0.5)],lda=12,mda=0,nda=2*Math.PI){super(),this.type="LatheGeometry",this.parameters={points:kda,segments:lda,phiStart:mda,phiLength:nda},lda=Math.floor(lda),nda=Zg(nda,0,2*Math.PI);const oda=[],pda=[],qda=[],rda=1/lda,sda=new Sp(),tda=new eh();for(let uda=0;uda<=lda;uda++){const vda=mda+uda*rda*nda,wda=Math.sin(vda),xda=Math.cos(vda);for(let yda=0;yda<=kda.length-1;yda++)sda.x=kda[yda].x*wda,sda.y=kda[yda].y,sda.z=kda[yda].x*xda,pda.push(sda.x,sda.y,sda.z),tda.x=uda/lda,tda.y=yda/(kda.length-1),qda.push(tda.x,tda.y)}for(let zda=0;zda<lda;zda++)for(let Ada=0;Ada<kda.length-1;Ada++){const Bda=Ada+zda*kda.length,Cda=Bda,Dda=Bda+kda.length,Eda=Bda+kda.length+1,Fda=Bda+1;oda.push(Cda,Dda,Fda),oda.push(Dda,Eda,Fda)}if(this.setIndex(oda),this.setAttribute("position",new xJ(pda,3)),this.setAttribute("uv",new xJ(qda,2)),this.computeVertexNormals(),nda===2*Math.PI){const Gda=this.attributes.normal.array,Hda=new Sp(),Ida=new Sp(),Jda=new Sp(),Kda=lda*kda.length*3;for(let Lda=0,Mda=0;Lda<kda.length;Lda++,Mda+=3)Hda.x=Gda[Mda+0],Hda.y=Gda[Mda+1],Hda.z=Gda[Mda+2],Ida.x=Gda[Kda+Mda+0],Ida.y=Gda[Kda+Mda+1],Ida.z=Gda[Kda+Mda+2],Jda.addVectors(Hda,Ida).normalize(),Gda[Mda+0]=Gda[Kda+Mda+0]=Jda.x,Gda[Mda+1]=Gda[Kda+Mda+1]=Jda.y,Gda[Mda+2]=Gda[Kda+Mda+2]=Jda.z}}static fromJSON(Nda){return new jda(Nda.points,Nda.segments,Nda.phiStart,Nda.phiLength)}}class Oda extends E4{constructor(Pda=1,Qda=0){super([1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],Pda,Qda),this.type="OctahedronGeometry",this.parameters={radius:Pda,detail:Qda}}static fromJSON(Rda){return new Oda(Rda.radius,Rda.detail)}}class Sda extends IJ{constructor(Tda=0.5,Uda=1,Vda=8,Wda=1,Xda=0,Yda=2*Math.PI){super(),this.type="RingGeometry",this.parameters={innerRadius:Tda,outerRadius:Uda,thetaSegments:Vda,phiSegments:Wda,thetaStart:Xda,thetaLength:Yda},Vda=Math.max(3,Vda),Wda=Math.max(1,Wda);const Zda=[],$da=[],_da=[],aea=[];let bea=Tda;const cea=(Uda-Tda)/Wda,dea=new Sp(),eea=new eh();for(let fea=0;fea<=Wda;fea++){for(let gea=0;gea<=Vda;gea++){const hea=Xda+gea/Vda*Yda;dea.x=bea*Math.cos(hea),dea.y=bea*Math.sin(hea),$da.push(dea.x,dea.y,dea.z),_da.push(0,0,1),eea.x=(dea.x/Uda+1)/2,eea.y=(dea.y/Uda+1)/2,aea.push(eea.x,eea.y)}bea+=cea}for(let iea=0;iea<Wda;iea++){const jea=iea*(Vda+1);for(let kea=0;kea<Vda;kea++){const lea=kea+jea,mea=lea,nea=lea+Vda+1,oea=lea+Vda+2,pea=lea+1;Zda.push(mea,nea,pea),Zda.push(nea,oea,pea)}}this.setIndex(Zda),this.setAttribute("position",new xJ($da,3)),this.setAttribute("normal",new xJ(_da,3)),this.setAttribute("uv",new xJ(aea,2))}static fromJSON(qea){return new Sda(qea.innerRadius,qea.outerRadius,qea.thetaSegments,qea.phiSegments,qea.thetaStart,qea.thetaLength)}}class rea extends IJ{constructor(sea=new vba([new eh(0,0.5),new eh(-0.5,-0.5),new eh(0.5,-0.5)]),tea=12){super(),this.type="ShapeGeometry",this.parameters={shapes:sea,curveSegments:tea};const uea=[],vea=[],wea=[],xea=[];let yea=0,zea=0;if(!1===Array.isArray(sea))Bea(sea);else for(let Aea=0;Aea<sea.length;Aea++)Bea(sea[Aea]),this.addGroup(yea,zea,Aea),yea+=zea,zea=0;function Bea(a){const b=vea.length/3,c=a.extractPoints(tea);let d=c.shape;const e=c.holes;!1===sca.isClockWise(d)&&(d=d.reverse());for(let f=0,g=e.length;f<g;f++){const h=e[f];!0===sca.isClockWise(h)&&(e[f]=h.reverse())}const i=sca.triangulateShape(d,e);for(let j=0,k=e.length;j<k;j++){const l=e[j];d=d.concat(l)}for(let m=0,n=d.length;m<n;m++){const o=d[m];vea.push(o.x,o.y,0),wea.push(0,0,1),xea.push(o.x,o.y)}for(let p=0,q=i.length;p<q;p++){const r=i[p],s=r[0]+b,t=r[1]+b,u=r[2]+b;uea.push(s,t,u),zea+=3}}this.setIndex(uea),this.setAttribute("position",new xJ(vea,3)),this.setAttribute("normal",new xJ(wea,3)),this.setAttribute("uv",new xJ(xea,2))}toJSON(){const Cea=super.toJSON(),Dea=this.parameters.shapes;return Kea(Dea,Cea)}static fromJSON(Eea,Fea){const Gea=[];for(let Hea=0,Iea=Eea.shapes.length;Hea<Iea;Hea++){const Jea=Fea[Eea.shapes[Hea]];Gea.push(Jea)}return new rea(Gea,Eea.curveSegments)}}function Kea(a,b){if(b.shapes=[],Array.isArray(a))for(let c=0,d=a.length;c<d;c++){const e=a[c];b.shapes.push(e.uuid)}else b.shapes.push(a.uuid);return b}class Lea extends IJ{constructor(Mea=1,Nea=32,Oea=16,Pea=0,Qea=2*Math.PI,Rea=0,Sea=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:Mea,widthSegments:Nea,heightSegments:Oea,phiStart:Pea,phiLength:Qea,thetaStart:Rea,thetaLength:Sea},Nea=Math.max(3,Math.floor(Nea)),Oea=Math.max(2,Math.floor(Oea));const Tea=Math.min(Rea+Sea,Math.PI);let Uea=0;const Vea=[],Wea=new Sp(),Xea=new Sp(),Yea=[],Zea=[],$ea=[],_ea=[];for(let afa=0;afa<=Oea;afa++){const bfa=[],cfa=afa/Oea;let dfa=0;0==afa&&0==Rea?dfa=0.5/Nea:afa==Oea&&Tea==Math.PI&&(dfa=-0.5/Nea);for(let efa=0;efa<=Nea;efa++){const ffa=efa/Nea;Wea.x=-Mea*Math.cos(Pea+ffa*Qea)*Math.sin(Rea+cfa*Sea),Wea.y=Mea*Math.cos(Rea+cfa*Sea),Wea.z=Mea*Math.sin(Pea+ffa*Qea)*Math.sin(Rea+cfa*Sea),Zea.push(Wea.x,Wea.y,Wea.z),Xea.copy(Wea).normalize(),$ea.push(Xea.x,Xea.y,Xea.z),_ea.push(ffa+dfa,1-cfa),bfa.push(Uea++)}Vea.push(bfa)}for(let gfa=0;gfa<Oea;gfa++)for(let hfa=0;hfa<Nea;hfa++){const ifa=Vea[gfa][hfa+1],jfa=Vea[gfa][hfa],kfa=Vea[gfa+1][hfa],lfa=Vea[gfa+1][hfa+1];(0!==gfa||Rea>0)&&Yea.push(ifa,jfa,lfa),(gfa!==Oea-1||Tea<Math.PI)&&Yea.push(jfa,kfa,lfa)}this.setIndex(Yea),this.setAttribute("position",new xJ(Zea,3)),this.setAttribute("normal",new xJ($ea,3)),this.setAttribute("uv",new xJ(_ea,2))}static fromJSON(mfa){return new Lea(mfa.radius,mfa.widthSegments,mfa.heightSegments,mfa.phiStart,mfa.phiLength,mfa.thetaStart,mfa.thetaLength)}}class nfa extends E4{constructor(ofa=1,pfa=0){super([1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],ofa,pfa),this.type="TetrahedronGeometry",this.parameters={radius:ofa,detail:pfa}}static fromJSON(qfa){return new nfa(qfa.radius,qfa.detail)}}class rfa extends IJ{constructor(sfa=1,tfa=0.4,ufa=8,vfa=6,wfa=2*Math.PI){super(),this.type="TorusGeometry",this.parameters={radius:sfa,tube:tfa,radialSegments:ufa,tubularSegments:vfa,arc:wfa},ufa=Math.floor(ufa),vfa=Math.floor(vfa);const xfa=[],yfa=[],zfa=[],Afa=[],Bfa=new Sp(),Cfa=new Sp(),Dfa=new Sp();for(let Efa=0;Efa<=ufa;Efa++)for(let Ffa=0;Ffa<=vfa;Ffa++){const Gfa=Ffa/vfa*wfa,Hfa=Efa/ufa*Math.PI*2;Cfa.x=(sfa+tfa*Math.cos(Hfa))*Math.cos(Gfa),Cfa.y=(sfa+tfa*Math.cos(Hfa))*Math.sin(Gfa),Cfa.z=tfa*Math.sin(Hfa),yfa.push(Cfa.x,Cfa.y,Cfa.z),Bfa.x=sfa*Math.cos(Gfa),Bfa.y=sfa*Math.sin(Gfa),Dfa.subVectors(Cfa,Bfa).normalize(),zfa.push(Dfa.x,Dfa.y,Dfa.z),Afa.push(Ffa/vfa),Afa.push(Efa/ufa)}for(let Ifa=1;Ifa<=ufa;Ifa++)for(let Jfa=1;Jfa<=vfa;Jfa++){const Kfa=(vfa+1)*Ifa+Jfa-1,Lfa=(vfa+1)*(Ifa-1)+Jfa-1,Mfa=(vfa+1)*(Ifa-1)+Jfa,Nfa=(vfa+1)*Ifa+Jfa;xfa.push(Kfa,Lfa,Nfa),xfa.push(Lfa,Mfa,Nfa)}this.setIndex(xfa),this.setAttribute("position",new xJ(yfa,3)),this.setAttribute("normal",new xJ(zfa,3)),this.setAttribute("uv",new xJ(Afa,2))}static fromJSON(Ofa){return new rfa(Ofa.radius,Ofa.tube,Ofa.radialSegments,Ofa.tubularSegments,Ofa.arc)}}class Pfa extends IJ{constructor(Qfa=1,Rfa=0.4,Sfa=64,Tfa=8,Ufa=2,Vfa=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:Qfa,tube:Rfa,tubularSegments:Sfa,radialSegments:Tfa,p:Ufa,q:Vfa},Sfa=Math.floor(Sfa),Tfa=Math.floor(Tfa);const Wfa=[],Xfa=[],Yfa=[],Zfa=[],$fa=new Sp(),_fa=new Sp(),aga=new Sp(),bga=new Sp(),cga=new Sp(),dga=new Sp(),ega=new Sp();for(let fga=0;fga<=Sfa;++fga){const gga=fga/Sfa*Ufa*Math.PI*2;rga(gga,Ufa,Vfa,Qfa,aga),rga(gga+0.01,Ufa,Vfa,Qfa,bga),dga.subVectors(bga,aga),ega.addVectors(bga,aga),cga.crossVectors(dga,ega),ega.crossVectors(cga,dga),cga.normalize(),ega.normalize();for(let hga=0;hga<=Tfa;++hga){const iga=hga/Tfa*Math.PI*2,jga=-Rfa*Math.cos(iga),kga=Rfa*Math.sin(iga);$fa.x=aga.x+(jga*ega.x+kga*cga.x),$fa.y=aga.y+(jga*ega.y+kga*cga.y),$fa.z=aga.z+(jga*ega.z+kga*cga.z),Xfa.push($fa.x,$fa.y,$fa.z),_fa.subVectors($fa,aga).normalize(),Yfa.push(_fa.x,_fa.y,_fa.z),Zfa.push(fga/Sfa),Zfa.push(hga/Tfa)}}for(let lga=1;lga<=Sfa;lga++)for(let mga=1;mga<=Tfa;mga++){const nga=(Tfa+1)*(lga-1)+(mga-1),oga=(Tfa+1)*lga+(mga-1),pga=(Tfa+1)*lga+mga,qga=(Tfa+1)*(lga-1)+mga;Wfa.push(nga,oga,qga),Wfa.push(oga,pga,qga)}function rga(a,b,c,d,e){const f=c/b*a,g=Math.cos(f);e.x=d*(2+g)*0.5*Math.cos(a),e.y=d*(2+g)*Math.sin(a)*0.5,e.z=d*Math.sin(f)*0.5}this.setIndex(Wfa),this.setAttribute("position",new xJ(Xfa,3)),this.setAttribute("normal",new xJ(Yfa,3)),this.setAttribute("uv",new xJ(Zfa,2))}static fromJSON(sga){return new Pfa(sga.radius,sga.tube,sga.tubularSegments,sga.radialSegments,sga.p,sga.q)}}class tga extends IJ{constructor(uga=new C8(new Sp(-1,-1,0),new Sp(-1,1,0),new Sp(1,1,0)),vga=64,wga=1,xga=8,yga=!1){super(),this.type="TubeGeometry",this.parameters={path:uga,tubularSegments:vga,radius:wga,radialSegments:xga,closed:yga};const zga=uga.computeFrenetFrames(vga,yga);this.tangents=zga.tangents,this.normals=zga.normals,this.binormals=zga.binormals;const Aga=new Sp(),Bga=new Sp(),Cga=new eh();let Dga=new Sp();const Ega=[],Fga=[],Gga=[],Hga=[];function Iga(a){Dga=uga.getPointAt(a/vga,Dga);const b=zga.normals[a],c=zga.binormals[a];for(let d=0;d<=xga;d++){const e=d/xga*Math.PI*2,f=Math.sin(e),g=-Math.cos(e);Bga.x=g*b.x+f*c.x,Bga.y=g*b.y+f*c.y,Bga.z=g*b.z+f*c.z,Bga.normalize(),Fga.push(Bga.x,Bga.y,Bga.z),Aga.x=Dga.x+wga*Bga.x,Aga.y=Dga.y+wga*Bga.y,Aga.z=Dga.z+wga*Bga.z,Ega.push(Aga.x,Aga.y,Aga.z)}}(function(){for(let a=0;a<vga;a++)Iga(a);Iga(!1===yga?vga:0),(function(){for(let a=0;a<=vga;a++)for(let b=0;b<=xga;b++)Cga.x=a/vga,Cga.y=b/xga,Gga.push(Cga.x,Cga.y)})(),(function(){for(let a=1;a<=vga;a++)for(let b=1;b<=xga;b++){const c=(xga+1)*(a-1)+(b-1),d=(xga+1)*a+(b-1),e=(xga+1)*a+b,f=(xga+1)*(a-1)+b;Hga.push(c,d,f),Hga.push(d,e,f)}})()})(),this.setIndex(Hga),this.setAttribute("position",new xJ(Ega,3)),this.setAttribute("normal",new xJ(Fga,3)),this.setAttribute("uv",new xJ(Gga,2))}toJSON(){const Jga=super.toJSON();return Jga.path=this.parameters.path.toJSON(),Jga}static fromJSON(Kga){return new tga(new m9[Kga.path.type]().fromJSON(Kga.path),Kga.tubularSegments,Kga.radius,Kga.radialSegments,Kga.closed)}}function Lga(a,b,c){const d=`${a.x},${a.y},${a.z}-${b.x},${b.y},${b.z}`,e=`${b.x},${b.y},${b.z}-${a.x},${a.y},${a.z}`;return!0!==c.has(d)&& !0!==c.has(e)&&(c.add(d,e),!0)}Object.freeze({__proto__:null,BoxGeometry:AO,BoxBufferGeometry:AO,CircleGeometry:N3,CircleBufferGeometry:N3,ConeGeometry:v4,ConeBufferGeometry:v4,CylinderGeometry:b4,CylinderBufferGeometry:b4,DodecahedronGeometry:S4,DodecahedronBufferGeometry:S4,EdgesGeometry:class extends IJ{constructor(Mga=null,Nga=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:Mga,thresholdAngle:Nga},null!==Mga){const Oga=4,Pga=Math.pow(10,Oga),Qga=Math.cos(Wg*Nga),Rga=Mga.getIndex(),Sga=Mga.getAttribute("position"),Tga=Rga?Rga.count:Sga.count,Uga=[0,0,0],Vga=["a","b","c"],Wga=new Array(3),Xga={},Yga=[];for(let Zga=0;Zga<Tga;Zga+=3){Rga?(Uga[0]=Rga.getX(Zga),Uga[1]=Rga.getX(Zga+1),Uga[2]=Rga.getX(Zga+2)):(Uga[0]=Zga,Uga[1]=Zga+1,Uga[2]=Zga+2);const{a:$ga,b:_ga,c:aha}=_4;if($ga.fromBufferAttribute(Sga,Uga[0]),_ga.fromBufferAttribute(Sga,Uga[1]),aha.fromBufferAttribute(Sga,Uga[2]),_4.getNormal($4),Wga[0]=`${Math.round($ga.x*Pga)},${Math.round($ga.y*Pga)},${Math.round($ga.z*Pga)}`,Wga[1]=`${Math.round(_ga.x*Pga)},${Math.round(_ga.y*Pga)},${Math.round(_ga.z*Pga)}`,Wga[2]=`${Math.round(aha.x*Pga)},${Math.round(aha.y*Pga)},${Math.round(aha.z*Pga)}`,Wga[0]!==Wga[1]&&Wga[1]!==Wga[2]&&Wga[2]!==Wga[0])for(let bha=0;bha<3;bha++){const cha=(bha+1)%3,dha=Wga[bha],eha=Wga[cha],fha=_4[Vga[bha]],gha=_4[Vga[cha]],hha=`${dha}_${eha}`,iha=`${eha}_${dha}`;iha in Xga&&Xga[iha]?($4.dot(Xga[iha].normal)<=Qga&&(Yga.push(fha.x,fha.y,fha.z),Yga.push(gha.x,gha.y,gha.z)),Xga[iha]=null):hha in Xga||(Xga[hha]={index0:Uga[bha],index1:Uga[cha],normal:$4.clone()})}}for(const jha in Xga)if(Xga[jha]){const{index0:kha,index1:lha}=Xga[jha];Y4.fromBufferAttribute(Sga,kha),Z4.fromBufferAttribute(Sga,lha),Yga.push(Y4.x,Y4.y,Y4.z),Yga.push(Z4.x,Z4.y,Z4.z)}this.setAttribute("position",new xJ(Yga,3))}}},ExtrudeGeometry:Kca,ExtrudeBufferGeometry:Kca,IcosahedronGeometry:eda,IcosahedronBufferGeometry:eda,LatheGeometry:jda,LatheBufferGeometry:jda,OctahedronGeometry:Oda,OctahedronBufferGeometry:Oda,PlaneGeometry:yS,PlaneBufferGeometry:yS,PolyhedronGeometry:E4,PolyhedronBufferGeometry:E4,RingGeometry:Sda,RingBufferGeometry:Sda,ShapeGeometry:rea,ShapeBufferGeometry:rea,SphereGeometry:Lea,SphereBufferGeometry:Lea,TetrahedronGeometry:nfa,TetrahedronBufferGeometry:nfa,TorusGeometry:rfa,TorusBufferGeometry:rfa,TorusKnotGeometry:Pfa,TorusKnotBufferGeometry:Pfa,TubeGeometry:tga,TubeBufferGeometry:tga,WireframeGeometry:class extends IJ{constructor(mha=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:mha},null!==mha){const nha=[],oha=new Set(),pha=new Sp(),qha=new Sp();if(null!==mha.index){const rha=mha.attributes.position,sha=mha.index;let tha=mha.groups;0===tha.length&&(tha=[{start:0,count:sha.count,materialIndex:0}]);for(let uha=0,vha=tha.length;uha<vha;++uha){const wha=tha[uha],xha=wha.start,yha=wha.count;for(let zha=xha,Aha=xha+yha;zha<Aha;zha+=3)for(let Bha=0;Bha<3;Bha++){const Cha=sha.getX(zha+Bha),Dha=sha.getX(zha+(Bha+1)%3);pha.fromBufferAttribute(rha,Cha),qha.fromBufferAttribute(rha,Dha),!0===Lga(pha,qha,oha)&&(nha.push(pha.x,pha.y,pha.z),nha.push(qha.x,qha.y,qha.z))}}}else{const Eha=mha.attributes.position;for(let Fha=0,Gha=Eha.count/3;Fha<Gha;Fha++)for(let Hha=0;Hha<3;Hha++){const Iha=3*Fha+Hha,Jha=3*Fha+(Hha+1)%3;pha.fromBufferAttribute(Eha,Iha),qha.fromBufferAttribute(Eha,Jha),!0===Lga(pha,qha,oha)&&(nha.push(pha.x,pha.y,pha.z),nha.push(qha.x,qha.y,qha.z))}}this.setAttribute("position",new xJ(nha,3))}}}});class Kha extends TF{constructor(Lha){super(),this.type="ShadowMaterial",this.color=new pG(0),this.transparent=!0,this.setValues(Lha)}copy(Mha){return super.copy(Mha),this.color.copy(Mha.color),this}}Kha.prototype.isShadowMaterial=!0;class Nha extends TF{constructor(Oha){super(),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new pG(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new pG(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new eh(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=0.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(Oha)}copy(Pha){return super.copy(Pha),this.defines={STANDARD:""},this.color.copy(Pha.color),this.roughness=Pha.roughness,this.metalness=Pha.metalness,this.map=Pha.map,this.lightMap=Pha.lightMap,this.lightMapIntensity=Pha.lightMapIntensity,this.aoMap=Pha.aoMap,this.aoMapIntensity=Pha.aoMapIntensity,this.emissive.copy(Pha.emissive),this.emissiveMap=Pha.emissiveMap,this.emissiveIntensity=Pha.emissiveIntensity,this.bumpMap=Pha.bumpMap,this.bumpScale=Pha.bumpScale,this.normalMap=Pha.normalMap,this.normalMapType=Pha.normalMapType,this.normalScale.copy(Pha.normalScale),this.displacementMap=Pha.displacementMap,this.displacementScale=Pha.displacementScale,this.displacementBias=Pha.displacementBias,this.roughnessMap=Pha.roughnessMap,this.metalnessMap=Pha.metalnessMap,this.alphaMap=Pha.alphaMap,this.envMap=Pha.envMap,this.envMapIntensity=Pha.envMapIntensity,this.refractionRatio=Pha.refractionRatio,this.wireframe=Pha.wireframe,this.wireframeLinewidth=Pha.wireframeLinewidth,this.wireframeLinecap=Pha.wireframeLinecap,this.wireframeLinejoin=Pha.wireframeLinejoin,this.flatShading=Pha.flatShading,this}}Nha.prototype.isMeshStandardMaterial=!0;class Qha extends Nha{constructor(Rha){super(),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new eh(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Zg(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(a){this.ior=(1+0.4*a)/(1-0.4*a)}}),this.sheenColor=new pG(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationColor=new pG(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new pG(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._transmission=0,this.setValues(Rha)}get sheen(){return this._sheen}set sheen(Sha){this._sheen>0!=Sha>0&&this.version++,this._sheen=Sha}get clearcoat(){return this._clearcoat}set clearcoat(Tha){this._clearcoat>0!=Tha>0&&this.version++,this._clearcoat=Tha}get transmission(){return this._transmission}set transmission(Uha){this._transmission>0!=Uha>0&&this.version++,this._transmission=Uha}copy(Vha){return super.copy(Vha),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=Vha.clearcoat,this.clearcoatMap=Vha.clearcoatMap,this.clearcoatRoughness=Vha.clearcoatRoughness,this.clearcoatRoughnessMap=Vha.clearcoatRoughnessMap,this.clearcoatNormalMap=Vha.clearcoatNormalMap,this.clearcoatNormalScale.copy(Vha.clearcoatNormalScale),this.ior=Vha.ior,this.sheen=Vha.sheen,this.sheenColor.copy(Vha.sheenColor),this.sheenColorMap=Vha.sheenColorMap,this.sheenRoughness=Vha.sheenRoughness,this.sheenRoughnessMap=Vha.sheenRoughnessMap,this.transmission=Vha.transmission,this.transmissionMap=Vha.transmissionMap,this.thickness=Vha.thickness,this.thicknessMap=Vha.thicknessMap,this.attenuationDistance=Vha.attenuationDistance,this.attenuationColor.copy(Vha.attenuationColor),this.specularIntensity=Vha.specularIntensity,this.specularIntensityMap=Vha.specularIntensityMap,this.specularColor.copy(Vha.specularColor),this.specularColorMap=Vha.specularColorMap,this}}Qha.prototype.isMeshPhysicalMaterial=!0;class Wha extends TF{constructor(Xha){super(),this.type="MeshPhongMaterial",this.color=new pG(16777215),this.specular=new pG(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new pG(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new eh(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=0.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(Xha)}copy(Yha){return super.copy(Yha),this.color.copy(Yha.color),this.specular.copy(Yha.specular),this.shininess=Yha.shininess,this.map=Yha.map,this.lightMap=Yha.lightMap,this.lightMapIntensity=Yha.lightMapIntensity,this.aoMap=Yha.aoMap,this.aoMapIntensity=Yha.aoMapIntensity,this.emissive.copy(Yha.emissive),this.emissiveMap=Yha.emissiveMap,this.emissiveIntensity=Yha.emissiveIntensity,this.bumpMap=Yha.bumpMap,this.bumpScale=Yha.bumpScale,this.normalMap=Yha.normalMap,this.normalMapType=Yha.normalMapType,this.normalScale.copy(Yha.normalScale),this.displacementMap=Yha.displacementMap,this.displacementScale=Yha.displacementScale,this.displacementBias=Yha.displacementBias,this.specularMap=Yha.specularMap,this.alphaMap=Yha.alphaMap,this.envMap=Yha.envMap,this.combine=Yha.combine,this.reflectivity=Yha.reflectivity,this.refractionRatio=Yha.refractionRatio,this.wireframe=Yha.wireframe,this.wireframeLinewidth=Yha.wireframeLinewidth,this.wireframeLinecap=Yha.wireframeLinecap,this.wireframeLinejoin=Yha.wireframeLinejoin,this.flatShading=Yha.flatShading,this}}Wha.prototype.isMeshPhongMaterial=!0;class Zha extends TF{constructor($ha){super(),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new pG(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new pG(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new eh(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues($ha)}copy(_ha){return super.copy(_ha),this.color.copy(_ha.color),this.map=_ha.map,this.gradientMap=_ha.gradientMap,this.lightMap=_ha.lightMap,this.lightMapIntensity=_ha.lightMapIntensity,this.aoMap=_ha.aoMap,this.aoMapIntensity=_ha.aoMapIntensity,this.emissive.copy(_ha.emissive),this.emissiveMap=_ha.emissiveMap,this.emissiveIntensity=_ha.emissiveIntensity,this.bumpMap=_ha.bumpMap,this.bumpScale=_ha.bumpScale,this.normalMap=_ha.normalMap,this.normalMapType=_ha.normalMapType,this.normalScale.copy(_ha.normalScale),this.displacementMap=_ha.displacementMap,this.displacementScale=_ha.displacementScale,this.displacementBias=_ha.displacementBias,this.alphaMap=_ha.alphaMap,this.wireframe=_ha.wireframe,this.wireframeLinewidth=_ha.wireframeLinewidth,this.wireframeLinecap=_ha.wireframeLinecap,this.wireframeLinejoin=_ha.wireframeLinejoin,this}}Zha.prototype.isMeshToonMaterial=!0;class aia extends TF{constructor(bia){super(),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new eh(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.flatShading=!1,this.setValues(bia)}copy(cia){return super.copy(cia),this.bumpMap=cia.bumpMap,this.bumpScale=cia.bumpScale,this.normalMap=cia.normalMap,this.normalMapType=cia.normalMapType,this.normalScale.copy(cia.normalScale),this.displacementMap=cia.displacementMap,this.displacementScale=cia.displacementScale,this.displacementBias=cia.displacementBias,this.wireframe=cia.wireframe,this.wireframeLinewidth=cia.wireframeLinewidth,this.flatShading=cia.flatShading,this}}aia.prototype.isMeshNormalMaterial=!0;class dia extends TF{constructor(eia){super(),this.type="MeshLambertMaterial",this.color=new pG(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new pG(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=0.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(eia)}copy(fia){return super.copy(fia),this.color.copy(fia.color),this.map=fia.map,this.lightMap=fia.lightMap,this.lightMapIntensity=fia.lightMapIntensity,this.aoMap=fia.aoMap,this.aoMapIntensity=fia.aoMapIntensity,this.emissive.copy(fia.emissive),this.emissiveMap=fia.emissiveMap,this.emissiveIntensity=fia.emissiveIntensity,this.specularMap=fia.specularMap,this.alphaMap=fia.alphaMap,this.envMap=fia.envMap,this.combine=fia.combine,this.reflectivity=fia.reflectivity,this.refractionRatio=fia.refractionRatio,this.wireframe=fia.wireframe,this.wireframeLinewidth=fia.wireframeLinewidth,this.wireframeLinecap=fia.wireframeLinecap,this.wireframeLinejoin=fia.wireframeLinejoin,this}}dia.prototype.isMeshLambertMaterial=!0;class gia extends TF{constructor(hia){super(),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new pG(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new eh(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.setValues(hia)}copy(iia){return super.copy(iia),this.defines={MATCAP:""},this.color.copy(iia.color),this.matcap=iia.matcap,this.map=iia.map,this.bumpMap=iia.bumpMap,this.bumpScale=iia.bumpScale,this.normalMap=iia.normalMap,this.normalMapType=iia.normalMapType,this.normalScale.copy(iia.normalScale),this.displacementMap=iia.displacementMap,this.displacementScale=iia.displacementScale,this.displacementBias=iia.displacementBias,this.alphaMap=iia.alphaMap,this.flatShading=iia.flatShading,this}}gia.prototype.isMeshMatcapMaterial=!0;class jia extends g1{constructor(kia){super(),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(kia)}copy(lia){return super.copy(lia),this.scale=lia.scale,this.dashSize=lia.dashSize,this.gapSize=lia.gapSize,this}}jia.prototype.isLineDashedMaterial=!0,Object.freeze({__proto__:null,ShadowMaterial:Kha,SpriteMaterial:z$,RawShaderMaterial:IT,ShaderMaterial:TO,PointsMaterial:u2,MeshPhysicalMaterial:Qha,MeshStandardMaterial:Nha,MeshPhongMaterial:Wha,MeshToonMaterial:Zha,MeshNormalMaterial:aia,MeshLambertMaterial:dia,MeshDepthMaterial:zX,MeshDistanceMaterial:CX,MeshBasicMaterial:KH,MeshMatcapMaterial:gia,LineDashedMaterial:jia,LineBasicMaterial:g1,Material:TF});const mia={arraySlice:function(a,b,c){return mia.isTypedArray(a)?new a.constructor(a.subarray(b,void 0!==c?c:a.length)):a.slice(b,c)},convertArray:function(a,b,c){return a&&(c||a.constructor!==b)?"number"==typeof b.BYTES_PER_ELEMENT?new b(a):Array.prototype.slice.call(a):a},isTypedArray:function(a){return ArrayBuffer.isView(a)&&!(a instanceof DataView)},getKeyframeOrder:function(a){const b=a.length,c=new Array(b);for(let d=0;d!==b;++d)c[d]=d;return c.sort(function(b,c){return a[b]-a[c]}),c},sortedArray:function(a,b,c){const d=a.length,e=new a.constructor(d);for(let f=0,g=0;g!==d;++f){const h=c[f]*b;for(let i=0;i!==b;++i)e[g++]=a[h+i]}return e},flattenJSON:function(a,b,c,d){let e=1,f=a[0];for(;void 0!==f&& void 0===f[d];)f=a[e++];if(void 0!==f){let g=f[d];if(void 0!==g)if(Array.isArray(g))do void 0!==(g=f[d])&&(b.push(f.time),c.push.apply(c,g)),f=a[e++];while(void 0!==f)else if(void 0!==g.toArray)do void 0!==(g=f[d])&&(b.push(f.time),g.toArray(c,c.length)),f=a[e++];while(void 0!==f)else do void 0!==(g=f[d])&&(b.push(f.time),c.push(g)),f=a[e++];while(void 0!==f)}},subclip:function(a,b,c,d,e=30){const f=a.clone();f.name=b;const g=[];for(let h=0;h<f.tracks.length;++h){const i=f.tracks[h],j=i.getValueSize(),k=[],l=[];for(let m=0;m<i.times.length;++m){const n=i.times[m]*e;if(!(n<c)&&!(n>=d)){k.push(i.times[m]);for(let o=0;o<j;++o)l.push(i.values[m*j+o])}}0!==k.length&&(i.times=mia.convertArray(k,i.times.constructor),i.values=mia.convertArray(l,i.values.constructor),g.push(i))}f.tracks=g;let p=1/0;for(let q=0;q<f.tracks.length;++q)p>f.tracks[q].times[0]&&(p=f.tracks[q].times[0]);for(let r=0;r<f.tracks.length;++r)f.tracks[r].shift(-1*p);return f.resetDuration(),f},makeClipAdditive:function(a,b=0,c=a,d=30){d<=0&&(d=30);const e=c.tracks.length,f=b/d;for(let g=0;g<e;++g){const h=c.tracks[g],i=h.ValueTypeName;if("bool"!==i&&"string"!==i){const j=a.tracks.find(function(a){return a.name===h.name&&a.ValueTypeName===i});if(void 0!==j){let k=0;const l=h.getValueSize();h.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(k=l/3);let m=0;const n=j.getValueSize();j.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(m=n/3);const o=h.times.length-1;let p;if(f<=h.times[0]){const q=k,r=l-k;p=mia.arraySlice(h.values,q,r)}else if(f>=h.times[o]){const s=o*l+k,t=s+l-k;p=mia.arraySlice(h.values,s,t)}else{const u=h.createInterpolant(),v=k,w=l-k;u.evaluate(f),p=mia.arraySlice(u.resultBuffer,v,w)}if("quaternion"===i){const x=new kn().fromArray(p).normalize().conjugate();x.toArray(p)}const y=j.times.length;for(let z=0;z<y;++z){const A=z*n+m;if("quaternion"===i)kn.multiplyQuaternionsFlat(j.values,A,p,0,j.values,A);else{const B=n-2*m;for(let C=0;C<B;++C)j.values[A+C]-=p[C]}}}}}return a.blendMode=2501,a}};class nia{constructor(oia,pia,qia,ria){this.parameterPositions=oia,this._cachedIndex=0,this.resultBuffer=void 0!==ria?ria:new pia.constructor(qia),this.sampleValues=pia,this.valueSize=qia,this.settings=null,this.DefaultSettings_={}}evaluate(sia){const tia=this.parameterPositions;let uia=this._cachedIndex,via=tia[uia],wia=tia[uia-1];validate_interval:{seek:{let xia;linear_scan:{forward_scan:if(!(sia<via)){for(let yia=uia+2;;){if(void 0===via){if(sia<wia)break forward_scan;return uia=tia.length,this._cachedIndex=uia,this.afterEnd_(uia-1,sia,wia)}if(uia===yia)break;if(wia=via,sia<(via=tia[++uia]))break seek}xia=tia.length;break linear_scan}if(!(sia>=wia)){const zia=tia[1];sia<zia&&(uia=2,wia=zia);for(let Aia=uia-2;;){if(void 0===wia)return this._cachedIndex=0,this.beforeStart_(0,sia,via);if(uia===Aia)break;if(via=wia,sia>=(wia=tia[--uia-1]))break seek}xia=uia,uia=0;break linear_scan}break validate_interval}for(;uia<xia;){const Bia=uia+xia>>>1;sia<tia[Bia]?xia=Bia:uia=Bia+1}if(via=tia[uia],wia=tia[uia-1],void 0===wia)return this._cachedIndex=0,this.beforeStart_(0,sia,via);if(void 0===via)return uia=tia.length,this._cachedIndex=uia,this.afterEnd_(uia-1,wia,sia)}this._cachedIndex=uia,this.intervalChanged_(uia,wia,via)}return this.interpolate_(uia,wia,sia,via)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(Cia){const Dia=this.resultBuffer,Eia=this.sampleValues,Fia=this.valueSize,Gia=Cia*Fia;for(let Hia=0;Hia!==Fia;++Hia)Dia[Hia]=Eia[Gia+Hia];return Dia}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}nia.prototype.beforeStart_=nia.prototype.copySampleValue_,nia.prototype.afterEnd_=nia.prototype.copySampleValue_;class Iia extends nia{constructor(Jia,Kia,Lia,Mia){super(Jia,Kia,Lia,Mia),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:2400,endingEnd:2400}}intervalChanged_(Nia,Oia,Pia){const Qia=this.parameterPositions;let Ria=Nia-2,Sia=Nia+1,Tia=Qia[Ria],Uia=Qia[Sia];if(void 0===Tia)switch(this.getSettings_().endingStart){case 2401:Ria=Nia,Tia=2*Oia-Pia;break;case 2402:Ria=Qia.length-2,Tia=Oia+Qia[Ria]-Qia[Ria+1];break;default:Ria=Nia,Tia=Pia}if(void 0===Uia)switch(this.getSettings_().endingEnd){case 2401:Sia=Nia,Uia=2*Pia-Oia;break;case 2402:Sia=1,Uia=Pia+Qia[1]-Qia[0];break;default:Sia=Nia-1,Uia=Oia}const Via=(Pia-Oia)*0.5,Wia=this.valueSize;this._weightPrev=Via/(Oia-Tia),this._weightNext=Via/(Uia-Pia),this._offsetPrev=Ria*Wia,this._offsetNext=Sia*Wia}interpolate_(Xia,Yia,Zia,$ia){const _ia=this.resultBuffer,aja=this.sampleValues,bja=this.valueSize,cja=Xia*bja,dja=cja-bja,eja=this._offsetPrev,fja=this._offsetNext,gja=this._weightPrev,hja=this._weightNext,ija=(Zia-Yia)/($ia-Yia),jja=ija*ija,kja=jja*ija,lja=-gja*kja+2*gja*jja-gja*ija,mja=(1+gja)*kja+(-1.5-2*gja)*jja+(-0.5+gja)*ija+1,nja=(-1-hja)*kja+(1.5+hja)*jja+0.5*ija,oja=hja*kja-hja*jja;for(let pja=0;pja!==bja;++pja)_ia[pja]=lja*aja[eja+pja]+mja*aja[dja+pja]+nja*aja[cja+pja]+oja*aja[fja+pja];return _ia}}class qja extends nia{constructor(rja,sja,tja,uja){super(rja,sja,tja,uja)}interpolate_(vja,wja,xja,yja){const zja=this.resultBuffer,Aja=this.sampleValues,Bja=this.valueSize,Cja=vja*Bja,Dja=Cja-Bja,Eja=(xja-wja)/(yja-wja),Fja=1-Eja;for(let Gja=0;Gja!==Bja;++Gja)zja[Gja]=Aja[Dja+Gja]*Fja+Aja[Cja+Gja]*Eja;return zja}}class Hja extends nia{constructor(Ija,Jja,Kja,Lja){super(Ija,Jja,Kja,Lja)}interpolate_(Mja){return this.copySampleValue_(Mja-1)}}class Nja{constructor(Oja,Pja,Qja,Rja){if(void 0===Oja)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===Pja||0===Pja.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+Oja);this.name=Oja,this.times=mia.convertArray(Pja,this.TimeBufferType),this.values=mia.convertArray(Qja,this.ValueBufferType),this.setInterpolation(Rja||this.DefaultInterpolation)}static toJSON(Sja){const Tja=Sja.constructor;let Uja;if(Tja.toJSON!==this.toJSON)Uja=Tja.toJSON(Sja);else{Uja={name:Sja.name,times:mia.convertArray(Sja.times,Array),values:mia.convertArray(Sja.values,Array)};const Vja=Sja.getInterpolation();Vja!==Sja.DefaultInterpolation&&(Uja.interpolation=Vja)}return Uja.type=Sja.ValueTypeName,Uja}InterpolantFactoryMethodDiscrete(Wja){return new Hja(this.times,this.values,this.getValueSize(),Wja)}InterpolantFactoryMethodLinear(Xja){return new qja(this.times,this.values,this.getValueSize(),Xja)}InterpolantFactoryMethodSmooth(Yja){return new Iia(this.times,this.values,this.getValueSize(),Yja)}setInterpolation(Zja){let $ja;switch(Zja){case 2300:$ja=this.InterpolantFactoryMethodDiscrete;break;case 2301:$ja=this.InterpolantFactoryMethodLinear;break;case 2302:$ja=this.InterpolantFactoryMethodSmooth;break}if(void 0===$ja){const _ja="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant)if(Zja!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(_ja);return console.warn("THREE.KeyframeTrack:",_ja),this}return this.createInterpolant=$ja,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}}getValueSize(){return this.values.length/this.times.length}shift(aka){if(0!==aka){const bka=this.times;for(let cka=0,dka=bka.length;cka!==dka;++cka)bka[cka]+=aka}return this}scale(eka){if(1!==eka){const fka=this.times;for(let gka=0,hka=fka.length;gka!==hka;++gka)fka[gka]*=eka}return this}trim(ika,jka){const kka=this.times,lka=kka.length;let mka=0,nka=lka-1;for(;mka!==lka&&kka[mka]<ika;)++mka;for(;-1!==nka&&kka[nka]>jka;)--nka;if(++nka,0!==mka||nka!==lka){mka>=nka&&(mka=(nka=Math.max(nka,1))-1);const oka=this.getValueSize();this.times=mia.arraySlice(kka,mka,nka),this.values=mia.arraySlice(this.values,mka*oka,nka*oka)}return this}validate(){let pka=!0;const qka=this.getValueSize();qka-Math.floor(qka)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),pka=!1);const rka=this.times,ska=this.values,tka=rka.length;0===tka&&(console.error("THREE.KeyframeTrack: Track is empty.",this),pka=!1);let uka=null;for(let vka=0;vka!==tka;vka++){const wka=rka[vka];if("number"==typeof wka&&isNaN(wka)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,vka,wka),pka=!1;break}if(null!==uka&&uka>wka){console.error("THREE.KeyframeTrack: Out of order keys.",this,vka,wka,uka),pka=!1;break}uka=wka}if(void 0!==ska&&mia.isTypedArray(ska))for(let xka=0,yka=ska.length;xka!==yka;++xka){const zka=ska[xka];if(isNaN(zka)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,xka,zka),pka=!1;break}}return pka}optimize(){const Aka=mia.arraySlice(this.times),Bka=mia.arraySlice(this.values),Cka=this.getValueSize(),Dka=2302===this.getInterpolation(),Eka=Aka.length-1;let Fka=1;for(let Gka=1;Gka<Eka;++Gka){let Hka=!1;const Ika=Aka[Gka],Jka=Aka[Gka+1];if(Ika!==Jka&&(1!==Gka||Ika!==Aka[0]))if(Dka)Hka=!0;else{const Kka=Gka*Cka,Lka=Kka-Cka,Mka=Kka+Cka;for(let Nka=0;Nka!==Cka;++Nka){const Oka=Bka[Kka+Nka];if(Oka!==Bka[Lka+Nka]||Oka!==Bka[Mka+Nka]){Hka=!0;break}}}if(Hka){if(Gka!==Fka){Aka[Fka]=Aka[Gka];const Pka=Gka*Cka,Qka=Fka*Cka;for(let Rka=0;Rka!==Cka;++Rka)Bka[Qka+Rka]=Bka[Pka+Rka]}++Fka}}if(Eka>0){Aka[Fka]=Aka[Eka];for(let Ska=Eka*Cka,Tka=Fka*Cka,Uka=0;Uka!==Cka;++Uka)Bka[Tka+Uka]=Bka[Ska+Uka];++Fka}return Fka!==Aka.length?(this.times=mia.arraySlice(Aka,0,Fka),this.values=mia.arraySlice(Bka,0,Fka*Cka)):(this.times=Aka,this.values=Bka),this}clone(){const Vka=mia.arraySlice(this.times,0),Wka=mia.arraySlice(this.values,0),Xka=this.constructor,Yka=new Xka(this.name,Vka,Wka);return Yka.createInterpolant=this.createInterpolant,Yka}}Nja.prototype.TimeBufferType=Float32Array,Nja.prototype.ValueBufferType=Float32Array,Nja.prototype.DefaultInterpolation=2301;class Zka extends Nja{}Zka.prototype.ValueTypeName="bool",Zka.prototype.ValueBufferType=Array,Zka.prototype.DefaultInterpolation=2300,Zka.prototype.InterpolantFactoryMethodLinear=void 0,Zka.prototype.InterpolantFactoryMethodSmooth=void 0;class $ka extends Nja{}$ka.prototype.ValueTypeName="color";class _ka extends Nja{}_ka.prototype.ValueTypeName="number";class ala extends nia{constructor(bla,cla,dla,ela){super(bla,cla,dla,ela)}interpolate_(fla,gla,hla,ila){const jla=this.resultBuffer,kla=this.sampleValues,lla=this.valueSize,mla=(hla-gla)/(ila-gla);let nla=fla*lla;for(let ola=nla+lla;nla!==ola;nla+=4)kn.slerpFlat(jla,0,kla,nla-lla,kla,nla,mla);return jla}}class pla extends Nja{InterpolantFactoryMethodLinear(qla){return new ala(this.times,this.values,this.getValueSize(),qla)}}pla.prototype.ValueTypeName="quaternion",pla.prototype.DefaultInterpolation=2301,pla.prototype.InterpolantFactoryMethodSmooth=void 0;class rla extends Nja{}rla.prototype.ValueTypeName="string",rla.prototype.ValueBufferType=Array,rla.prototype.DefaultInterpolation=2300,rla.prototype.InterpolantFactoryMethodLinear=void 0,rla.prototype.InterpolantFactoryMethodSmooth=void 0;class sla extends Nja{}sla.prototype.ValueTypeName="vector";class tla{constructor(ula,vla=-1,wla,xla=2500){this.name=ula,this.tracks=wla,this.duration=vla,this.blendMode=xla,this.uuid=Yg(),this.duration<0&&this.resetDuration()}static parse(yla){const zla=[],Ala=yla.tracks,Bla=1/(yla.fps||1);for(let Cla=0,Dla=Ala.length;Cla!==Dla;++Cla)zla.push(Rma(Ala[Cla]).scale(Bla));const Ela=new this(yla.name,yla.duration,zla,yla.blendMode);return Ela.uuid=yla.uuid,Ela}static toJSON(Fla){const Gla=[],Hla=Fla.tracks,Ila={name:Fla.name,duration:Fla.duration,tracks:Gla,uuid:Fla.uuid,blendMode:Fla.blendMode};for(let Jla=0,Kla=Hla.length;Jla!==Kla;++Jla)Gla.push(Nja.toJSON(Hla[Jla]));return Ila}static CreateFromMorphTargetSequence(Lla,Mla,Nla,Ola){const Pla=Mla.length,Qla=[];for(let Rla=0;Rla<Pla;Rla++){let Sla=[],Tla=[];Sla.push((Rla+Pla-1)%Pla,Rla,(Rla+1)%Pla),Tla.push(0,1,0);const Ula=mia.getKeyframeOrder(Sla);Sla=mia.sortedArray(Sla,1,Ula),Tla=mia.sortedArray(Tla,1,Ula),Ola||0!==Sla[0]||(Sla.push(Pla),Tla.push(Tla[0])),Qla.push(new _ka(".morphTargetInfluences["+Mla[Rla].name+"]",Sla,Tla).scale(1/Nla))}return new this(Lla,-1,Qla)}static findByName(Vla,Wla){let Xla=Vla;if(!Array.isArray(Vla)){const Yla=Vla;Xla=Yla.geometry&&Yla.geometry.animations||Yla.animations}for(let Zla=0;Zla<Xla.length;Zla++)if(Xla[Zla].name===Wla)return Xla[Zla];return null}static CreateClipsFromMorphTargetSequences($la,_la,ama){const bma={},cma=/^([\w-]*?)([\d]+)$/;for(let dma=0,ema=$la.length;dma<ema;dma++){const fma=$la[dma],gma=fma.name.match(cma);if(gma&&gma.length>1){const hma=gma[1];let ima=bma[hma];ima||(bma[hma]=ima=[]),ima.push(fma)}}const jma=[];for(const kma in bma)jma.push(this.CreateFromMorphTargetSequence(kma,bma[kma],_la,ama));return jma}static parseAnimation(lma,mma){if(!lma)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const nma=function(a,b,c,d,e){if(0!==c.length){const f=[],g=[];mia.flattenJSON(c,f,g,d),0!==f.length&&e.push(new a(b,f,g))}},oma=[],pma=lma.name||"default",qma=lma.fps||30,rma=lma.blendMode;let sma=lma.length|| -1;const tma=lma.hierarchy||[];for(let uma=0;uma<tma.length;uma++){const vma=tma[uma].keys;if(vma&&0!==vma.length)if(vma[0].morphTargets){const wma={};let xma;for(xma=0;xma<vma.length;xma++)if(vma[xma].morphTargets)for(let yma=0;yma<vma[xma].morphTargets.length;yma++)wma[vma[xma].morphTargets[yma]]=-1;for(const zma in wma){const Ama=[],Bma=[];for(let Cma=0;Cma!==vma[xma].morphTargets.length;++Cma){const Dma=vma[xma];Ama.push(Dma.time),Bma.push(Dma.morphTarget===zma?1:0)}oma.push(new _ka(".morphTargetInfluence["+zma+"]",Ama,Bma))}sma=wma.length*(qma||1)}else{const Ema=".bones["+mma[uma].name+"]";nma(sla,Ema+".position",vma,"pos",oma),nma(pla,Ema+".quaternion",vma,"rot",oma),nma(sla,Ema+".scale",vma,"scl",oma)}}if(0===oma.length)return null;const Fma=new this(pma,sma,oma,rma);return Fma}resetDuration(){const Gma=this.tracks;let Hma=0;for(let Ima=0,Jma=Gma.length;Ima!==Jma;++Ima){const Kma=this.tracks[Ima];Hma=Math.max(Hma,Kma.times[Kma.times.length-1])}return this.duration=Hma,this}trim(){for(let Lma=0;Lma<this.tracks.length;Lma++)this.tracks[Lma].trim(0,this.duration);return this}validate(){let Mma=!0;for(let Nma=0;Nma<this.tracks.length;Nma++)Mma=Mma&&this.tracks[Nma].validate();return Mma}optimize(){for(let Oma=0;Oma<this.tracks.length;Oma++)this.tracks[Oma].optimize();return this}clone(){const Pma=[];for(let Qma=0;Qma<this.tracks.length;Qma++)Pma.push(this.tracks[Qma].clone());return new this.constructor(this.name,this.duration,Pma,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function Rma(a){if(void 0===a.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const b=function(a){switch(a.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return _ka;case"vector":case"vector2":case"vector3":case"vector4":return sla;case"color":return $ka;case"quaternion":return pla;case"bool":case"boolean":return Zka;case"string":return rla}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+a)}(a.type);if(void 0===a.times){const c=[],d=[];mia.flattenJSON(a.keys,c,d,"value"),a.times=c,a.values=d}return void 0!==b.parse?b.parse(a):new b(a.name,a.times,a.values,a.interpolation)}const Sma={enabled:!1,files:{},add:function(a,b){!1!==this.enabled&&(this.files[a]=b)},get:function(a){if(!1!==this.enabled)return this.files[a]},remove:function(a){delete this.files[a]},clear:function(){this.files={}}},Tma=new class{constructor(Uma,Vma,Wma){const Xma=this;let Yma=!1,Zma=0,$ma=0,_ma;const ana=[];this.onStart=void 0,this.onLoad=Uma,this.onProgress=Vma,this.onError=Wma,this.itemStart=function(a){$ma++,!1===Yma&& void 0!==Xma.onStart&&Xma.onStart(a,Zma,$ma),Yma=!0},this.itemEnd=function(a){Zma++,void 0!==Xma.onProgress&&Xma.onProgress(a,Zma,$ma),Zma===$ma&&(Yma=!1,void 0!==Xma.onLoad&&Xma.onLoad())},this.itemError=function(a){void 0!==Xma.onError&&Xma.onError(a)},this.resolveURL=function(a){return _ma?_ma(a):a},this.setURLModifier=function(a){return _ma=a,this},this.addHandler=function(a,b){return ana.push(a,b),this},this.removeHandler=function(a){const b=ana.indexOf(a);return -1!==b&&ana.splice(b,2),this},this.getHandler=function(a){for(let b=0,c=ana.length;b<c;b+=2){const d=ana[b],e=ana[b+1];if(d.global&&(d.lastIndex=0),d.test(a))return e}return null}}}();class bna{constructor(cna){this.manager=void 0!==cna?cna:Tma,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(dna,ena){const fna=this;return new Promise(function(a,b){fna.load(dna,a,ena,b)})}parse(){}setCrossOrigin(gna){return this.crossOrigin=gna,this}setWithCredentials(hna){return this.withCredentials=hna,this}setPath(ina){return this.path=ina,this}setResourcePath(jna){return this.resourcePath=jna,this}setRequestHeader(kna){return this.requestHeader=kna,this}}const lna={};class mna extends bna{constructor(nna){super(nna)}load(ona,pna,qna,rna){void 0===ona&&(ona=""),void 0!==this.path&&(ona=this.path+ona),ona=this.manager.resolveURL(ona);const sna=Sma.get(ona);if(void 0!==sna)return this.manager.itemStart(ona),setTimeout(()=>{pna&&pna(sna),this.manager.itemEnd(ona)},0),sna;if(void 0!==lna[ona]){lna[ona].push({onLoad:pna,onProgress:qna,onError:rna});return}lna[ona]=[],lna[ona].push({onLoad:pna,onProgress:qna,onError:rna});const tna=new Request(ona,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"});fetch(tna).then(a=>{if(200===a.status||0===a.status){0===a.status&&console.warn("THREE.FileLoader: HTTP Status 0 received.");const b=lna[ona],c=a.body.getReader(),d=a.headers.get("Content-Length"),e=d?parseInt(d):0,f=0!==e;let g=0;return new ReadableStream({start(a){d();function d(){c.read().then(({done:c,value:h})=>{if(c)a.close();else{g+=h.byteLength;const i=new ProgressEvent("progress",{lengthComputable:f,loaded:g,total:e});for(let j=0,k=b.length;j<k;j++){const l=b[j];l.onProgress&&l.onProgress(i)}a.enqueue(h),d()}})}}})}throw Error(`fetch for "${a.url}" responded with ${a.status}: ${a.statusText}`)}).then(a=>{const b=new Response(a);switch(this.responseType){case"arraybuffer":return b.arrayBuffer();case"blob":return b.blob();case"document":return b.text().then(a=>{const b=new DOMParser();return b.parseFromString(a,this.mimeType)});case"json":return b.json();default:return b.text()}}).then(a=>{Sma.add(ona,a);const b=lna[ona];delete lna[ona];for(let c=0,d=b.length;c<d;c++){const e=b[c];e.onLoad&&e.onLoad(a)}this.manager.itemEnd(ona)}).catch(a=>{const b=lna[ona];delete lna[ona];for(let c=0,d=b.length;c<d;c++){const e=b[c];e.onError&&e.onError(a)}this.manager.itemError(ona),this.manager.itemEnd(ona)}),this.manager.itemStart(ona)}setResponseType(una){return this.responseType=una,this}setMimeType(vna){return this.mimeType=vna,this}}class wna extends bna{constructor(xna){super(xna)}load(yna,zna,Ana,Bna){void 0!==this.path&&(yna=this.path+yna),yna=this.manager.resolveURL(yna);const Cna=this,Dna=Sma.get(yna);if(void 0!==Dna)return Cna.manager.itemStart(yna),setTimeout(function(){zna&&zna(Dna),Cna.manager.itemEnd(yna)},0),Dna;const Ena=zk("img");function Fna(){Hna(),Sma.add(yna,this),zna&&zna(this),Cna.manager.itemEnd(yna)}function Gna(a){Hna(),Bna&&Bna(a),Cna.manager.itemError(yna),Cna.manager.itemEnd(yna)}function Hna(){Ena.removeEventListener("load",Fna,!1),Ena.removeEventListener("error",Gna,!1)}return Ena.addEventListener("load",Fna,!1),Ena.addEventListener("error",Gna,!1),"data:"!==yna.substr(0,5)&& void 0!==this.crossOrigin&&(Ena.crossOrigin=this.crossOrigin),Cna.manager.itemStart(yna),Ena.src=yna,Ena}}class Ina extends bna{constructor(Jna){super(Jna)}load(Kna,Lna,Mna,Nna){const Ona=new eQ(),Pna=new wna(this.manager);Pna.setCrossOrigin(this.crossOrigin),Pna.setPath(this.path);let Qna=0;function Rna(a){Pna.load(Kna[a],function(b){Ona.images[a]=b,Qna++,6===Qna&&(Ona.needsUpdate=!0,Lna&&Lna(Ona))},void 0,Nna)}for(let Sna=0;Sna<Kna.length;++Sna)Rna(Sna);return Ona}}class Tna extends bna{constructor(Una){super(Una)}load(Vna,Wna,Xna,Yna){const Zna=new Hk(),$na=new wna(this.manager);return $na.setCrossOrigin(this.crossOrigin),$na.setPath(this.path),$na.load(Vna,function(a){Zna.image=a,Zna.needsUpdate=!0,void 0!==Wna&&Wna(Zna)},Xna,Yna),Zna}}class _na extends hC{constructor(aoa,boa=1){super(),this.type="Light",this.color=new pG(aoa),this.intensity=boa}dispose(){}copy(coa){return super.copy(coa),this.color.copy(coa.color),this.intensity=coa.intensity,this}toJSON(doa){const eoa=super.toJSON(doa);return eoa.object.color=this.color.getHex(),eoa.object.intensity=this.intensity,void 0!==this.groundColor&&(eoa.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(eoa.object.distance=this.distance),void 0!==this.angle&&(eoa.object.angle=this.angle),void 0!==this.decay&&(eoa.object.decay=this.decay),void 0!==this.penumbra&&(eoa.object.penumbra=this.penumbra),void 0!==this.shadow&&(eoa.object.shadow=this.shadow.toJSON()),eoa}}_na.prototype.isLight=!0,(class extends _na{constructor(foa,goa,hoa){super(foa,hoa),this.type="HemisphereLight",this.position.copy(hC.DefaultUp),this.updateMatrix(),this.groundColor=new pG(goa)}copy(ioa){return _na.prototype.copy.call(this,ioa),this.groundColor.copy(ioa.groundColor),this}}).prototype.isHemisphereLight=!0;const joa=new dw(),koa=new Sp(),loa=new Sp();class moa{constructor(noa){this.camera=noa,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new eh(512,512),this.map=null,this.mapPass=null,this.matrix=new dw(),this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new yR(),this._frameExtents=new eh(1,1),this._viewportCount=1,this._viewports=[new bl(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(ooa){const poa=this.camera,qoa=this.matrix;koa.setFromMatrixPosition(ooa.matrixWorld),poa.position.copy(koa),loa.setFromMatrixPosition(ooa.target.matrixWorld),poa.lookAt(loa),poa.updateMatrixWorld(),joa.multiplyMatrices(poa.projectionMatrix,poa.matrixWorldInverse),this._frustum.setFromProjectionMatrix(joa),qoa.set(0.5,0,0,0.5,0,0.5,0,0.5,0,0,0.5,0.5,0,0,0,1),qoa.multiply(poa.projectionMatrix),qoa.multiply(poa.matrixWorldInverse)}getViewport(roa){return this._viewports[roa]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(soa){return this.camera=soa.camera.clone(),this.bias=soa.bias,this.radius=soa.radius,this.mapSize.copy(soa.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const toa={};return 0!==this.bias&&(toa.bias=this.bias),0!==this.normalBias&&(toa.normalBias=this.normalBias),1!==this.radius&&(toa.radius=this.radius),(512!==this.mapSize.x||512!==this.mapSize.y)&&(toa.mapSize=this.mapSize.toArray()),toa.camera=this.camera.toJSON(!1).object,delete toa.camera.matrix,toa}}class uoa extends moa{constructor(){super(new jP(50,1,0.5,500)),this.focus=1}updateMatrices(voa){const woa=this.camera,xoa=2*Xg*voa.angle*this.focus,yoa=this.mapSize.width/this.mapSize.height,zoa=voa.distance||woa.far;(xoa!==woa.fov||yoa!==woa.aspect||zoa!==woa.far)&&(woa.fov=xoa,woa.aspect=yoa,woa.far=zoa,woa.updateProjectionMatrix()),super.updateMatrices(voa)}copy(Aoa){return super.copy(Aoa),this.focus=Aoa.focus,this}}uoa.prototype.isSpotLightShadow=!0;class Boa extends _na{constructor(Coa,Doa,Eoa=0,Foa=Math.PI/3,Goa=0,Hoa=1){super(Coa,Doa),this.type="SpotLight",this.position.copy(hC.DefaultUp),this.updateMatrix(),this.target=new hC(),this.distance=Eoa,this.angle=Foa,this.penumbra=Goa,this.decay=Hoa,this.shadow=new uoa()}get power(){return this.intensity*Math.PI}set power(Ioa){this.intensity=Ioa/Math.PI}dispose(){this.shadow.dispose()}copy(Joa){return super.copy(Joa),this.distance=Joa.distance,this.angle=Joa.angle,this.penumbra=Joa.penumbra,this.decay=Joa.decay,this.target=Joa.target.clone(),this.shadow=Joa.shadow.clone(),this}}Boa.prototype.isSpotLight=!0;const Koa=new dw(),Loa=new Sp(),Moa=new Sp();class Noa extends moa{constructor(){super(new jP(90,1,0.5,500)),this._frameExtents=new eh(4,2),this._viewportCount=6,this._viewports=[new bl(2,1,1,1),new bl(0,1,1,1),new bl(3,1,1,1),new bl(1,1,1,1),new bl(3,0,1,1),new bl(1,0,1,1)],this._cubeDirections=[new Sp(1,0,0),new Sp(-1,0,0),new Sp(0,0,1),new Sp(0,0,-1),new Sp(0,1,0),new Sp(0,-1,0)],this._cubeUps=[new Sp(0,1,0),new Sp(0,1,0),new Sp(0,1,0),new Sp(0,1,0),new Sp(0,0,1),new Sp(0,0,-1)]}updateMatrices(Ooa,Poa=0){const Qoa=this.camera,Roa=this.matrix,Soa=Ooa.distance||Qoa.far;Soa!==Qoa.far&&(Qoa.far=Soa,Qoa.updateProjectionMatrix()),Loa.setFromMatrixPosition(Ooa.matrixWorld),Qoa.position.copy(Loa),Moa.copy(Qoa.position),Moa.add(this._cubeDirections[Poa]),Qoa.up.copy(this._cubeUps[Poa]),Qoa.lookAt(Moa),Qoa.updateMatrixWorld(),Roa.makeTranslation(-Loa.x,-Loa.y,-Loa.z),Koa.multiplyMatrices(Qoa.projectionMatrix,Qoa.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Koa)}}Noa.prototype.isPointLightShadow=!0;class Toa extends _na{constructor(Uoa,Voa,Woa=0,Xoa=1){super(Uoa,Voa),this.type="PointLight",this.distance=Woa,this.decay=Xoa,this.shadow=new Noa()}get power(){return 4*this.intensity*Math.PI}set power(Yoa){this.intensity=Yoa/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(Zoa){return super.copy(Zoa),this.distance=Zoa.distance,this.decay=Zoa.decay,this.shadow=Zoa.shadow.clone(),this}}Toa.prototype.isPointLight=!0;class $oa extends moa{constructor(){super(new hT(-5,5,5,-5,0.5,500))}}$oa.prototype.isDirectionalLightShadow=!0;class _oa extends _na{constructor(apa,bpa){super(apa,bpa),this.type="DirectionalLight",this.position.copy(hC.DefaultUp),this.updateMatrix(),this.target=new hC(),this.shadow=new $oa()}dispose(){this.shadow.dispose()}copy(cpa){return super.copy(cpa),this.target=cpa.target.clone(),this.shadow=cpa.shadow.clone(),this}}_oa.prototype.isDirectionalLight=!0;class dpa extends _na{constructor(epa,fpa){super(epa,fpa),this.type="AmbientLight"}}dpa.prototype.isAmbientLight=!0,(class extends _na{constructor(gpa,hpa,ipa=10,jpa=10){super(gpa,hpa),this.type="RectAreaLight",this.width=ipa,this.height=jpa}get power(){return this.intensity*this.width*this.height*Math.PI}set power(kpa){this.intensity=kpa/(this.width*this.height*Math.PI)}copy(lpa){return super.copy(lpa),this.width=lpa.width,this.height=lpa.height,this}toJSON(mpa){const npa=super.toJSON(mpa);return npa.object.width=this.width,npa.object.height=this.height,npa}}).prototype.isRectAreaLight=!0;class opa{constructor(){this.coefficients=[];for(let ppa=0;ppa<9;ppa++)this.coefficients.push(new Sp())}set(qpa){for(let rpa=0;rpa<9;rpa++)this.coefficients[rpa].copy(qpa[rpa]);return this}zero(){for(let spa=0;spa<9;spa++)this.coefficients[spa].set(0,0,0);return this}getAt(tpa,upa){const vpa=tpa.x,wpa=tpa.y,xpa=tpa.z,ypa=this.coefficients;return upa.copy(ypa[0]).multiplyScalar(0.282095),upa.addScaledVector(ypa[1],0.488603*wpa),upa.addScaledVector(ypa[2],0.488603*xpa),upa.addScaledVector(ypa[3],0.488603*vpa),upa.addScaledVector(ypa[4],1.092548*(vpa*wpa)),upa.addScaledVector(ypa[5],1.092548*(wpa*xpa)),upa.addScaledVector(ypa[6],0.315392*(3*xpa*xpa-1)),upa.addScaledVector(ypa[7],1.092548*(vpa*xpa)),upa.addScaledVector(ypa[8],0.546274*(vpa*vpa-wpa*wpa)),upa}getIrradianceAt(zpa,Apa){const Bpa=zpa.x,Cpa=zpa.y,Dpa=zpa.z,Epa=this.coefficients;return Apa.copy(Epa[0]).multiplyScalar(0.886227),Apa.addScaledVector(Epa[1],1.023328*Cpa),Apa.addScaledVector(Epa[2],1.023328*Dpa),Apa.addScaledVector(Epa[3],1.023328*Bpa),Apa.addScaledVector(Epa[4],0.858086*Bpa*Cpa),Apa.addScaledVector(Epa[5],0.858086*Cpa*Dpa),Apa.addScaledVector(Epa[6],0.743125*Dpa*Dpa-0.247708),Apa.addScaledVector(Epa[7],0.858086*Bpa*Dpa),Apa.addScaledVector(Epa[8],0.429043*(Bpa*Bpa-Cpa*Cpa)),Apa}add(Fpa){for(let Gpa=0;Gpa<9;Gpa++)this.coefficients[Gpa].add(Fpa.coefficients[Gpa]);return this}addScaledSH(Hpa,Ipa){for(let Jpa=0;Jpa<9;Jpa++)this.coefficients[Jpa].addScaledVector(Hpa.coefficients[Jpa],Ipa);return this}scale(Kpa){for(let Lpa=0;Lpa<9;Lpa++)this.coefficients[Lpa].multiplyScalar(Kpa);return this}lerp(Mpa,Npa){for(let Opa=0;Opa<9;Opa++)this.coefficients[Opa].lerp(Mpa.coefficients[Opa],Npa);return this}equals(Ppa){for(let Qpa=0;Qpa<9;Qpa++)if(!this.coefficients[Qpa].equals(Ppa.coefficients[Qpa]))return!1;return!0}copy(Rpa){return this.set(Rpa.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(Spa,Tpa=0){const Upa=this.coefficients;for(let Vpa=0;Vpa<9;Vpa++)Upa[Vpa].fromArray(Spa,Tpa+3*Vpa);return this}toArray(Wpa=[],Xpa=0){const Ypa=this.coefficients;for(let Zpa=0;Zpa<9;Zpa++)Ypa[Zpa].toArray(Wpa,Xpa+3*Zpa);return Wpa}static getBasisAt($pa,_pa){const aqa=$pa.x,bqa=$pa.y,cqa=$pa.z;_pa[0]=0.282095,_pa[1]=0.488603*bqa,_pa[2]=0.488603*cqa,_pa[3]=0.488603*aqa,_pa[4]=1.092548*aqa*bqa,_pa[5]=1.092548*bqa*cqa,_pa[6]=0.315392*(3*cqa*cqa-1),_pa[7]=1.092548*aqa*cqa,_pa[8]=0.546274*(aqa*aqa-bqa*bqa)}}opa.prototype.isSphericalHarmonics3=!0;class dqa extends _na{constructor(eqa=new opa(),fqa=1){super(void 0,fqa),this.sh=eqa}copy(gqa){return super.copy(gqa),this.sh.copy(gqa.sh),this}fromJSON(hqa){return this.intensity=hqa.intensity,this.sh.fromArray(hqa.sh),this}toJSON(iqa){const jqa=super.toJSON(iqa);return jqa.object.sh=this.sh.toArray(),jqa}}dqa.prototype.isLightProbe=!0;class kqa{static decodeText(lqa){if("undefined"!=typeof TextDecoder)return new TextDecoder().decode(lqa);let mqa="";for(let nqa=0,oqa=lqa.length;nqa<oqa;nqa++)mqa+=String.fromCharCode(lqa[nqa]);try{return decodeURIComponent(escape(mqa))}catch(pqa){return mqa}}static extractUrlBase(qqa){const rqa=qqa.lastIndexOf("/");return -1===rqa?"./":qqa.substr(0,rqa+1)}static resolveURL(sqa,tqa){return"string"!=typeof sqa||""===sqa?"":(/^https?:\/\//i.test(tqa)&&/^\//.test(sqa)&&(tqa=tqa.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(sqa))?sqa:/^data:.*,.*$/i.test(sqa)?sqa:/^blob:.*$/i.test(sqa)?sqa:tqa+sqa}}(class extends IJ{constructor(){super(),this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(uqa){return super.copy(uqa),this.instanceCount=uqa.instanceCount,this}clone(){return new this.constructor().copy(this)}toJSON(){const vqa=super.toJSON(this);return vqa.instanceCount=this.instanceCount,vqa.isInstancedBufferGeometry=!0,vqa}}).prototype.isInstancedBufferGeometry=!0;class wqa extends bna{constructor(xqa){super(xqa),"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(yqa){return this.options=yqa,this}load(zqa,Aqa,Bqa,Cqa){void 0===zqa&&(zqa=""),void 0!==this.path&&(zqa=this.path+zqa),zqa=this.manager.resolveURL(zqa);const Dqa=this,Eqa=Sma.get(zqa);if(void 0!==Eqa)return Dqa.manager.itemStart(zqa),setTimeout(function(){Aqa&&Aqa(Eqa),Dqa.manager.itemEnd(zqa)},0),Eqa;const Fqa={};Fqa.credentials="anonymous"===this.crossOrigin?"same-origin":"include",Fqa.headers=this.requestHeader,fetch(zqa,Fqa).then(function(a){return a.blob()}).then(function(a){return createImageBitmap(a,Object.assign(Dqa.options,{colorSpaceConversion:"none"}))}).then(function(a){Sma.add(zqa,a),Aqa&&Aqa(a),Dqa.manager.itemEnd(zqa)}).catch(function(a){Cqa&&Cqa(a),Dqa.manager.itemError(zqa),Dqa.manager.itemEnd(zqa)}),Dqa.manager.itemStart(zqa)}}wqa.prototype.isImageBitmapLoader=!0;let Gqa;const Hqa={getContext:function(){return void 0===Gqa&&(Gqa=new(window.AudioContext||window.webkitAudioContext)()),Gqa},setContext:function(a){Gqa=a}};class Iqa extends bna{constructor(Jqa){super(Jqa)}load(Kqa,Lqa,Mqa,Nqa){const Oqa=this,Pqa=new mna(this.manager);Pqa.setResponseType("arraybuffer"),Pqa.setPath(this.path),Pqa.setRequestHeader(this.requestHeader),Pqa.setWithCredentials(this.withCredentials),Pqa.load(Kqa,function(a){try{const b=a.slice(0),c=Hqa.getContext();c.decodeAudioData(b,function(a){Lqa(a)})}catch(d){Nqa?Nqa(d):console.error(d),Oqa.manager.itemError(Kqa)}},Mqa,Nqa)}}(class extends dqa{constructor(Qqa,Rqa,Sqa=1){super(void 0,Sqa);const Tqa=new pG().set(Qqa),Uqa=new pG().set(Rqa),Vqa=new Sp(Tqa.r,Tqa.g,Tqa.b),Wqa=new Sp(Uqa.r,Uqa.g,Uqa.b),Xqa=Math.sqrt(Math.PI);this.sh.coefficients[0].copy(Vqa).add(Wqa).multiplyScalar(Xqa),this.sh.coefficients[1].copy(Vqa).sub(Wqa).multiplyScalar(Xqa*Math.sqrt(0.75))}}).prototype.isHemisphereLightProbe=!0,(class extends dqa{constructor(Yqa,Zqa=1){super(void 0,Zqa);const $qa=new pG().set(Yqa);this.sh.coefficients[0].set($qa.r,$qa.g,$qa.b).multiplyScalar(2*Math.sqrt(Math.PI))}}).prototype.isAmbientLightProbe=!0,new dw(),new dw(),new dw(),new Sp(),new kn(),new Sp(),new Sp(),new Sp(),new kn(),new Sp(),new Sp();class _qa{constructor(ara,bra,cra){this.binding=ara,this.valueSize=cra;let dra,era,fra;switch(bra){case"quaternion":dra=this._slerp,era=this._slerpAdditive,fra=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*cra),this._workIndex=5;break;case"string":case"bool":dra=this._select,era=this._select,fra=this._setAdditiveIdentityOther,this.buffer=new Array(5*cra);break;default:dra=this._lerp,era=this._lerpAdditive,fra=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*cra)}this._mixBufferRegion=dra,this._mixBufferRegionAdditive=era,this._setIdentity=fra,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(gra,hra){const ira=this.buffer,jra=this.valueSize,kra=gra*jra+jra;let lra=this.cumulativeWeight;if(0===lra){for(let mra=0;mra!==jra;++mra)ira[kra+mra]=ira[mra];lra=hra}else{lra+=hra;const nra=hra/lra;this._mixBufferRegion(ira,kra,0,nra,jra)}this.cumulativeWeight=lra}accumulateAdditive(ora){const pra=this.buffer,qra=this.valueSize,rra=qra*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(pra,rra,0,ora,qra),this.cumulativeWeightAdditive+=ora}apply(sra){const tra=this.valueSize,ura=this.buffer,vra=sra*tra+tra,wra=this.cumulativeWeight,xra=this.cumulativeWeightAdditive,yra=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,wra<1){const zra=tra*this._origIndex;this._mixBufferRegion(ura,vra,zra,1-wra,tra)}xra>0&&this._mixBufferRegionAdditive(ura,vra,this._addIndex*tra,1,tra);for(let Ara=tra,Bra=tra+tra;Ara!==Bra;++Ara)if(ura[Ara]!==ura[Ara+tra]){yra.setValue(ura,vra);break}}saveOriginalState(){const Cra=this.binding,Dra=this.buffer,Era=this.valueSize,Fra=Era*this._origIndex;Cra.getValue(Dra,Fra);for(let Gra=Era,Hra=Fra;Gra!==Hra;++Gra)Dra[Gra]=Dra[Fra+Gra%Era];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const Ira=3*this.valueSize;this.binding.setValue(this.buffer,Ira)}_setAdditiveIdentityNumeric(){const Jra=this._addIndex*this.valueSize,Kra=Jra+this.valueSize;for(let Lra=Jra;Lra<Kra;Lra++)this.buffer[Lra]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const Mra=this._origIndex*this.valueSize,Nra=this._addIndex*this.valueSize;for(let Ora=0;Ora<this.valueSize;Ora++)this.buffer[Nra+Ora]=this.buffer[Mra+Ora]}_select(Pra,Qra,Rra,Sra,Tra){if(Sra>=0.5)for(let Ura=0;Ura!==Tra;++Ura)Pra[Qra+Ura]=Pra[Rra+Ura]}_slerp(Vra,Wra,Xra,Yra){kn.slerpFlat(Vra,Wra,Vra,Wra,Vra,Xra,Yra)}_slerpAdditive(Zra,$ra,_ra,asa,bsa){const csa=this._workIndex*bsa;kn.multiplyQuaternionsFlat(Zra,csa,Zra,$ra,Zra,_ra),kn.slerpFlat(Zra,$ra,Zra,$ra,Zra,csa,asa)}_lerp(dsa,esa,fsa,gsa,hsa){const isa=1-gsa;for(let jsa=0;jsa!==hsa;++jsa){const ksa=esa+jsa;dsa[ksa]=dsa[ksa]*isa+dsa[fsa+jsa]*gsa}}_lerpAdditive(lsa,msa,nsa,osa,psa){for(let qsa=0;qsa!==psa;++qsa){const rsa=msa+qsa;lsa[rsa]=lsa[rsa]+lsa[nsa+qsa]*osa}}}const ssa="\\[\\]\\.:\\/",tsa=new RegExp("["+ssa+"]","g"),usa="[^"+ssa+"]",vsa="[^"+ssa.replace("\\.","")+"]",wsa=/((?:WC+[\/:])*)/.source.replace("WC",usa),xsa=/(WCOD+)?/.source.replace("WCOD",vsa),ysa=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",usa),zsa=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",usa),Asa=new RegExp("^"+wsa+xsa+ysa+zsa+"$"),Bsa=["material","materials","bones"];class Csa{constructor(Dsa,Esa,Fsa){this.path=Esa,this.parsedPath=Fsa||Csa.parseTrackName(Esa),this.node=Csa.findNode(Dsa,this.parsedPath.nodeName)||Dsa,this.rootNode=Dsa,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(Gsa,Hsa,Isa){return Gsa&&Gsa.isAnimationObjectGroup?new Csa.Composite(Gsa,Hsa,Isa):new Csa(Gsa,Hsa,Isa)}static sanitizeNodeName(Jsa){return Jsa.replace(/\s/g,"_").replace(tsa,"")}static parseTrackName(Ksa){const Lsa=Asa.exec(Ksa);if(!Lsa)throw new Error("PropertyBinding: Cannot parse trackName: "+Ksa);const Msa={nodeName:Lsa[2],objectName:Lsa[3],objectIndex:Lsa[4],propertyName:Lsa[5],propertyIndex:Lsa[6]},Nsa=Msa.nodeName&&Msa.nodeName.lastIndexOf(".");if(void 0!==Nsa&& -1!==Nsa){const Osa=Msa.nodeName.substring(Nsa+1);-1!==Bsa.indexOf(Osa)&&(Msa.nodeName=Msa.nodeName.substring(0,Nsa),Msa.objectName=Osa)}if(null===Msa.propertyName||0===Msa.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+Ksa);return Msa}static findNode(Psa,Qsa){if(!Qsa||""===Qsa||"."===Qsa|| -1===Qsa||Qsa===Psa.name||Qsa===Psa.uuid)return Psa;if(Psa.skeleton){const Rsa=Psa.skeleton.getBoneByName(Qsa);if(void 0!==Rsa)return Rsa}if(Psa.children){const Ssa=function(a){for(let b=0;b<a.length;b++){const c=a[b];if(c.name===Qsa||c.uuid===Qsa)return c;const d=Ssa(c.children);if(d)return d}return null},Tsa=Ssa(Psa.children);if(Tsa)return Tsa}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(Usa,Vsa){Usa[Vsa]=this.targetObject[this.propertyName]}_getValue_array(Wsa,Xsa){const Ysa=this.resolvedProperty;for(let Zsa=0,$sa=Ysa.length;Zsa!==$sa;++Zsa)Wsa[Xsa++]=Ysa[Zsa]}_getValue_arrayElement(_sa,ata){_sa[ata]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(bta,cta){this.resolvedProperty.toArray(bta,cta)}_setValue_direct(dta,eta){this.targetObject[this.propertyName]=dta[eta]}_setValue_direct_setNeedsUpdate(fta,gta){this.targetObject[this.propertyName]=fta[gta],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(hta,ita){this.targetObject[this.propertyName]=hta[ita],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(jta,kta){const lta=this.resolvedProperty;for(let mta=0,nta=lta.length;mta!==nta;++mta)lta[mta]=jta[kta++]}_setValue_array_setNeedsUpdate(ota,pta){const qta=this.resolvedProperty;for(let rta=0,sta=qta.length;rta!==sta;++rta)qta[rta]=ota[pta++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(tta,uta){const vta=this.resolvedProperty;for(let wta=0,xta=vta.length;wta!==xta;++wta)vta[wta]=tta[uta++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(yta,zta){this.resolvedProperty[this.propertyIndex]=yta[zta]}_setValue_arrayElement_setNeedsUpdate(Ata,Bta){this.resolvedProperty[this.propertyIndex]=Ata[Bta],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(Cta,Dta){this.resolvedProperty[this.propertyIndex]=Cta[Dta],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(Eta,Fta){this.resolvedProperty.fromArray(Eta,Fta)}_setValue_fromArray_setNeedsUpdate(Gta,Hta){this.resolvedProperty.fromArray(Gta,Hta),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(Ita,Jta){this.resolvedProperty.fromArray(Ita,Jta),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(Kta,Lta){this.bind(),this.getValue(Kta,Lta)}_setValue_unbound(Mta,Nta){this.bind(),this.setValue(Mta,Nta)}bind(){let Ota=this.node;const Pta=this.parsedPath,Qta=Pta.objectName,Rta=Pta.propertyName;let Sta=Pta.propertyIndex;if(Ota||(Ota=Csa.findNode(this.rootNode,Pta.nodeName)||this.rootNode,this.node=Ota),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!Ota){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(Qta){let Tta=Pta.objectIndex;switch(Qta){case"materials":if(!Ota.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!Ota.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}Ota=Ota.material.materials;break;case"bones":if(!Ota.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}Ota=Ota.skeleton.bones;for(let Uta=0;Uta<Ota.length;Uta++)if(Ota[Uta].name===Tta){Tta=Uta;break}break;default:if(void 0===Ota[Qta]){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}Ota=Ota[Qta]}if(void 0!==Tta){if(void 0===Ota[Tta]){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,Ota);return}Ota=Ota[Tta]}}const Vta=Ota[Rta];if(void 0===Vta){const Wta=Pta.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+Wta+"."+Rta+" but it wasn't found.",Ota);return}let Xta=this.Versioning.None;this.targetObject=Ota,void 0!==Ota.needsUpdate?Xta=this.Versioning.NeedsUpdate:void 0!==Ota.matrixWorldNeedsUpdate&&(Xta=this.Versioning.MatrixWorldNeedsUpdate);let Yta=this.BindingType.Direct;if(void 0!==Sta){if("morphTargetInfluences"===Rta){if(!Ota.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(Ota.geometry.isBufferGeometry){if(!Ota.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}void 0!==Ota.morphTargetDictionary[Sta]&&(Sta=Ota.morphTargetDictionary[Sta])}else{console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);return}}Yta=this.BindingType.ArrayElement,this.resolvedProperty=Vta,this.propertyIndex=Sta}else void 0!==Vta.fromArray&& void 0!==Vta.toArray?(Yta=this.BindingType.HasFromToArray,this.resolvedProperty=Vta):Array.isArray(Vta)?(Yta=this.BindingType.EntireArray,this.resolvedProperty=Vta):this.propertyName=Rta;this.getValue=this.GetterByBindingType[Yta],this.setValue=this.SetterByBindingTypeAndVersioning[Yta][Xta]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Csa.Composite=class{constructor(Zta,$ta,_ta){const aua=_ta||Csa.parseTrackName($ta);this._targetGroup=Zta,this._bindings=Zta.subscribe_($ta,aua)}getValue(bua,cua){this.bind();const dua=this._targetGroup.nCachedObjects_,eua=this._bindings[dua];void 0!==eua&&eua.getValue(bua,cua)}setValue(fua,gua){const hua=this._bindings;for(let iua=this._targetGroup.nCachedObjects_,jua=hua.length;iua!==jua;++iua)hua[iua].setValue(fua,gua)}bind(){const kua=this._bindings;for(let lua=this._targetGroup.nCachedObjects_,mua=kua.length;lua!==mua;++lua)kua[lua].bind()}unbind(){const nua=this._bindings;for(let oua=this._targetGroup.nCachedObjects_,pua=nua.length;oua!==pua;++oua)nua[oua].unbind()}},Csa.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Csa.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},Csa.prototype.GetterByBindingType=[Csa.prototype._getValue_direct,Csa.prototype._getValue_array,Csa.prototype._getValue_arrayElement,Csa.prototype._getValue_toArray,],Csa.prototype.SetterByBindingTypeAndVersioning=[[Csa.prototype._setValue_direct,Csa.prototype._setValue_direct_setNeedsUpdate,Csa.prototype._setValue_direct_setMatrixWorldNeedsUpdate,],[Csa.prototype._setValue_array,Csa.prototype._setValue_array_setNeedsUpdate,Csa.prototype._setValue_array_setMatrixWorldNeedsUpdate,],[Csa.prototype._setValue_arrayElement,Csa.prototype._setValue_arrayElement_setNeedsUpdate,Csa.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate,],[Csa.prototype._setValue_fromArray,Csa.prototype._setValue_fromArray_setNeedsUpdate,Csa.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate,]],(class{constructor(){this.uuid=Yg(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const qua={};this._indicesByUUID=qua;for(let rua=0,sua=arguments.length;rua!==sua;++rua)qua[arguments[rua].uuid]=rua;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={},this.stats={objects:{get total(){return this._objects.length},get inUse(){return this.total-this.nCachedObjects_}},get bindingsPerObject(){return this._bindings.length}}}add(){const tua=this._objects,uua=this._indicesByUUID,vua=this._paths,wua=this._parsedPaths,xua=this._bindings,yua=xua.length;let zua,Aua=tua.length,Bua=this.nCachedObjects_;for(let Cua=0,Dua=arguments.length;Cua!==Dua;++Cua){const Eua=arguments[Cua],Fua=Eua.uuid;let Gua=uua[Fua];if(void 0===Gua){Gua=Aua++,uua[Fua]=Gua,tua.push(Eua);for(let Hua=0,Iua=yua;Hua!==Iua;++Hua)xua[Hua].push(new Csa(Eua,vua[Hua],wua[Hua]))}else if(Gua<Bua){zua=tua[Gua];const Jua=--Bua,Kua=tua[Jua];uua[Kua.uuid]=Gua,tua[Gua]=Kua,uua[Fua]=Jua,tua[Jua]=Eua;for(let Lua=0,Mua=yua;Lua!==Mua;++Lua){const Nua=xua[Lua],Oua=Nua[Jua];let Pua=Nua[Gua];Nua[Gua]=Oua,void 0===Pua&&(Pua=new Csa(Eua,vua[Lua],wua[Lua])),Nua[Jua]=Pua}}else tua[Gua]!==zua&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=Bua}remove(){const Qua=this._objects,Rua=this._indicesByUUID,Sua=this._bindings,Tua=Sua.length;let Uua=this.nCachedObjects_;for(let Vua=0,Wua=arguments.length;Vua!==Wua;++Vua){const Xua=arguments[Vua],Yua=Xua.uuid,Zua=Rua[Yua];if(void 0!==Zua&&Zua>=Uua){const $ua=Uua++,_ua=Qua[$ua];Rua[_ua.uuid]=Zua,Qua[Zua]=_ua,Rua[Yua]=$ua,Qua[$ua]=Xua;for(let ava=0,bva=Tua;ava!==bva;++ava){const cva=Sua[ava],dva=cva[$ua],eva=cva[Zua];cva[Zua]=dva,cva[$ua]=eva}}}this.nCachedObjects_=Uua}uncache(){const fva=this._objects,gva=this._indicesByUUID,hva=this._bindings,iva=hva.length;let jva=this.nCachedObjects_,kva=fva.length;for(let lva=0,mva=arguments.length;lva!==mva;++lva){const nva=arguments[lva],ova=nva.uuid,pva=gva[ova];if(void 0!==pva)if(delete gva[ova],pva<jva){const qva=--jva,rva=fva[qva],sva=--kva,tva=fva[sva];gva[rva.uuid]=pva,fva[pva]=rva,gva[tva.uuid]=qva,fva[qva]=tva,fva.pop();for(let uva=0,vva=iva;uva!==vva;++uva){const wva=hva[uva],xva=wva[qva],yva=wva[sva];wva[pva]=xva,wva[qva]=yva,wva.pop()}}else{const zva=--kva,Ava=fva[zva];zva>0&&(gva[Ava.uuid]=pva),fva[pva]=Ava,fva.pop();for(let Bva=0,Cva=iva;Bva!==Cva;++Bva){const Dva=hva[Bva];Dva[pva]=Dva[zva],Dva.pop()}}}this.nCachedObjects_=jva}subscribe_(Eva,Fva){const Gva=this._bindingsIndicesByPath;let Hva=Gva[Eva];const Iva=this._bindings;if(void 0!==Hva)return Iva[Hva];const Jva=this._paths,Kva=this._parsedPaths,Lva=this._objects,Mva=Lva.length,Nva=this.nCachedObjects_,Ova=new Array(Mva);Hva=Iva.length,Gva[Eva]=Hva,Jva.push(Eva),Kva.push(Fva),Iva.push(Ova);for(let Pva=Nva,Qva=Lva.length;Pva!==Qva;++Pva){const Rva=Lva[Pva];Ova[Pva]=new Csa(Rva,Eva,Fva)}return Ova}unsubscribe_(Sva){const Tva=this._bindingsIndicesByPath,Uva=Tva[Sva];if(void 0!==Uva){const Vva=this._paths,Wva=this._parsedPaths,Xva=this._bindings,Yva=Xva.length-1,Zva=Xva[Yva],$va=Sva[Yva];Tva[$va]=Uva,Xva[Uva]=Zva,Xva.pop(),Wva[Uva]=Wva[Yva],Wva.pop(),Vva[Uva]=Vva[Yva],Vva.pop()}}}).prototype.isAnimationObjectGroup=!0;class _va{constructor(awa,bwa,cwa=null,dwa=bwa.blendMode){this._mixer=awa,this._clip=bwa,this._localRoot=cwa,this.blendMode=dwa;const ewa=bwa.tracks,fwa=ewa.length,gwa=new Array(fwa),hwa={endingStart:2400,endingEnd:2400};for(let iwa=0;iwa!==fwa;++iwa){const jwa=ewa[iwa].createInterpolant(null);gwa[iwa]=jwa,jwa.settings=hwa}this._interpolantSettings=hwa,this._interpolants=gwa,this._propertyBindings=new Array(fwa),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(kwa){return this._startTime=kwa,this}setLoop(lwa,mwa){return this.loop=lwa,this.repetitions=mwa,this}setEffectiveWeight(nwa){return this.weight=nwa,this._effectiveWeight=this.enabled?nwa:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(owa){return this._scheduleFading(owa,0,1)}fadeOut(pwa){return this._scheduleFading(pwa,1,0)}crossFadeFrom(qwa,rwa,swa){if(qwa.fadeOut(rwa),this.fadeIn(rwa),swa){const twa=this._clip.duration,uwa=qwa._clip.duration,vwa=uwa/twa,wwa=twa/uwa;qwa.warp(1,vwa,rwa),this.warp(wwa,1,rwa)}return this}crossFadeTo(xwa,ywa,zwa){return xwa.crossFadeFrom(this,ywa,zwa)}stopFading(){const Awa=this._weightInterpolant;return null!==Awa&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(Awa)),this}setEffectiveTimeScale(Bwa){return this.timeScale=Bwa,this._effectiveTimeScale=this.paused?0:Bwa,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(Cwa){return this.timeScale=this._clip.duration/Cwa,this.stopWarping()}syncWith(Dwa){return this.time=Dwa.time,this.timeScale=Dwa.timeScale,this.stopWarping()}halt(Ewa){return this.warp(this._effectiveTimeScale,0,Ewa)}warp(Fwa,Gwa,Hwa){const Iwa=this._mixer,Jwa=Iwa.time,Kwa=this.timeScale;let Lwa=this._timeScaleInterpolant;null===Lwa&&(Lwa=Iwa._lendControlInterpolant(),this._timeScaleInterpolant=Lwa);const Mwa=Lwa.parameterPositions,Nwa=Lwa.sampleValues;return Mwa[0]=Jwa,Mwa[1]=Jwa+Hwa,Nwa[0]=Fwa/Kwa,Nwa[1]=Gwa/Kwa,this}stopWarping(){const Owa=this._timeScaleInterpolant;return null!==Owa&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(Owa)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(Pwa,Qwa,Rwa,Swa){if(!this.enabled){this._updateWeight(Pwa);return}const Twa=this._startTime;if(null!==Twa){const Uwa=(Pwa-Twa)*Rwa;if(Uwa<0||0===Rwa)return;this._startTime=null,Qwa=Rwa*Uwa}Qwa*=this._updateTimeScale(Pwa);const Vwa=this._updateTime(Qwa),Wwa=this._updateWeight(Pwa);if(Wwa>0){const Xwa=this._interpolants,Ywa=this._propertyBindings;switch(this.blendMode){case 2501:for(let Zwa=0,$wa=Xwa.length;Zwa!==$wa;++Zwa)Xwa[Zwa].evaluate(Vwa),Ywa[Zwa].accumulateAdditive(Wwa);break;case 2500:default:for(let _wa=0,axa=Xwa.length;_wa!==axa;++_wa)Xwa[_wa].evaluate(Vwa),Ywa[_wa].accumulate(Swa,Wwa)}}}_updateWeight(bxa){let cxa=0;if(this.enabled){cxa=this.weight;const dxa=this._weightInterpolant;if(null!==dxa){const exa=dxa.evaluate(bxa)[0];cxa*=exa,bxa>dxa.parameterPositions[1]&&(this.stopFading(),0===exa&&(this.enabled=!1))}}return this._effectiveWeight=cxa,cxa}_updateTimeScale(fxa){let gxa=0;if(!this.paused){gxa=this.timeScale;const hxa=this._timeScaleInterpolant;if(null!==hxa){const ixa=hxa.evaluate(fxa)[0];gxa*=ixa,fxa>hxa.parameterPositions[1]&&(this.stopWarping(),0===gxa?this.paused=!0:this.timeScale=gxa)}}return this._effectiveTimeScale=gxa,gxa}_updateTime(jxa){const kxa=this._clip.duration,lxa=this.loop;let mxa=this.time+jxa,nxa=this._loopCount;const oxa=2202===lxa;if(0===jxa)return -1===nxa?mxa:oxa&&(1&nxa)==1?kxa-mxa:mxa;if(2200===lxa){-1===nxa&&(this._loopCount=0,this._setEndings(!0,!0,!1));handle_stop:{if(mxa>=kxa)mxa=kxa;else if(mxa<0)mxa=0;else{this.time=mxa;break handle_stop}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=mxa,this._mixer.dispatchEvent({type:"finished",action:this,direction:jxa<0?-1:1})}}else{if(-1===nxa&&(jxa>=0?(nxa=0,this._setEndings(!0,0===this.repetitions,oxa)):this._setEndings(0===this.repetitions,!0,oxa)),mxa>=kxa||mxa<0){const pxa=Math.floor(mxa/kxa);mxa-=kxa*pxa,nxa+=Math.abs(pxa);const qxa=this.repetitions-nxa;if(qxa<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,mxa=jxa>0?kxa:0,this.time=mxa,this._mixer.dispatchEvent({type:"finished",action:this,direction:jxa>0?1:-1});else{if(1===qxa){const rxa=jxa<0;this._setEndings(rxa,!rxa,oxa)}else this._setEndings(!1,!1,oxa);this._loopCount=nxa,this.time=mxa,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:pxa})}}else this.time=mxa;if(oxa&&(1&nxa)==1)return kxa-mxa}return mxa}_setEndings(sxa,txa,uxa){const vxa=this._interpolantSettings;uxa?(vxa.endingStart=2401,vxa.endingEnd=2401):(sxa?vxa.endingStart=this.zeroSlopeAtStart?2401:2400:vxa.endingStart=2402,txa?vxa.endingEnd=this.zeroSlopeAtEnd?2401:2400:vxa.endingEnd=2402)}_scheduleFading(wxa,xxa,yxa){const zxa=this._mixer,Axa=zxa.time;let Bxa=this._weightInterpolant;null===Bxa&&(Bxa=zxa._lendControlInterpolant(),this._weightInterpolant=Bxa);const Cxa=Bxa.parameterPositions,Dxa=Bxa.sampleValues;return Cxa[0]=Axa,Dxa[0]=xxa,Cxa[1]=Axa+wxa,Dxa[1]=yxa,this}}(class extends Bg{constructor(Exa){super(),this._root=Exa,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(Fxa,Gxa){const Hxa=Fxa._localRoot||this._root,Ixa=Fxa._clip.tracks,Jxa=Ixa.length,Kxa=Fxa._propertyBindings,Lxa=Fxa._interpolants,Mxa=Hxa.uuid,Nxa=this._bindingsByRootAndName;let Oxa=Nxa[Mxa];void 0===Oxa&&(Oxa={},Nxa[Mxa]=Oxa);for(let Pxa=0;Pxa!==Jxa;++Pxa){const Qxa=Ixa[Pxa],Rxa=Qxa.name;let Sxa=Oxa[Rxa];if(void 0!==Sxa)Kxa[Pxa]=Sxa;else{if(void 0!==(Sxa=Kxa[Pxa])){null===Sxa._cacheIndex&&(++Sxa.referenceCount,this._addInactiveBinding(Sxa,Mxa,Rxa));continue}const Txa=Gxa&&Gxa._propertyBindings[Pxa].binding.parsedPath;Sxa=new _qa(Csa.create(Hxa,Rxa,Txa),Qxa.ValueTypeName,Qxa.getValueSize()),++Sxa.referenceCount,this._addInactiveBinding(Sxa,Mxa,Rxa),Kxa[Pxa]=Sxa}Lxa[Pxa].resultBuffer=Sxa.buffer}}_activateAction(Uxa){if(!this._isActiveAction(Uxa)){if(null===Uxa._cacheIndex){const Vxa=(Uxa._localRoot||this._root).uuid,Wxa=Uxa._clip.uuid,Xxa=this._actionsByClip[Wxa];this._bindAction(Uxa,Xxa&&Xxa.knownActions[0]),this._addInactiveAction(Uxa,Wxa,Vxa)}const Yxa=Uxa._propertyBindings;for(let Zxa=0,$xa=Yxa.length;Zxa!==$xa;++Zxa){const _xa=Yxa[Zxa];0==_xa.useCount++&&(this._lendBinding(_xa),_xa.saveOriginalState())}this._lendAction(Uxa)}}_deactivateAction(aya){if(this._isActiveAction(aya)){const bya=aya._propertyBindings;for(let cya=0,dya=bya.length;cya!==dya;++cya){const eya=bya[cya];0== --eya.useCount&&(eya.restoreOriginalState(),this._takeBackBinding(eya))}this._takeBackAction(aya)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0,this.stats={actions:{get total(){return this._actions.length},get inUse(){return this._nActiveActions}},bindings:{get total(){return this._bindings.length},get inUse(){return this._nActiveBindings}},controlInterpolants:{get total(){return this._controlInterpolants.length},get inUse(){return this._nActiveControlInterpolants}}}}_isActiveAction(fya){const gya=fya._cacheIndex;return null!==gya&&gya<this._nActiveActions}_addInactiveAction(hya,iya,jya){const kya=this._actions,lya=this._actionsByClip;let mya=lya[iya];if(void 0===mya)mya={knownActions:[hya],actionByRoot:{}},hya._byClipCacheIndex=0,lya[iya]=mya;else{const nya=mya.knownActions;hya._byClipCacheIndex=nya.length,nya.push(hya)}hya._cacheIndex=kya.length,kya.push(hya),mya.actionByRoot[jya]=hya}_removeInactiveAction(oya){const pya=this._actions,qya=pya[pya.length-1],rya=oya._cacheIndex;qya._cacheIndex=rya,pya[rya]=qya,pya.pop(),oya._cacheIndex=null;const sya=oya._clip.uuid,tya=this._actionsByClip,uya=tya[sya],vya=uya.knownActions,wya=vya[vya.length-1],xya=oya._byClipCacheIndex;wya._byClipCacheIndex=xya,vya[xya]=wya,vya.pop(),oya._byClipCacheIndex=null;const yya=uya.actionByRoot,zya=(oya._localRoot||this._root).uuid;delete yya[zya],0===vya.length&&delete tya[sya],this._removeInactiveBindingsForAction(oya)}_removeInactiveBindingsForAction(Aya){const Bya=Aya._propertyBindings;for(let Cya=0,Dya=Bya.length;Cya!==Dya;++Cya){const Eya=Bya[Cya];0== --Eya.referenceCount&&this._removeInactiveBinding(Eya)}}_lendAction(Fya){const Gya=this._actions,Hya=Fya._cacheIndex,Iya=this._nActiveActions++,Jya=Gya[Iya];Fya._cacheIndex=Iya,Gya[Iya]=Fya,Jya._cacheIndex=Hya,Gya[Hya]=Jya}_takeBackAction(Kya){const Lya=this._actions,Mya=Kya._cacheIndex,Nya=--this._nActiveActions,Oya=Lya[Nya];Kya._cacheIndex=Nya,Lya[Nya]=Kya,Oya._cacheIndex=Mya,Lya[Mya]=Oya}_addInactiveBinding(Pya,Qya,Rya){const Sya=this._bindingsByRootAndName,Tya=this._bindings;let Uya=Sya[Qya];void 0===Uya&&(Uya={},Sya[Qya]=Uya),Uya[Rya]=Pya,Pya._cacheIndex=Tya.length,Tya.push(Pya)}_removeInactiveBinding(Vya){const Wya=this._bindings,Xya=Vya.binding,Yya=Xya.rootNode.uuid,Zya=Xya.path,$ya=this._bindingsByRootAndName,_ya=$ya[Yya],aza=Wya[Wya.length-1],bza=Vya._cacheIndex;aza._cacheIndex=bza,Wya[bza]=aza,Wya.pop(),delete _ya[Zya],0===Object.keys(_ya).length&&delete $ya[Yya]}_lendBinding(cza){const dza=this._bindings,eza=cza._cacheIndex,fza=this._nActiveBindings++,gza=dza[fza];cza._cacheIndex=fza,dza[fza]=cza,gza._cacheIndex=eza,dza[eza]=gza}_takeBackBinding(hza){const iza=this._bindings,jza=hza._cacheIndex,kza=--this._nActiveBindings,lza=iza[kza];hza._cacheIndex=kza,iza[kza]=hza,lza._cacheIndex=jza,iza[jza]=lza}_lendControlInterpolant(){const mza=this._controlInterpolants,nza=this._nActiveControlInterpolants++;let oza=mza[nza];return void 0===oza&&((oza=new qja(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=nza,mza[nza]=oza),oza}_takeBackControlInterpolant(pza){const qza=this._controlInterpolants,rza=pza.__cacheIndex,sza=--this._nActiveControlInterpolants,tza=qza[sza];pza.__cacheIndex=sza,qza[sza]=pza,tza.__cacheIndex=rza,qza[rza]=tza}clipAction(uza,vza,wza){const xza=vza||this._root,yza=xza.uuid;let zza="string"==typeof uza?tla.findByName(xza,uza):uza;const Aza=null!==zza?zza.uuid:uza,Bza=this._actionsByClip[Aza];let Cza=null;if(void 0===wza&&(wza=null!==zza?zza.blendMode:2500),void 0!==Bza){const Dza=Bza.actionByRoot[yza];if(void 0!==Dza&&Dza.blendMode===wza)return Dza;Cza=Bza.knownActions[0],null===zza&&(zza=Cza._clip)}if(null===zza)return null;const Eza=new _va(this,zza,vza,wza);return this._bindAction(Eza,Cza),this._addInactiveAction(Eza,Aza,yza),Eza}existingAction(Fza,Gza){const Hza=Gza||this._root,Iza=Hza.uuid,Jza="string"==typeof Fza?tla.findByName(Hza,Fza):Fza,Kza=Jza?Jza.uuid:Fza,Lza=this._actionsByClip[Kza];return void 0!==Lza?Lza.actionByRoot[Iza]||null:null}stopAllAction(){const Mza=this._actions,Nza=this._nActiveActions;for(let Oza=Nza-1;Oza>=0;--Oza)Mza[Oza].stop();return this}update(Pza){Pza*=this.timeScale;const Qza=this._actions,Rza=this._nActiveActions,Sza=this.time+=Pza,Tza=Math.sign(Pza),Uza=this._accuIndex^=1;for(let Vza=0;Vza!==Rza;++Vza){const Wza=Qza[Vza];Wza._update(Sza,Pza,Tza,Uza)}const Xza=this._bindings,Yza=this._nActiveBindings;for(let Zza=0;Zza!==Yza;++Zza)Xza[Zza].apply(Uza);return this}setTime($za){this.time=0;for(let _za=0;_za<this._actions.length;_za++)this._actions[_za].time=0;return this.update($za)}getRoot(){return this._root}uncacheClip(aAa){const bAa=this._actions,cAa=aAa.uuid,dAa=this._actionsByClip,eAa=dAa[cAa];if(void 0!==eAa){const fAa=eAa.knownActions;for(let gAa=0,hAa=fAa.length;gAa!==hAa;++gAa){const iAa=fAa[gAa];this._deactivateAction(iAa);const jAa=iAa._cacheIndex,kAa=bAa[bAa.length-1];iAa._cacheIndex=null,iAa._byClipCacheIndex=null,kAa._cacheIndex=jAa,bAa[jAa]=kAa,bAa.pop(),this._removeInactiveBindingsForAction(iAa)}delete dAa[cAa]}}uncacheRoot(lAa){const mAa=lAa.uuid,nAa=this._actionsByClip;for(const oAa in nAa){const pAa=nAa[oAa].actionByRoot,qAa=pAa[mAa];void 0!==qAa&&(this._deactivateAction(qAa),this._removeInactiveAction(qAa))}const rAa=this._bindingsByRootAndName,sAa=rAa[mAa];if(void 0!==sAa)for(const tAa in sAa){const uAa=sAa[tAa];uAa.restoreOriginalState(),this._removeInactiveBinding(uAa)}}uncacheAction(vAa,wAa){const xAa=this.existingAction(vAa,wAa);null!==xAa&&(this._deactivateAction(xAa),this._removeInactiveAction(xAa))}}).prototype._controlInterpolantsResultBuffer=new Float32Array(1);class yAa{constructor(zAa){"string"==typeof zAa&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),zAa=arguments[1]),this.value=zAa}clone(){return new yAa(void 0===this.value.clone?this.value:this.value.clone())}}function AAa(a,b,c,d){if(a.layers.test(b.layers)&&a.raycast(b,c),!0===d){const e=a.children;for(let f=0,g=e.length;f<g;f++)AAa(e[f],b,c,!0)}}(class extends lZ{constructor(BAa,CAa,DAa=1){super(BAa,CAa),this.meshPerAttribute=DAa}copy(EAa){return super.copy(EAa),this.meshPerAttribute=EAa.meshPerAttribute,this}clone(FAa){const GAa=super.clone(FAa);return GAa.meshPerAttribute=this.meshPerAttribute,GAa}toJSON(HAa){const IAa=super.toJSON(HAa);return IAa.isInstancedInterleavedBuffer=!0,IAa.meshPerAttribute=this.meshPerAttribute,IAa}}).prototype.isInstancedInterleavedBuffer=!0,(class{constructor(JAa,KAa,LAa,MAa,NAa){this.buffer=JAa,this.type=KAa,this.itemSize=LAa,this.elementSize=MAa,this.count=NAa,this.version=0}set needsUpdate(OAa){!0===OAa&&this.version++}setBuffer(PAa){return this.buffer=PAa,this}setType(QAa,RAa){return this.type=QAa,this.elementSize=RAa,this}setItemSize(SAa){return this.itemSize=SAa,this}setCount(TAa){return this.count=TAa,this}}).prototype.isGLBufferAttribute=!0;class UAa{constructor(VAa=1,WAa=0,XAa=0){return this.radius=VAa,this.phi=WAa,this.theta=XAa,this}set(YAa,ZAa,$Aa){return this.radius=YAa,this.phi=ZAa,this.theta=$Aa,this}copy(_Aa){return this.radius=_Aa.radius,this.phi=_Aa.phi,this.theta=_Aa.theta,this}makeSafe(){return this.phi=Math.max(0.000001,Math.min(Math.PI-0.000001,this.phi)),this}setFromVector3(aBa){return this.setFromCartesianCoords(aBa.x,aBa.y,aBa.z)}setFromCartesianCoords(bBa,cBa,dBa){return this.radius=Math.sqrt(bBa*bBa+cBa*cBa+dBa*dBa),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(bBa,dBa),this.phi=Math.acos(Zg(cBa/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}const eBa=new eh();class fBa{constructor(gBa=new eh(Infinity,Infinity),hBa=new eh(-1/0,-1/0)){this.min=gBa,this.max=hBa}set(iBa,jBa){return this.min.copy(iBa),this.max.copy(jBa),this}setFromPoints(kBa){this.makeEmpty();for(let lBa=0,mBa=kBa.length;lBa<mBa;lBa++)this.expandByPoint(kBa[lBa]);return this}setFromCenterAndSize(nBa,oBa){const pBa=eBa.copy(oBa).multiplyScalar(0.5);return this.min.copy(nBa).sub(pBa),this.max.copy(nBa).add(pBa),this}clone(){return new this.constructor().copy(this)}copy(qBa){return this.min.copy(qBa.min),this.max.copy(qBa.max),this}makeEmpty(){return this.min.x=this.min.y=Infinity,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(rBa){return this.isEmpty()?rBa.set(0,0):rBa.addVectors(this.min,this.max).multiplyScalar(0.5)}getSize(sBa){return this.isEmpty()?sBa.set(0,0):sBa.subVectors(this.max,this.min)}expandByPoint(tBa){return this.min.min(tBa),this.max.max(tBa),this}expandByVector(uBa){return this.min.sub(uBa),this.max.add(uBa),this}expandByScalar(vBa){return this.min.addScalar(-vBa),this.max.addScalar(vBa),this}containsPoint(wBa){return!(wBa.x<this.min.x)&&!(wBa.x>this.max.x)&&!(wBa.y<this.min.y)&&!(wBa.y>this.max.y)}containsBox(xBa){return this.min.x<=xBa.min.x&&xBa.max.x<=this.max.x&&this.min.y<=xBa.min.y&&xBa.max.y<=this.max.y}getParameter(yBa,zBa){return zBa.set((yBa.x-this.min.x)/(this.max.x-this.min.x),(yBa.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(ABa){return!(ABa.max.x<this.min.x)&&!(ABa.min.x>this.max.x)&&!(ABa.max.y<this.min.y)&&!(ABa.min.y>this.max.y)}clampPoint(BBa,CBa){return CBa.copy(BBa).clamp(this.min,this.max)}distanceToPoint(DBa){const EBa=eBa.copy(DBa).clamp(this.min,this.max);return EBa.sub(DBa).length()}intersect(FBa){return this.min.max(FBa.min),this.max.min(FBa.max),this}union(GBa){return this.min.min(GBa.min),this.max.max(GBa.max),this}translate(HBa){return this.min.add(HBa),this.max.add(HBa),this}equals(IBa){return IBa.min.equals(this.min)&&IBa.max.equals(this.max)}}fBa.prototype.isBox2=!0;const JBa=new Sp(),KBa=new Sp(),LBa=new Sp(),MBa=new Sp(),NBa=new dw(),OBa=new dw();function PBa(a){const b=[];a&&a.isBone&&b.push(a);for(let c=0;c<a.children.length;c++)b.push.apply(b,PBa(a.children[c]));return b}new Sp(),new pG(),new pG(),new Sp(),new Sp(),new Sp(),new Sp(),new bP(),new ws(),new Sp();const QBa=new Float32Array(1);new Int32Array(QBa.buffer),a5.create=function(a,b){return console.log("THREE.Curve.create() has been deprecated"),a.prototype=Object.create(a5.prototype),a.prototype.constructor=a,a.prototype.getPoint=b,a},maa.prototype.fromPoints=function(a){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(a)},(class extends j2{constructor(RBa=10,SBa=10,TBa=4473924,UBa=8947848){TBa=new pG(TBa),UBa=new pG(UBa);const VBa=SBa/2,WBa=RBa/SBa,XBa=RBa/2,YBa=[],ZBa=[];for(let $Ba=0,_Ba=0,aCa=-XBa;$Ba<=SBa;$Ba++,aCa+=WBa){YBa.push(-XBa,0,aCa,XBa,0,aCa),YBa.push(aCa,0,-XBa,aCa,0,XBa);const bCa=$Ba===VBa?TBa:UBa;bCa.toArray(ZBa,_Ba),_Ba+=3,bCa.toArray(ZBa,_Ba),_Ba+=3,bCa.toArray(ZBa,_Ba),_Ba+=3,bCa.toArray(ZBa,_Ba),_Ba+=3}const cCa=new IJ();cCa.setAttribute("position",new xJ(YBa,3)),cCa.setAttribute("color",new xJ(ZBa,3));const dCa=new g1({vertexColors:!0,toneMapped:!1});super(cCa,dCa),this.type="GridHelper"}}).prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},(class extends j2{constructor(eCa){const fCa=PBa(eCa),gCa=new IJ(),hCa=[],iCa=[],jCa=new pG(0,0,1),kCa=new pG(0,1,0);for(let lCa=0;lCa<fCa.length;lCa++){const mCa=fCa[lCa];mCa.parent&&mCa.parent.isBone&&(hCa.push(0,0,0),hCa.push(0,0,0),iCa.push(jCa.r,jCa.g,jCa.b),iCa.push(kCa.r,kCa.g,kCa.b))}gCa.setAttribute("position",new xJ(hCa,3)),gCa.setAttribute("color",new xJ(iCa,3));const nCa=new g1({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(gCa,nCa),this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=eCa,this.bones=fCa,this.matrix=eCa.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(oCa){const pCa=this.bones,qCa=this.geometry,rCa=qCa.getAttribute("position");OBa.copy(this.root.matrixWorld).invert();for(let sCa=0,tCa=0;sCa<pCa.length;sCa++){const uCa=pCa[sCa];uCa.parent&&uCa.parent.isBone&&(NBa.multiplyMatrices(OBa,uCa.matrixWorld),MBa.setFromMatrixPosition(NBa),rCa.setXYZ(tCa,MBa.x,MBa.y,MBa.z),NBa.multiplyMatrices(OBa,uCa.parent.matrixWorld),MBa.setFromMatrixPosition(NBa),rCa.setXYZ(tCa+1,MBa.x,MBa.y,MBa.z),tCa+=2)}qCa.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(oCa)}}).prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},bna.prototype.extractUrlBase=function(a){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),kqa.extractUrlBase(a)},bna.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},fBa.prototype.center=function(a){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(a)},fBa.prototype.empty=function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},fBa.prototype.isIntersectionBox=function(a){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(a)},fBa.prototype.size=function(a){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(a)},ws.prototype.center=function(a){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(a)},ws.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},ws.prototype.isIntersectionBox=function(a){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(a)},ws.prototype.isIntersectionSphere=function(a){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(a)},ws.prototype.size=function(a){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(a)},au.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()},yR.prototype.setFromMatrix=function(a){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(a)},(class{constructor(vCa=new Sp(),wCa=new Sp()){this.start=vCa,this.end=wCa}set(xCa,yCa){return this.start.copy(xCa),this.end.copy(yCa),this}copy(zCa){return this.start.copy(zCa.start),this.end.copy(zCa.end),this}getCenter(ACa){return ACa.addVectors(this.start,this.end).multiplyScalar(0.5)}delta(BCa){return BCa.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(CCa,DCa){return this.delta(DCa).multiplyScalar(CCa).add(this.start)}closestPointToPointParameter(ECa,FCa){JBa.subVectors(ECa,this.start),KBa.subVectors(this.end,this.start);const GCa=KBa.dot(KBa),HCa=KBa.dot(JBa);let ICa=HCa/GCa;return FCa&&(ICa=Zg(ICa,0,1)),ICa}closestPointToPoint(JCa,KCa,LCa){const MCa=this.closestPointToPointParameter(JCa,KCa);return this.delta(LCa).multiplyScalar(MCa).add(this.start)}applyMatrix4(NCa){return this.start.applyMatrix4(NCa),this.end.applyMatrix4(NCa),this}equals(OCa){return OCa.start.equals(this.start)&&OCa.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}).prototype.center=function(a){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(a)},vi.prototype.flattenToArrayOffset=function(a,b){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(a,b)},vi.prototype.multiplyVector3=function(a){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),a.applyMatrix3(this)},vi.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},vi.prototype.applyToBufferAttribute=function(a){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),a.applyMatrix3(this)},vi.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")},vi.prototype.getInverse=function(a){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(a).invert()},dw.prototype.extractPosition=function(a){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(a)},dw.prototype.flattenToArrayOffset=function(a,b){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(a,b)},dw.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),new Sp().setFromMatrixColumn(this,3)},dw.prototype.setRotationFromQuaternion=function(a){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(a)},dw.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},dw.prototype.multiplyVector3=function(a){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),a.applyMatrix4(this)},dw.prototype.multiplyVector4=function(a){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),a.applyMatrix4(this)},dw.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},dw.prototype.rotateAxis=function(a){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),a.transformDirection(this)},dw.prototype.crossVector=function(a){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),a.applyMatrix4(this)},dw.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")},dw.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},dw.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},dw.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},dw.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},dw.prototype.applyToBufferAttribute=function(a){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),a.applyMatrix4(this)},dw.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},dw.prototype.makeFrustum=function(a,b,c,d,e,f){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(a,b,d,c,e,f)},dw.prototype.getInverse=function(a){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(a).invert()},LQ.prototype.isIntersectionLine=function(a){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(a)},kn.prototype.multiplyVector3=function(a){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),a.applyQuaternion(this)},kn.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()},Lu.prototype.isIntersectionBox=function(a){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(a)},Lu.prototype.isIntersectionPlane=function(a){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(a)},Lu.prototype.isIntersectionSphere=function(a){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(a)},qE.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},qE.prototype.barycoordFromPoint=function(a,b){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(a,b)},qE.prototype.midpoint=function(a){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(a)},qE.prototypenormal=function(a){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(a)},qE.prototype.plane=function(a){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(a)},qE.barycoordFromPoint=function(a,b,c,d,e){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),qE.getBarycoord(a,b,c,d,e)},qE.normal=function(a,b,c,d){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),qE.getNormal(a,b,c,d)},vba.prototype.extractAllPoints=function(a){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(a)},vba.prototype.extrude=function(a){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Kca(this,a)},vba.prototype.makeGeometry=function(a){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new rea(this,a)},eh.prototype.fromAttribute=function(a,b,c){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(a,b,c)},eh.prototype.distanceToManhattan=function(a){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(a)},eh.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},Sp.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},Sp.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},Sp.prototype.getPositionFromMatrix=function(a){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(a)},Sp.prototype.getScaleFromMatrix=function(a){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(a)},Sp.prototype.getColumnFromMatrix=function(a,b){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(b,a)},Sp.prototype.applyProjection=function(a){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(a)},Sp.prototype.fromAttribute=function(a,b,c){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(a,b,c)},Sp.prototype.distanceToManhattan=function(a){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(a)},Sp.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},bl.prototype.fromAttribute=function(a,b,c){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(a,b,c)},bl.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},hC.prototype.getChildByName=function(a){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(a)},hC.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},hC.prototype.translate=function(a,b){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(b,a)},hC.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},hC.prototype.applyMatrix=function(a){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(a)},Object.defineProperties(hC.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(a){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=a}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),rN.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")},Object.defineProperties(rN.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),0},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),f_.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},jP.prototype.setLens=function(a,b){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==b&&(this.filmGauge=b),this.setFocalLength(a)},Object.defineProperties(_na.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(a){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=a}},shadowCameraLeft:{set:function(a){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=a}},shadowCameraRight:{set:function(a){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=a}},shadowCameraTop:{set:function(a){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=a}},shadowCameraBottom:{set:function(a){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=a}},shadowCameraNear:{set:function(a){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=a}},shadowCameraFar:{set:function(a){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=a}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(a){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=a}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(a){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=a}},shadowMapHeight:{set:function(a){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=a}}}),Object.defineProperties(PH.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),35048===this.usage},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(35048)}}}),PH.prototype.setDynamic=function(a){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===a?35048:35044),this},PH.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},PH.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},IJ.prototype.addIndex=function(a){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(a)},IJ.prototype.addAttribute=function(a,b){return(console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),b&&b.isBufferAttribute||b&&b.isInterleavedBufferAttribute)?"index"===a?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(b),this):this.setAttribute(a,b):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(a,new PH(arguments[1],arguments[2])))},IJ.prototype.addDrawCall=function(a,b,c){void 0!==c&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(a,b)},IJ.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},IJ.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},IJ.prototype.removeAttribute=function(a){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(a)},IJ.prototype.applyMatrix=function(a){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(a)},Object.defineProperties(IJ.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),lZ.prototype.setDynamic=function(a){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===a?35048:35044),this},lZ.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},Kca.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")},Kca.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")},Kca.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")},gZ.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")},yAa.prototype.onUpdate=function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this},Object.defineProperties(TF.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new pG()}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(a){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===a}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(a){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=a}},vertexTangents:{get:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")},set:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")}}}),Object.defineProperties(TO.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(a){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=a}}}),$Y.prototype.clearTarget=function(a,b,c,d){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(a),this.clear(b,c,d)},$Y.prototype.animate=function(a){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(a)},$Y.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},$Y.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},$Y.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},$Y.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},$Y.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},$Y.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},$Y.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},$Y.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},$Y.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},$Y.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},$Y.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},$Y.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},$Y.prototype.enableScissorTest=function(a){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(a)},$Y.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},$Y.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},$Y.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},$Y.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},$Y.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},$Y.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},$Y.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},$Y.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},$Y.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},$Y.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()},Object.defineProperties($Y.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(a){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=a}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(a){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=a}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(a){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=!0===a?3001:3000}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}}),Object.defineProperties(FX.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(Km.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(a){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=a}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(a){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=a}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(a){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=a}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(a){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=a}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(a){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=a}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(a){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=a}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(a){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=a}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(a){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=a}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(a){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=a}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(a){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=a}}}),(class extends hC{constructor(PCa){super(),this.type="Audio",this.listener=PCa,this.context=PCa.context,this.gain=this.context.createGain(),this.gain.connect(PCa.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(QCa){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=QCa,this.connect(),this}setMediaElementSource(RCa){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(RCa),this.connect(),this}setMediaStreamSource(SCa){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(SCa),this.connect(),this}setBuffer(TCa){return this.buffer=TCa,this.sourceType="buffer",this.autoplay&&this.play(),this}play(UCa=0){if(!0===this.isPlaying){console.warn("THREE.Audio: Audio is already playing.");return}if(!1===this.hasPlaybackControl){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+UCa;const VCa=this.context.createBufferSource();return VCa.buffer=this.buffer,VCa.loop=this.loop,VCa.loopStart=this.loopStart,VCa.loopEnd=this.loopEnd,VCa.onended=this.onEnded.bind(this),VCa.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=VCa,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(!1===this.hasPlaybackControl){console.warn("THREE.Audio: this Audio has no playback control.");return}return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(!1===this.hasPlaybackControl){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let WCa=1,XCa=this.filters.length;WCa<XCa;WCa++)this.filters[WCa-1].connect(this.filters[WCa]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let YCa=1,ZCa=this.filters.length;YCa<ZCa;YCa++)this.filters[YCa-1].disconnect(this.filters[YCa]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters($Ca){return $Ca||($Ca=[]),!0===this._connected?(this.disconnect(),this.filters=$Ca.slice(),this.connect()):this.filters=$Ca.slice(),this}setDetune(_Ca){if(this.detune=_Ca,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,0.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(aDa){return this.setFilters(aDa?[aDa]:[])}setPlaybackRate(bDa){if(!1===this.hasPlaybackControl){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=bDa,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,0.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(cDa){if(!1===this.hasPlaybackControl){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=cDa,!0===this.isPlaying&&(this.source.loop=this.loop),this}setLoopStart(dDa){return this.loopStart=dDa,this}setLoopEnd(eDa){return this.loopEnd=eDa,this}getVolume(){return this.gain.gain.value}setVolume(fDa){return this.gain.gain.setTargetAtTime(fDa,this.context.currentTime,0.01),this}}).prototype.load=function(a){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const b=this,c=new Iqa();return c.load(a,function(a){b.setBuffer(a)}),this},(class{constructor(gDa,hDa=2048){this.analyser=gDa.context.createAnalyser(),this.analyser.fftSize=hDa,this.data=new Uint8Array(this.analyser.frequencyBinCount),gDa.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let iDa=0;const jDa=this.getFrequencyData();for(let kDa=0;kDa<jDa.length;kDa++)iDa+=jDa[kDa];return iDa/jDa.length}}).prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},KP.prototype.updateCubeMap=function(a,b){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(a,b)},KP.prototype.clear=function(a,b,c,d){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(a,b,c,d)},Ck.crossOrigin=void 0,Ck.loadTexture=function(a,b,c,d){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const e=new Tna();e.setCrossOrigin(this.crossOrigin);const f=e.load(a,c,void 0,d);return b&&(f.mapping=b),f},Ck.loadTextureCube=function(a,b,c,d){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const e=new Ina();e.setCrossOrigin(this.crossOrigin);const f=e.load(a,c,void 0,d);return b&&(f.mapping=b),f},Ck.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},Ck.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"135"}})),"undefined"!=typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="135");const lDa={type:"change"},mDa={type:"start"},nDa={type:"end"};class oDa extends Bg{constructor(pDa,qDa){super(),void 0===qDa&&console.warn("THREE.OrbitControls: The second parameter \"domElement\" is now mandatory."),qDa===document&&console.error("THREE.OrbitControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead."),this.object=pDa,this.domElement=qDa,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new Sp(),this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=0.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:0,MIDDLE:1,RIGHT:2},this.touches={ONE:0,TWO:2},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return vDa.phi},this.getAzimuthalAngle=function(){return vDa.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(a){a.addEventListener("keydown",hEa),this._domElementKeyEvents=a},this.saveState=function(){rDa.target0.copy(rDa.target),rDa.position0.copy(rDa.object.position),rDa.zoom0=rDa.object.zoom},this.reset=function(){rDa.target.copy(rDa.target0),rDa.object.position.copy(rDa.position0),rDa.object.zoom=rDa.zoom0,rDa.object.updateProjectionMatrix(),rDa.dispatchEvent(lDa),rDa.update(),tDa=sDa.NONE},this.update=(function(){const a=new Sp(),b=new kn().setFromUnitVectors(pDa.up,new Sp(0,1,0)),c=b.clone().invert(),d=new Sp(),e=new kn(),f=2*Math.PI;return function(){const g=rDa.object.position;a.copy(g).sub(rDa.target),a.applyQuaternion(b),vDa.setFromVector3(a),rDa.autoRotate&&tDa===sDa.NONE&&NDa(LDa()),rDa.enableDamping?(vDa.theta+=wDa.theta*rDa.dampingFactor,vDa.phi+=wDa.phi*rDa.dampingFactor):(vDa.theta+=wDa.theta,vDa.phi+=wDa.phi);let h=rDa.minAzimuthAngle,i=rDa.maxAzimuthAngle;return isFinite(h)&&isFinite(i)&&(h< -Math.PI?h+=f:h>Math.PI&&(h-=f),i< -Math.PI?i+=f:i>Math.PI&&(i-=f),h<=i?vDa.theta=Math.max(h,Math.min(i,vDa.theta)):vDa.theta=vDa.theta>(h+i)/2?Math.max(h,vDa.theta):Math.min(i,vDa.theta)),vDa.phi=Math.max(rDa.minPolarAngle,Math.min(rDa.maxPolarAngle,vDa.phi)),vDa.makeSafe(),vDa.radius*=xDa,vDa.radius=Math.max(rDa.minDistance,Math.min(rDa.maxDistance,vDa.radius)),!0===rDa.enableDamping?rDa.target.addScaledVector(yDa,rDa.dampingFactor):rDa.target.add(yDa),a.setFromSpherical(vDa),a.applyQuaternion(c),g.copy(rDa.target).add(a),rDa.object.lookAt(rDa.target),!0===rDa.enableDamping?(wDa.theta*=1-rDa.dampingFactor,wDa.phi*=1-rDa.dampingFactor,yDa.multiplyScalar(1-rDa.dampingFactor)):(wDa.set(0,0,0),yDa.set(0,0,0)),xDa=1,!!(zDa||d.distanceToSquared(rDa.object.position)>uDa||8*(1-e.dot(rDa.object.quaternion))>uDa)&&(rDa.dispatchEvent(lDa),d.copy(rDa.object.position),e.copy(rDa.object.quaternion),zDa=!1,!0)}})(),this.dispose=function(){rDa.domElement.removeEventListener("contextmenu",kEa),rDa.domElement.removeEventListener("pointerdown",aEa),rDa.domElement.removeEventListener("pointercancel",dEa),rDa.domElement.removeEventListener("wheel",gEa),rDa.domElement.removeEventListener("pointermove",bEa),rDa.domElement.removeEventListener("pointerup",cEa),null!==rDa._domElementKeyEvents&&rDa._domElementKeyEvents.removeEventListener("keydown",hEa)};const rDa=this,sDa={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let tDa=sDa.NONE;const uDa=0.000001,vDa=new UAa(),wDa=new UAa();let xDa=1;const yDa=new Sp();let zDa=!1;const ADa=new eh(),BDa=new eh(),CDa=new eh(),DDa=new eh(),EDa=new eh(),FDa=new eh(),GDa=new eh(),HDa=new eh(),IDa=new eh(),JDa=[],KDa={};function LDa(){return 2*Math.PI/60/60*rDa.autoRotateSpeed}function MDa(){return Math.pow(0.95,rDa.zoomSpeed)}function NDa(a){wDa.theta-=a}function ODa(a){wDa.phi-=a}const PDa=function(){const a=new Sp();return function(b,c){a.setFromMatrixColumn(c,0),a.multiplyScalar(-b),yDa.add(a)}}(),QDa=function(){const a=new Sp();return function(b,c){!0===rDa.screenSpacePanning?a.setFromMatrixColumn(c,1):(a.setFromMatrixColumn(c,0),a.crossVectors(rDa.object.up,a)),a.multiplyScalar(b),yDa.add(a)}}(),RDa=function(){const a=new Sp();return function(b,c){const d=rDa.domElement;if(rDa.object.isPerspectiveCamera){const e=rDa.object.position;a.copy(e).sub(rDa.target);let f=a.length();PDa(2*b*(f*=Math.tan(rDa.object.fov/2*Math.PI/180))/d.clientHeight,rDa.object.matrix),QDa(2*c*f/d.clientHeight,rDa.object.matrix)}else rDa.object.isOrthographicCamera?(PDa(b*(rDa.object.right-rDa.object.left)/rDa.object.zoom/d.clientWidth,rDa.object.matrix),QDa(c*(rDa.object.top-rDa.object.bottom)/rDa.object.zoom/d.clientHeight,rDa.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),rDa.enablePan=!1)}}();function SDa(a){rDa.object.isPerspectiveCamera?xDa/=a:rDa.object.isOrthographicCamera?(rDa.object.zoom=Math.max(rDa.minZoom,Math.min(rDa.maxZoom,rDa.object.zoom*a)),rDa.object.updateProjectionMatrix(),zDa=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),rDa.enableZoom=!1)}function TDa(a){rDa.object.isPerspectiveCamera?xDa*=a:rDa.object.isOrthographicCamera?(rDa.object.zoom=Math.max(rDa.minZoom,Math.min(rDa.maxZoom,rDa.object.zoom/a)),rDa.object.updateProjectionMatrix(),zDa=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),rDa.enableZoom=!1)}function UDa(a){ADa.set(a.clientX,a.clientY)}function VDa(a){DDa.set(a.clientX,a.clientY)}function WDa(){if(1===JDa.length)ADa.set(JDa[0].pageX,JDa[0].pageY);else{const a=0.5*(JDa[0].pageX+JDa[1].pageX),b=0.5*(JDa[0].pageY+JDa[1].pageY);ADa.set(a,b)}}function XDa(){if(1===JDa.length)DDa.set(JDa[0].pageX,JDa[0].pageY);else{const a=0.5*(JDa[0].pageX+JDa[1].pageX),b=0.5*(JDa[0].pageY+JDa[1].pageY);DDa.set(a,b)}}function YDa(){const a=JDa[0].pageX-JDa[1].pageX,b=JDa[0].pageY-JDa[1].pageY;GDa.set(0,Math.sqrt(a*a+b*b))}function ZDa(a){if(1==JDa.length)BDa.set(a.pageX,a.pageY);else{const b=oEa(a),c=0.5*(a.pageX+b.x),d=0.5*(a.pageY+b.y);BDa.set(c,d)}CDa.subVectors(BDa,ADa).multiplyScalar(rDa.rotateSpeed);const e=rDa.domElement;NDa(2*Math.PI*CDa.x/e.clientHeight),ODa(2*Math.PI*CDa.y/e.clientHeight),ADa.copy(BDa)}function $Da(a){if(1===JDa.length)EDa.set(a.pageX,a.pageY);else{const b=oEa(a),c=0.5*(a.pageX+b.x),d=0.5*(a.pageY+b.y);EDa.set(c,d)}FDa.subVectors(EDa,DDa).multiplyScalar(rDa.panSpeed),RDa(FDa.x,FDa.y),DDa.copy(EDa)}function _Da(a){const b=oEa(a),c=a.pageX-b.x,d=a.pageY-b.y;HDa.set(0,Math.sqrt(c*c+d*d)),IDa.set(0,Math.pow(HDa.y/GDa.y,rDa.zoomSpeed)),SDa(IDa.y),GDa.copy(HDa)}function aEa(a){!1!==rDa.enabled&&(0===JDa.length&&(rDa.domElement.setPointerCapture(a.pointerId),rDa.domElement.addEventListener("pointermove",bEa),rDa.domElement.addEventListener("pointerup",cEa)),lEa(a),"touch"===a.pointerType?iEa(a):eEa(a))}function bEa(a){!1!==rDa.enabled&&("touch"===a.pointerType?jEa(a):fEa(a))}function cEa(a){mEa(a),0===JDa.length&&(rDa.domElement.releasePointerCapture(a.pointerId),rDa.domElement.removeEventListener("pointermove",bEa),rDa.domElement.removeEventListener("pointerup",cEa)),rDa.dispatchEvent(nDa),tDa=sDa.NONE}function dEa(a){mEa(a)}function eEa(a){let b;switch(a.button){case 0:b=rDa.mouseButtons.LEFT;break;case 1:b=rDa.mouseButtons.MIDDLE;break;case 2:b=rDa.mouseButtons.RIGHT;break;default:b=-1}switch(b){case 1:var c;if(!1===rDa.enableZoom)return;c=a,GDa.set(c.clientX,c.clientY),tDa=sDa.DOLLY;break;case 0:if(a.ctrlKey||a.metaKey||a.shiftKey){if(!1===rDa.enablePan)return;VDa(a),tDa=sDa.PAN}else{if(!1===rDa.enableRotate)return;UDa(a),tDa=sDa.ROTATE}break;case 2:if(a.ctrlKey||a.metaKey||a.shiftKey){if(!1===rDa.enableRotate)return;UDa(a),tDa=sDa.ROTATE}else{if(!1===rDa.enablePan)return;VDa(a),tDa=sDa.PAN}break;default:tDa=sDa.NONE}tDa!==sDa.NONE&&rDa.dispatchEvent(mDa)}function fEa(a){var b,c;if(!1!==rDa.enabled)switch(tDa){case sDa.ROTATE:if(!1===rDa.enableRotate)return;!function(a){BDa.set(a.clientX,a.clientY),CDa.subVectors(BDa,ADa).multiplyScalar(rDa.rotateSpeed);const b=rDa.domElement;NDa(2*Math.PI*CDa.x/b.clientHeight),ODa(2*Math.PI*CDa.y/b.clientHeight),ADa.copy(BDa),rDa.update()}(a);break;case sDa.DOLLY:if(!1===rDa.enableZoom)return;b=a,HDa.set(b.clientX,b.clientY),IDa.subVectors(HDa,GDa),IDa.y>0?SDa(MDa()):IDa.y<0&&TDa(MDa()),GDa.copy(HDa),rDa.update();break;case sDa.PAN:if(!1===rDa.enablePan)return;c=a,EDa.set(c.clientX,c.clientY),FDa.subVectors(EDa,DDa).multiplyScalar(rDa.panSpeed),RDa(FDa.x,FDa.y),DDa.copy(EDa),rDa.update();break}}function gEa(a){if(!1!==rDa.enabled&& !1!==rDa.enableZoom&&tDa===sDa.NONE){var b;a.preventDefault(),rDa.dispatchEvent(mDa),(b=a).deltaY<0?TDa(MDa()):b.deltaY>0&&SDa(MDa()),rDa.update(),rDa.dispatchEvent(nDa)}}function hEa(a){!1!==rDa.enabled&& !1!==rDa.enablePan&&(function(a){let b=!1;switch(a.code){case rDa.keys.UP:RDa(0,rDa.keyPanSpeed),b=!0;break;case rDa.keys.BOTTOM:RDa(0,-rDa.keyPanSpeed),b=!0;break;case rDa.keys.LEFT:RDa(rDa.keyPanSpeed,0),b=!0;break;case rDa.keys.RIGHT:RDa(-rDa.keyPanSpeed,0),b=!0;break}b&&(a.preventDefault(),rDa.update())})(a)}function iEa(a){switch(nEa(a),JDa.length){case 1:switch(rDa.touches.ONE){case 0:if(!1===rDa.enableRotate)return;WDa(),tDa=sDa.TOUCH_ROTATE;break;case 1:if(!1===rDa.enablePan)return;XDa(),tDa=sDa.TOUCH_PAN;break;default:tDa=sDa.NONE}break;case 2:switch(rDa.touches.TWO){case 2:if(!1===rDa.enableZoom&& !1===rDa.enablePan)return;rDa.enableZoom&&YDa(),rDa.enablePan&&XDa(),tDa=sDa.TOUCH_DOLLY_PAN;break;case 3:if(!1===rDa.enableZoom&& !1===rDa.enableRotate)return;rDa.enableZoom&&YDa(),rDa.enableRotate&&WDa(),tDa=sDa.TOUCH_DOLLY_ROTATE;break;default:tDa=sDa.NONE}break;default:tDa=sDa.NONE}tDa!==sDa.NONE&&rDa.dispatchEvent(mDa)}function jEa(a){var b,c;switch(nEa(a),tDa){case sDa.TOUCH_ROTATE:if(!1===rDa.enableRotate)return;ZDa(a),rDa.update();break;case sDa.TOUCH_PAN:if(!1===rDa.enablePan)return;$Da(a),rDa.update();break;case sDa.TOUCH_DOLLY_PAN:if(!1===rDa.enableZoom&& !1===rDa.enablePan)return;b=a,rDa.enableZoom&&_Da(b),rDa.enablePan&&$Da(b),rDa.update();break;case sDa.TOUCH_DOLLY_ROTATE:if(!1===rDa.enableZoom&& !1===rDa.enableRotate)return;c=a,rDa.enableZoom&&_Da(c),rDa.enableRotate&&ZDa(c),rDa.update();break;default:tDa=sDa.NONE}}function kEa(a){!1!==rDa.enabled&&a.preventDefault()}function lEa(a){JDa.push(a)}function mEa(a){delete KDa[a.pointerId];for(let b=0;b<JDa.length;b++)if(JDa[b].pointerId==a.pointerId){JDa.splice(b,1);return}}function nEa(a){let b=KDa[a.pointerId];void 0===b&&(b=new eh(),KDa[a.pointerId]=b),b.set(a.pageX,a.pageY)}function oEa(a){const b=a.pointerId===JDa[0].pointerId?JDa[1]:JDa[0];return KDa[b.pointerId]}rDa.domElement.addEventListener("contextmenu",kEa),rDa.domElement.addEventListener("pointerdown",aEa),rDa.domElement.addEventListener("pointercancel",dEa),rDa.domElement.addEventListener("wheel",gEa,{passive:!1}),this.update()}}class pEa extends bna{constructor(qEa){super(qEa),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(a){return new CFa(a)}),this.register(function(a){return new QGa(a)}),this.register(function(a){return new ZGa(a)}),this.register(function(a){return new OFa(a)}),this.register(function(a){return new ZFa(a)}),this.register(function(a){return new iGa(a)}),this.register(function(a){return new uGa(a)}),this.register(function(a){return new EGa(a)}),this.register(function(a){return new YEa(a)}),this.register(function(a){return new iHa(a)})}load(rEa,sEa,tEa,uEa){const vEa=this;let wEa;wEa=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:kqa.extractUrlBase(rEa),this.manager.itemStart(rEa);const xEa=function(a){uEa?uEa(a):console.error(a),vEa.manager.itemError(rEa),vEa.manager.itemEnd(rEa)},yEa=new mna(this.manager);yEa.setPath(this.path),yEa.setResponseType("arraybuffer"),yEa.setRequestHeader(this.requestHeader),yEa.setWithCredentials(this.withCredentials),yEa.load(rEa,function(a){try{vEa.parse(a,wEa,function(a){sEa(a),vEa.manager.itemEnd(rEa)},xEa)}catch(b){xEa(b)}},tEa,xEa)}setDRACOLoader(zEa){return this.dracoLoader=zEa,this}setDDSLoader(){throw new Error("THREE.GLTFLoader: \"MSFT_texture_dds\" no longer supported. Please update to \"KHR_texture_basisu\".")}setKTX2Loader(AEa){return this.ktx2Loader=AEa,this}setMeshoptDecoder(BEa){return this.meshoptDecoder=BEa,this}register(CEa){return -1===this.pluginCallbacks.indexOf(CEa)&&this.pluginCallbacks.push(CEa),this}unregister(DEa){return -1!==this.pluginCallbacks.indexOf(DEa)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(DEa),1),this}parse(EEa,FEa,GEa,HEa){let IEa;const JEa={},KEa={};if("string"==typeof EEa)IEa=EEa;else{const LEa=kqa.decodeText(new Uint8Array(EEa,0,4));if(LEa===qHa){try{JEa[XEa.KHR_BINARY_GLTF]=new sHa(EEa)}catch(MEa){HEa&&HEa(MEa);return}IEa=JEa[XEa.KHR_BINARY_GLTF].content}else IEa=kqa.decodeText(new Uint8Array(EEa))}const NEa=JSON.parse(IEa);if(void 0===NEa.asset||NEa.asset.version[0]<2){HEa&&HEa(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const OEa=new RIa(NEa,{path:FEa||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});OEa.fileLoader.setRequestHeader(this.requestHeader);for(let PEa=0;PEa<this.pluginCallbacks.length;PEa++){const QEa=this.pluginCallbacks[PEa](OEa);KEa[QEa.name]=QEa,JEa[QEa.name]=!0}if(NEa.extensionsUsed)for(let REa=0;REa<NEa.extensionsUsed.length;++REa){const SEa=NEa.extensionsUsed[REa],TEa=NEa.extensionsRequired||[];switch(SEa){case XEa.KHR_MATERIALS_UNLIT:JEa[SEa]=new vFa();break;case XEa.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:JEa[SEa]=new _Ha();break;case XEa.KHR_DRACO_MESH_COMPRESSION:JEa[SEa]=new CHa(NEa,this.dracoLoader);break;case XEa.KHR_TEXTURE_TRANSFORM:JEa[SEa]=new UHa();break;case XEa.KHR_MESH_QUANTIZATION:JEa[SEa]=new jIa();break;default:TEa.indexOf(SEa)>=0&& void 0===KEa[SEa]&&console.warn("THREE.GLTFLoader: Unknown extension \""+SEa+"\".")}}OEa.setExtensions(JEa),OEa.setPlugins(KEa),OEa.parse(GEa,HEa)}parseAsync(UEa,VEa){const WEa=this;return new Promise(function(a,b){WEa.parse(UEa,VEa,a,b)})}}const XEa={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"};class YEa{constructor(ZEa){this.parser=ZEa,this.name=XEa.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const $Ea=this.parser,_Ea=this.parser.json.nodes||[];for(let aFa=0,bFa=_Ea.length;aFa<bFa;aFa++){const cFa=_Ea[aFa];cFa.extensions&&cFa.extensions[this.name]&& void 0!==cFa.extensions[this.name].light&&$Ea._addNodeRef(this.cache,cFa.extensions[this.name].light)}}_loadLight(dFa){const eFa=this.parser,fFa="light:"+dFa;let gFa=eFa.cache.get(fFa);if(gFa)return gFa;const hFa=eFa.json,iFa=hFa.extensions&&hFa.extensions[this.name]||{},jFa=iFa.lights||[],kFa=jFa[dFa];let lFa;const mFa=new pG(16777215);void 0!==kFa.color&&mFa.fromArray(kFa.color);const nFa=void 0!==kFa.range?kFa.range:0;switch(kFa.type){case"directional":(lFa=new _oa(mFa)).target.position.set(0,0,-1),lFa.add(lFa.target);break;case"point":(lFa=new Toa(mFa)).distance=nFa;break;case"spot":(lFa=new Boa(mFa)).distance=nFa,kFa.spot=kFa.spot||{},kFa.spot.innerConeAngle=void 0!==kFa.spot.innerConeAngle?kFa.spot.innerConeAngle:0,kFa.spot.outerConeAngle=void 0!==kFa.spot.outerConeAngle?kFa.spot.outerConeAngle:Math.PI/4,lFa.angle=kFa.spot.outerConeAngle,lFa.penumbra=1-kFa.spot.innerConeAngle/kFa.spot.outerConeAngle,lFa.target.position.set(0,0,-1),lFa.add(lFa.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+kFa.type)}return lFa.position.set(0,0,0),lFa.decay=2,void 0!==kFa.intensity&&(lFa.intensity=kFa.intensity),lFa.name=eFa.createUniqueName(kFa.name||"light_"+dFa),gFa=Promise.resolve(lFa),eFa.cache.add(fFa,gFa),gFa}createNodeAttachment(oFa){const pFa=this,qFa=this.parser,rFa=qFa.json,sFa=rFa.nodes[oFa],tFa=sFa.extensions&&sFa.extensions[this.name]||{},uFa=tFa.light;return void 0===uFa?null:this._loadLight(uFa).then(function(a){return qFa._getNodeRef(pFa.cache,uFa,a)})}}class vFa{constructor(){this.name=XEa.KHR_MATERIALS_UNLIT}getMaterialType(){return KH}extendParams(wFa,xFa,yFa){const zFa=[];wFa.color=new pG(1,1,1),wFa.opacity=1;const AFa=xFa.pbrMetallicRoughness;if(AFa){if(Array.isArray(AFa.baseColorFactor)){const BFa=AFa.baseColorFactor;wFa.color.fromArray(BFa),wFa.opacity=BFa[3]}void 0!==AFa.baseColorTexture&&zFa.push(yFa.assignTexture(wFa,"map",AFa.baseColorTexture))}return Promise.all(zFa)}}class CFa{constructor(DFa){this.parser=DFa,this.name=XEa.KHR_MATERIALS_CLEARCOAT}getMaterialType(EFa){const FFa=this.parser,GFa=FFa.json.materials[EFa];return GFa.extensions&&GFa.extensions[this.name]?Qha:null}extendMaterialParams(HFa,IFa){const JFa=this.parser,KFa=JFa.json.materials[HFa];if(!KFa.extensions||!KFa.extensions[this.name])return Promise.resolve();const LFa=[],MFa=KFa.extensions[this.name];if(void 0!==MFa.clearcoatFactor&&(IFa.clearcoat=MFa.clearcoatFactor),void 0!==MFa.clearcoatTexture&&LFa.push(JFa.assignTexture(IFa,"clearcoatMap",MFa.clearcoatTexture)),void 0!==MFa.clearcoatRoughnessFactor&&(IFa.clearcoatRoughness=MFa.clearcoatRoughnessFactor),void 0!==MFa.clearcoatRoughnessTexture&&LFa.push(JFa.assignTexture(IFa,"clearcoatRoughnessMap",MFa.clearcoatRoughnessTexture)),void 0!==MFa.clearcoatNormalTexture&&(LFa.push(JFa.assignTexture(IFa,"clearcoatNormalMap",MFa.clearcoatNormalTexture)),void 0!==MFa.clearcoatNormalTexture.scale)){const NFa=MFa.clearcoatNormalTexture.scale;IFa.clearcoatNormalScale=new eh(NFa,NFa)}return Promise.all(LFa)}}class OFa{constructor(PFa){this.parser=PFa,this.name=XEa.KHR_MATERIALS_SHEEN}getMaterialType(QFa){const RFa=this.parser,SFa=RFa.json.materials[QFa];return SFa.extensions&&SFa.extensions[this.name]?Qha:null}extendMaterialParams(TFa,UFa){const VFa=this.parser,WFa=VFa.json.materials[TFa];if(!WFa.extensions||!WFa.extensions[this.name])return Promise.resolve();const XFa=[];UFa.sheenColor=new pG(0,0,0),UFa.sheenRoughness=0,UFa.sheen=1;const YFa=WFa.extensions[this.name];return void 0!==YFa.sheenColorFactor&&UFa.sheenColor.fromArray(YFa.sheenColorFactor),void 0!==YFa.sheenRoughnessFactor&&(UFa.sheenRoughness=YFa.sheenRoughnessFactor),void 0!==YFa.sheenColorTexture&&XFa.push(VFa.assignTexture(UFa,"sheenColorMap",YFa.sheenColorTexture)),void 0!==YFa.sheenRoughnessTexture&&XFa.push(VFa.assignTexture(UFa,"sheenRoughnessMap",YFa.sheenRoughnessTexture)),Promise.all(XFa)}}class ZFa{constructor($Fa){this.parser=$Fa,this.name=XEa.KHR_MATERIALS_TRANSMISSION}getMaterialType(_Fa){const aGa=this.parser,bGa=aGa.json.materials[_Fa];return bGa.extensions&&bGa.extensions[this.name]?Qha:null}extendMaterialParams(cGa,dGa){const eGa=this.parser,fGa=eGa.json.materials[cGa];if(!fGa.extensions||!fGa.extensions[this.name])return Promise.resolve();const gGa=[],hGa=fGa.extensions[this.name];return void 0!==hGa.transmissionFactor&&(dGa.transmission=hGa.transmissionFactor),void 0!==hGa.transmissionTexture&&gGa.push(eGa.assignTexture(dGa,"transmissionMap",hGa.transmissionTexture)),Promise.all(gGa)}}class iGa{constructor(jGa){this.parser=jGa,this.name=XEa.KHR_MATERIALS_VOLUME}getMaterialType(kGa){const lGa=this.parser,mGa=lGa.json.materials[kGa];return mGa.extensions&&mGa.extensions[this.name]?Qha:null}extendMaterialParams(nGa,oGa){const pGa=this.parser,qGa=pGa.json.materials[nGa];if(!qGa.extensions||!qGa.extensions[this.name])return Promise.resolve();const rGa=[],sGa=qGa.extensions[this.name];oGa.thickness=void 0!==sGa.thicknessFactor?sGa.thicknessFactor:0,void 0!==sGa.thicknessTexture&&rGa.push(pGa.assignTexture(oGa,"thicknessMap",sGa.thicknessTexture)),oGa.attenuationDistance=sGa.attenuationDistance||0;const tGa=sGa.attenuationColor||[1,1,1];return oGa.attenuationColor=new pG(tGa[0],tGa[1],tGa[2]),Promise.all(rGa)}}class uGa{constructor(vGa){this.parser=vGa,this.name=XEa.KHR_MATERIALS_IOR}getMaterialType(wGa){const xGa=this.parser,yGa=xGa.json.materials[wGa];return yGa.extensions&&yGa.extensions[this.name]?Qha:null}extendMaterialParams(zGa,AGa){const BGa=this.parser,CGa=BGa.json.materials[zGa];if(!CGa.extensions||!CGa.extensions[this.name])return Promise.resolve();const DGa=CGa.extensions[this.name];return AGa.ior=void 0!==DGa.ior?DGa.ior:1.5,Promise.resolve()}}class EGa{constructor(FGa){this.parser=FGa,this.name=XEa.KHR_MATERIALS_SPECULAR}getMaterialType(GGa){const HGa=this.parser,IGa=HGa.json.materials[GGa];return IGa.extensions&&IGa.extensions[this.name]?Qha:null}extendMaterialParams(JGa,KGa){const LGa=this.parser,MGa=LGa.json.materials[JGa];if(!MGa.extensions||!MGa.extensions[this.name])return Promise.resolve();const NGa=[],OGa=MGa.extensions[this.name];KGa.specularIntensity=void 0!==OGa.specularFactor?OGa.specularFactor:1,void 0!==OGa.specularTexture&&NGa.push(LGa.assignTexture(KGa,"specularIntensityMap",OGa.specularTexture));const PGa=OGa.specularColorFactor||[1,1,1];return KGa.specularColor=new pG(PGa[0],PGa[1],PGa[2]),void 0!==OGa.specularColorTexture&&NGa.push(LGa.assignTexture(KGa,"specularColorMap",OGa.specularColorTexture).then(function(a){a.encoding=3001})),Promise.all(NGa)}}class QGa{constructor(RGa){this.parser=RGa,this.name=XEa.KHR_TEXTURE_BASISU}loadTexture(SGa){const TGa=this.parser,UGa=TGa.json,VGa=UGa.textures[SGa];if(!VGa.extensions||!VGa.extensions[this.name])return null;const WGa=VGa.extensions[this.name],XGa=UGa.images[WGa.source],YGa=TGa.options.ktx2Loader;if(!YGa){if(!(UGa.extensionsRequired&&UGa.extensionsRequired.indexOf(this.name)>=0))return null;throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures")}return TGa.loadTextureImage(SGa,XGa,YGa)}}class ZGa{constructor($Ga){this.parser=$Ga,this.name=XEa.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(_Ga){const aHa=this.name,bHa=this.parser,cHa=bHa.json,dHa=cHa.textures[_Ga];if(!dHa.extensions||!dHa.extensions[aHa])return null;const eHa=dHa.extensions[aHa],fHa=cHa.images[eHa.source];let gHa=bHa.textureLoader;if(fHa.uri){const hHa=bHa.options.manager.getHandler(fHa.uri);null!==hHa&&(gHa=hHa)}return this.detectSupport().then(function(a){if(a)return bHa.loadTextureImage(_Ga,fHa,gHa);if(cHa.extensionsRequired&&cHa.extensionsRequired.indexOf(aHa)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return bHa.loadTexture(_Ga)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(a){const b=new Image();b.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",b.onload=b.onerror=function(){a(1===b.height)}})),this.isSupported}}class iHa{constructor(jHa){this.name=XEa.EXT_MESHOPT_COMPRESSION,this.parser=jHa}loadBufferView(kHa){const lHa=this.parser.json,mHa=lHa.bufferViews[kHa];if(!mHa.extensions||!mHa.extensions[this.name])return null;{const nHa=mHa.extensions[this.name],oHa=this.parser.getDependency("buffer",nHa.buffer),pHa=this.parser.options.meshoptDecoder;if(!pHa||!pHa.supported){if(!(lHa.extensionsRequired&&lHa.extensionsRequired.indexOf(this.name)>=0))return null;throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files")}return Promise.all([oHa,pHa.ready]).then(function(a){const b=nHa.byteOffset||0,c=nHa.byteLength||0,d=nHa.count,e=nHa.byteStride,f=new ArrayBuffer(d*e),g=new Uint8Array(a[0],b,c);return pHa.decodeGltfBuffer(new Uint8Array(f),d,e,g,nHa.mode,nHa.filter),f})}}}const qHa="glTF",rHa=12;class sHa{constructor(tHa){this.name=XEa.KHR_BINARY_GLTF,this.content=null,this.body=null;const uHa=new DataView(tHa,0,rHa);if(this.header={magic:kqa.decodeText(new Uint8Array(tHa.slice(0,4))),version:uHa.getUint32(4,!0),length:uHa.getUint32(8,!0)},this.header.magic!==qHa)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const vHa=this.header.length-rHa,wHa=new DataView(tHa,rHa);let xHa=0;for(;xHa<vHa;){const yHa=wHa.getUint32(xHa,!0);xHa+=4;const zHa=wHa.getUint32(xHa,!0);if(xHa+=4,1313821514===zHa){const AHa=new Uint8Array(tHa,rHa+xHa,yHa);this.content=kqa.decodeText(AHa)}else if(5130562===zHa){const BHa=rHa+xHa;this.body=tHa.slice(BHa,BHa+yHa)}xHa+=yHa}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class CHa{constructor(DHa,EHa){if(!EHa)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=XEa.KHR_DRACO_MESH_COMPRESSION,this.json=DHa,this.dracoLoader=EHa,this.dracoLoader.preload()}decodePrimitive(FHa,GHa){const HHa=this.json,IHa=this.dracoLoader,JHa=FHa.extensions[this.name].bufferView,KHa=FHa.extensions[this.name].attributes,LHa={},MHa={},NHa={};for(const OHa in KHa){const PHa=GIa[OHa]||OHa.toLowerCase();LHa[PHa]=KHa[OHa]}for(const QHa in FHa.attributes){const RHa=GIa[QHa]||QHa.toLowerCase();if(void 0!==KHa[QHa]){const SHa=HHa.accessors[FHa.attributes[QHa]],THa=CIa[SHa.componentType];NHa[RHa]=THa,MHa[RHa]=!0===SHa.normalized}}return GHa.getDependency("bufferView",JHa).then(function(a){return new Promise(function(b){IHa.decodeDracoFile(a,function(a){for(const c in a.attributes){const d=a.attributes[c],e=MHa[c];void 0!==e&&(d.normalized=e)}b(a)},LHa,NHa)})})}}class UHa{constructor(){this.name=XEa.KHR_TEXTURE_TRANSFORM}extendTexture(VHa,WHa){return void 0!==WHa.texCoord&&console.warn("THREE.GLTFLoader: Custom UV sets in \""+this.name+"\" extension not yet supported."),void 0===WHa.offset&& void 0===WHa.rotation&& void 0===WHa.scale||(VHa=VHa.clone(),void 0!==WHa.offset&&VHa.offset.fromArray(WHa.offset),void 0!==WHa.rotation&&(VHa.rotation=WHa.rotation),void 0!==WHa.scale&&VHa.repeat.fromArray(WHa.scale),VHa.needsUpdate=!0),VHa}}class XHa extends Nha{constructor(YHa){super(),this.isGLTFSpecularGlossinessMaterial=!0;const ZHa={specular:{value:new pG().setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=ZHa,this.onBeforeCompile=function(a){for(const b in ZHa)a.uniforms[b]=ZHa[b];a.fragmentShader=a.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>","#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif").replace("#include <metalnessmap_pars_fragment>","#ifdef USE_GLOSSINESSMAP\n\tuniform sampler2D glossinessMap;\n#endif").replace("#include <roughnessmap_fragment>","vec3 specularFactor = specular;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\ttexelSpecular = sRGBToLinear( texelSpecular );\n\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture\n\tspecularFactor *= texelSpecular.rgb;\n#endif").replace("#include <metalnessmap_fragment>","float glossinessFactor = glossiness;\n#ifdef USE_GLOSSINESSMAP\n\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );\n\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture\n\tglossinessFactor *= texelGlossiness.a;\n#endif").replace("#include <lights_physical_fragment>","PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.\nmaterial.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\nmaterial.specularColor = specularFactor;")},Object.defineProperties(this,{specular:{get:function(){return ZHa.specular.value},set:function(a){ZHa.specular.value=a}},specularMap:{get:function(){return ZHa.specularMap.value},set:function(a){ZHa.specularMap.value=a,a?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return ZHa.glossiness.value},set:function(a){ZHa.glossiness.value=a}},glossinessMap:{get:function(){return ZHa.glossinessMap.value},set:function(a){ZHa.glossinessMap.value=a,a?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(YHa)}copy($Ha){return super.copy($Ha),this.specularMap=$Ha.specularMap,this.specular.copy($Ha.specular),this.glossinessMap=$Ha.glossinessMap,this.glossiness=$Ha.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}class _Ha{constructor(){this.name=XEa.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio",]}getMaterialType(){return XHa}extendParams(aIa,bIa,cIa){const dIa=bIa.extensions[this.name];aIa.color=new pG(1,1,1),aIa.opacity=1;const eIa=[];if(Array.isArray(dIa.diffuseFactor)){const fIa=dIa.diffuseFactor;aIa.color.fromArray(fIa),aIa.opacity=fIa[3]}if(void 0!==dIa.diffuseTexture&&eIa.push(cIa.assignTexture(aIa,"map",dIa.diffuseTexture)),aIa.emissive=new pG(0,0,0),aIa.glossiness=void 0!==dIa.glossinessFactor?dIa.glossinessFactor:1,aIa.specular=new pG(1,1,1),Array.isArray(dIa.specularFactor)&&aIa.specular.fromArray(dIa.specularFactor),void 0!==dIa.specularGlossinessTexture){const gIa=dIa.specularGlossinessTexture;eIa.push(cIa.assignTexture(aIa,"glossinessMap",gIa)),eIa.push(cIa.assignTexture(aIa,"specularMap",gIa))}return Promise.all(eIa)}createMaterial(hIa){const iIa=new XHa(hIa);return iIa.fog=!0,iIa.color=hIa.color,iIa.map=void 0===hIa.map?null:hIa.map,iIa.lightMap=null,iIa.lightMapIntensity=1,iIa.aoMap=void 0===hIa.aoMap?null:hIa.aoMap,iIa.aoMapIntensity=1,iIa.emissive=hIa.emissive,iIa.emissiveIntensity=1,iIa.emissiveMap=void 0===hIa.emissiveMap?null:hIa.emissiveMap,iIa.bumpMap=void 0===hIa.bumpMap?null:hIa.bumpMap,iIa.bumpScale=1,iIa.normalMap=void 0===hIa.normalMap?null:hIa.normalMap,iIa.normalMapType=0,hIa.normalScale&&(iIa.normalScale=hIa.normalScale),iIa.displacementMap=null,iIa.displacementScale=1,iIa.displacementBias=0,iIa.specularMap=void 0===hIa.specularMap?null:hIa.specularMap,iIa.specular=hIa.specular,iIa.glossinessMap=void 0===hIa.glossinessMap?null:hIa.glossinessMap,iIa.glossiness=hIa.glossiness,iIa.alphaMap=null,iIa.envMap=void 0===hIa.envMap?null:hIa.envMap,iIa.envMapIntensity=1,iIa.refractionRatio=0.98,iIa}}class jIa{constructor(){this.name=XEa.KHR_MESH_QUANTIZATION}}class kIa extends nia{constructor(lIa,mIa,nIa,oIa){super(lIa,mIa,nIa,oIa)}copySampleValue_(pIa){const qIa=this.resultBuffer,rIa=this.sampleValues,sIa=this.valueSize,tIa=pIa*sIa*3+sIa;for(let uIa=0;uIa!==sIa;uIa++)qIa[uIa]=rIa[tIa+uIa];return qIa}}kIa.prototype.beforeStart_=kIa.prototype.copySampleValue_,kIa.prototype.afterEnd_=kIa.prototype.copySampleValue_,kIa.prototype.interpolate_=function(a,b,c,d){const e=this.resultBuffer,f=this.sampleValues,g=this.valueSize,h=2*g,i=3*g,j=d-b,k=(c-b)/j,l=k*k,m=l*k,n=a*i,o=n-i,p=-2*m+3*l,q=m-l,r=1-p,s=q-l+k;for(let t=0;t!==g;t++){const u=f[o+t+g],v=f[o+t+h]*j,w=f[n+t+g],x=f[n+t]*j;e[t]=r*u+s*v+p*w+q*x}return e};const vIa=new kn();class wIa extends kIa{interpolate_(xIa,yIa,zIa,AIa){const BIa=super.interpolate_(xIa,yIa,zIa,AIa);return vIa.fromArray(BIa).normalize().toArray(BIa),BIa}}const CIa={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},DIa={9728:1003,9729:1006,9984:1004,9985:1007,9986:1005,9987:1008},EIa={33071:1001,33648:1002,10497:1000},FIa={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},GIa={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},HIa={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},IIa={CUBICSPLINE:void 0,LINEAR:2301,STEP:2300},JIa={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function KIa(a){return void 0===a.DefaultMaterial&&(a.DefaultMaterial=new Nha({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:0})),a.DefaultMaterial}function LIa(a,b,c){for(const d in c.extensions)void 0===a[d]&&(b.userData.gltfExtensions=b.userData.gltfExtensions||{},b.userData.gltfExtensions[d]=c.extensions[d])}function MIa(a,b){void 0!==b.extras&&("object"==typeof b.extras?Object.assign(a.userData,b.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+b.extras))}function NIa(a,b){if(a.updateMorphTargets(),void 0!==b.weights)for(let c=0,d=b.weights.length;c<d;c++)a.morphTargetInfluences[c]=b.weights[c];if(b.extras&&Array.isArray(b.extras.targetNames)){const e=b.extras.targetNames;if(a.morphTargetInfluences.length===e.length){a.morphTargetDictionary={};for(let f=0,g=e.length;f<g;f++)a.morphTargetDictionary[e[f]]=f}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function OIa(a){const b=a.extensions&&a.extensions[XEa.KHR_DRACO_MESH_COMPRESSION];return b?"draco:"+b.bufferView+":"+b.indices+":"+PIa(b.attributes):a.indices+":"+PIa(a.attributes)+":"+a.mode}function PIa(a){let b="";const c=Object.keys(a).sort();for(let d=0,e=c.length;d<e;d++)b+=c[d]+":"+a[c[d]]+";";return b}function QIa(a){switch(a){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}class RIa{constructor(SIa={},TIa={}){this.json=SIa,this.extensions={},this.plugins={},this.options=TIa,this.cache=new function(){let a={};return{get:function(b){return a[b]},add:function(b,c){a[b]=c},remove:function(b){delete a[b]},removeAll:function(){a={}}}}(),this.associations=new Map(),this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.textureCache={},this.nodeNamesUsed={},"undefined"!=typeof createImageBitmap&& !1===/Firefox/.test(navigator.userAgent)?this.textureLoader=new wqa(this.options.manager):this.textureLoader=new Tna(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new mna(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}setExtensions(UIa){this.extensions=UIa}setPlugins(VIa){this.plugins=VIa}parse(WIa,XIa){const YIa=this,ZIa=this.json,$Ia=this.extensions;this.cache.removeAll(),this._invokeAll(function(a){return a._markDefs&&a._markDefs()}),Promise.all(this._invokeAll(function(a){return a.beforeRoot&&a.beforeRoot()})).then(function(){return Promise.all([YIa.getDependencies("scene"),YIa.getDependencies("animation"),YIa.getDependencies("camera"),])}).then(function(a){const b={scene:a[0][ZIa.scene||0],scenes:a[0],animations:a[1],cameras:a[2],asset:ZIa.asset,parser:YIa,userData:{}};LIa($Ia,b,ZIa),MIa(b,ZIa),Promise.all(YIa._invokeAll(function(a){return a.afterRoot&&a.afterRoot(b)})).then(function(){WIa(b)})}).catch(XIa)}_markDefs(){const _Ia=this.json.nodes||[],aJa=this.json.skins||[],bJa=this.json.meshes||[];for(let cJa=0,dJa=aJa.length;cJa<dJa;cJa++){const eJa=aJa[cJa].joints;for(let fJa=0,gJa=eJa.length;fJa<gJa;fJa++)_Ia[eJa[fJa]].isBone=!0}for(let hJa=0,iJa=_Ia.length;hJa<iJa;hJa++){const jJa=_Ia[hJa];void 0!==jJa.mesh&&(this._addNodeRef(this.meshCache,jJa.mesh),void 0!==jJa.skin&&(bJa[jJa.mesh].isSkinnedMesh=!0)),void 0!==jJa.camera&&this._addNodeRef(this.cameraCache,jJa.camera)}}_addNodeRef(kJa,lJa){void 0!==lJa&&(void 0===kJa.refs[lJa]&&(kJa.refs[lJa]=kJa.uses[lJa]=0),kJa.refs[lJa]++)}_getNodeRef(mJa,nJa,oJa){if(mJa.refs[nJa]<=1)return oJa;const pJa=oJa.clone(),qJa=(a,b)=>{const c=this.associations.get(a);for(const[d,e]of(null!=c&&this.associations.set(b,c),a.children.entries()))qJa(e,b.children[d])};return qJa(oJa,pJa),pJa.name+="_instance_"+mJa.uses[nJa]++,pJa}_invokeOne(rJa){const sJa=Object.values(this.plugins);sJa.push(this);for(let tJa=0;tJa<sJa.length;tJa++){const uJa=rJa(sJa[tJa]);if(uJa)return uJa}return null}_invokeAll(vJa){const wJa=Object.values(this.plugins);wJa.unshift(this);const xJa=[];for(let yJa=0;yJa<wJa.length;yJa++){const zJa=vJa(wJa[yJa]);zJa&&xJa.push(zJa)}return xJa}getDependency(AJa,BJa){const CJa=AJa+":"+BJa;let DJa=this.cache.get(CJa);if(!DJa){switch(AJa){case"scene":DJa=this.loadScene(BJa);break;case"node":DJa=this.loadNode(BJa);break;case"mesh":DJa=this._invokeOne(function(a){return a.loadMesh&&a.loadMesh(BJa)});break;case"accessor":DJa=this.loadAccessor(BJa);break;case"bufferView":DJa=this._invokeOne(function(a){return a.loadBufferView&&a.loadBufferView(BJa)});break;case"buffer":DJa=this.loadBuffer(BJa);break;case"material":DJa=this._invokeOne(function(a){return a.loadMaterial&&a.loadMaterial(BJa)});break;case"texture":DJa=this._invokeOne(function(a){return a.loadTexture&&a.loadTexture(BJa)});break;case"skin":DJa=this.loadSkin(BJa);break;case"animation":DJa=this.loadAnimation(BJa);break;case"camera":DJa=this.loadCamera(BJa);break;default:throw new Error("Unknown type: "+AJa)}this.cache.add(CJa,DJa)}return DJa}getDependencies(EJa){let FJa=this.cache.get(EJa);if(!FJa){const GJa=this,HJa=this.json[EJa+("mesh"===EJa?"es":"s")]||[];FJa=Promise.all(HJa.map(function(a,b){return GJa.getDependency(EJa,b)})),this.cache.add(EJa,FJa)}return FJa}loadBuffer(IJa){const JJa=this.json.buffers[IJa],KJa=this.fileLoader;if(JJa.type&&"arraybuffer"!==JJa.type)throw new Error("THREE.GLTFLoader: "+JJa.type+" buffer type is not supported.");if(void 0===JJa.uri&&0===IJa)return Promise.resolve(this.extensions[XEa.KHR_BINARY_GLTF].body);const LJa=this.options;return new Promise(function(a,b){KJa.load(kqa.resolveURL(JJa.uri,LJa.path),a,void 0,function(){b(new Error("THREE.GLTFLoader: Failed to load buffer \""+JJa.uri+"\"."))})})}loadBufferView(MJa){const NJa=this.json.bufferViews[MJa];return this.getDependency("buffer",NJa.buffer).then(function(a){const b=NJa.byteLength||0,c=NJa.byteOffset||0;return a.slice(c,c+b)})}loadAccessor(OJa){const PJa=this,QJa=this.json,RJa=this.json.accessors[OJa];if(void 0===RJa.bufferView&& void 0===RJa.sparse)return Promise.resolve(null);const SJa=[];return void 0!==RJa.bufferView?SJa.push(this.getDependency("bufferView",RJa.bufferView)):SJa.push(null),void 0!==RJa.sparse&&(SJa.push(this.getDependency("bufferView",RJa.sparse.indices.bufferView)),SJa.push(this.getDependency("bufferView",RJa.sparse.values.bufferView))),Promise.all(SJa).then(function(a){const b=a[0],c=FIa[RJa.type],d=CIa[RJa.componentType],e=d.BYTES_PER_ELEMENT,f=RJa.byteOffset||0,g=void 0!==RJa.bufferView?QJa.bufferViews[RJa.bufferView].byteStride:void 0,h=!0===RJa.normalized;let i,j;if(g&&g!==e*c){const k=Math.floor(f/g),l="InterleavedBuffer:"+RJa.bufferView+":"+RJa.componentType+":"+k+":"+RJa.count;let m=PJa.cache.get(l);m||(i=new d(b,k*g,RJa.count*g/e),m=new lZ(i,g/e),PJa.cache.add(l,m)),j=new EZ(m,c,f%g/e,h)}else i=null===b?new d(RJa.count*c):new d(b,f,RJa.count*c),j=new PH(i,c,h);if(void 0!==RJa.sparse){const n=FIa.SCALAR,o=CIa[RJa.sparse.indices.componentType],p=RJa.sparse.indices.byteOffset||0,q=RJa.sparse.values.byteOffset||0,r=new o(a[1],p,RJa.sparse.count*n),s=new d(a[2],q,RJa.sparse.count*c);null!==b&&(j=new PH(j.array.slice(),j.itemSize,j.normalized));for(let t=0,u=r.length;t<u;t++){const v=r[t];if(j.setX(v,s[t*c]),c>=2&&j.setY(v,s[t*c+1]),c>=3&&j.setZ(v,s[t*c+2]),c>=4&&j.setW(v,s[t*c+3]),c>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return j})}loadTexture(TJa){const UJa=this.json,VJa=this.options,WJa=UJa.textures[TJa],XJa=UJa.images[WJa.source];let YJa=this.textureLoader;if(XJa.uri){const ZJa=VJa.manager.getHandler(XJa.uri);null!==ZJa&&(YJa=ZJa)}return this.loadTextureImage(TJa,XJa,YJa)}loadTextureImage($Ja,_Ja,aKa){const bKa=this,cKa=this.json,dKa=this.options,eKa=cKa.textures[$Ja],fKa=(_Ja.uri||_Ja.bufferView)+":"+eKa.sampler;if(this.textureCache[fKa])return this.textureCache[fKa];const gKa=self.URL||self.webkitURL;let hKa=_Ja.uri||"",iKa=!1;if(void 0!==_Ja.bufferView)hKa=bKa.getDependency("bufferView",_Ja.bufferView).then(function(a){iKa=!0;const b=new Blob([a],{type:_Ja.mimeType});return hKa=gKa.createObjectURL(b)});else if(void 0===_Ja.uri)throw new Error("THREE.GLTFLoader: Image "+$Ja+" is missing URI and bufferView");const jKa=Promise.resolve(hKa).then(function(a){return new Promise(function(b,c){let d=b;!0===aKa.isImageBitmapLoader&&(d=function(a){const c=new Hk(a);c.needsUpdate=!0,b(c)}),aKa.load(kqa.resolveURL(a,dKa.path),d,void 0,c)})}).then(function(a){!0===iKa&&gKa.revokeObjectURL(hKa),a.flipY=!1,eKa.name&&(a.name=eKa.name);const b=cKa.samplers||{},c=b[eKa.sampler]||{};return a.magFilter=DIa[c.magFilter]||1006,a.minFilter=DIa[c.minFilter]||1008,a.wrapS=EIa[c.wrapS]||1000,a.wrapT=EIa[c.wrapT]||1000,bKa.associations.set(a,{textures:$Ja}),a}).catch(function(){return console.error("THREE.GLTFLoader: Couldn't load texture",hKa),null});return this.textureCache[fKa]=jKa,jKa}assignTexture(kKa,lKa,mKa){const nKa=this;return this.getDependency("texture",mKa.index).then(function(a){if(void 0===mKa.texCoord||0==mKa.texCoord||"aoMap"===lKa&&1==mKa.texCoord||console.warn("THREE.GLTFLoader: Custom UV set "+mKa.texCoord+" for texture "+lKa+" not yet supported."),nKa.extensions[XEa.KHR_TEXTURE_TRANSFORM]){const b=void 0!==mKa.extensions?mKa.extensions[XEa.KHR_TEXTURE_TRANSFORM]:void 0;if(b){const c=nKa.associations.get(a);a=nKa.extensions[XEa.KHR_TEXTURE_TRANSFORM].extendTexture(a,b),nKa.associations.set(a,c)}}return kKa[lKa]=a,a})}assignFinalMaterial(oKa){const pKa=oKa.geometry;let qKa=oKa.material;const rKa=void 0===pKa.attributes.tangent,sKa=void 0!==pKa.attributes.color,tKa=void 0===pKa.attributes.normal;if(oKa.isPoints){const uKa="PointsMaterial:"+qKa.uuid;let vKa=this.cache.get(uKa);vKa||(vKa=new u2(),TF.prototype.copy.call(vKa,qKa),vKa.color.copy(qKa.color),vKa.map=qKa.map,vKa.sizeAttenuation=!1,this.cache.add(uKa,vKa)),qKa=vKa}else if(oKa.isLine){const wKa="LineBasicMaterial:"+qKa.uuid;let xKa=this.cache.get(wKa);xKa||(xKa=new g1(),TF.prototype.copy.call(xKa,qKa),xKa.color.copy(qKa.color),this.cache.add(wKa,xKa)),qKa=xKa}if(rKa||sKa||tKa){let yKa="ClonedMaterial:"+qKa.uuid+":";qKa.isGLTFSpecularGlossinessMaterial&&(yKa+="specular-glossiness:"),rKa&&(yKa+="derivative-tangents:"),sKa&&(yKa+="vertex-colors:"),tKa&&(yKa+="flat-shading:");let zKa=this.cache.get(yKa);zKa||(zKa=qKa.clone(),sKa&&(zKa.vertexColors=!0),tKa&&(zKa.flatShading=!0),rKa&&(zKa.normalScale&&(zKa.normalScale.y*=-1),zKa.clearcoatNormalScale&&(zKa.clearcoatNormalScale.y*=-1)),this.cache.add(yKa,zKa),this.associations.set(zKa,this.associations.get(qKa))),qKa=zKa}qKa.aoMap&& void 0===pKa.attributes.uv2&& void 0!==pKa.attributes.uv&&pKa.setAttribute("uv2",pKa.attributes.uv),oKa.material=qKa}getMaterialType(){return Nha}loadMaterial(AKa){const BKa=this,CKa=this.json,DKa=this.extensions,EKa=CKa.materials[AKa];let FKa;const GKa={},HKa=EKa.extensions||{},IKa=[];if(HKa[XEa.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){const JKa=DKa[XEa.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];FKa=JKa.getMaterialType(),IKa.push(JKa.extendParams(GKa,EKa,BKa))}else if(HKa[XEa.KHR_MATERIALS_UNLIT]){const KKa=DKa[XEa.KHR_MATERIALS_UNLIT];FKa=KKa.getMaterialType(),IKa.push(KKa.extendParams(GKa,EKa,BKa))}else{const LKa=EKa.pbrMetallicRoughness||{};if(GKa.color=new pG(1,1,1),GKa.opacity=1,Array.isArray(LKa.baseColorFactor)){const MKa=LKa.baseColorFactor;GKa.color.fromArray(MKa),GKa.opacity=MKa[3]}void 0!==LKa.baseColorTexture&&IKa.push(BKa.assignTexture(GKa,"map",LKa.baseColorTexture)),GKa.metalness=void 0!==LKa.metallicFactor?LKa.metallicFactor:1,GKa.roughness=void 0!==LKa.roughnessFactor?LKa.roughnessFactor:1,void 0!==LKa.metallicRoughnessTexture&&(IKa.push(BKa.assignTexture(GKa,"metalnessMap",LKa.metallicRoughnessTexture)),IKa.push(BKa.assignTexture(GKa,"roughnessMap",LKa.metallicRoughnessTexture))),FKa=this._invokeOne(function(a){return a.getMaterialType&&a.getMaterialType(AKa)}),IKa.push(Promise.all(this._invokeAll(function(a){return a.extendMaterialParams&&a.extendMaterialParams(AKa,GKa)})))}!0===EKa.doubleSided&&(GKa.side=2);const NKa=EKa.alphaMode||JIa.OPAQUE;if(NKa===JIa.BLEND?(GKa.transparent=!0,GKa.depthWrite=!1):(GKa.format=1022,GKa.transparent=!1,NKa===JIa.MASK&&(GKa.alphaTest=void 0!==EKa.alphaCutoff?EKa.alphaCutoff:0.5)),void 0!==EKa.normalTexture&&FKa!==KH&&(IKa.push(BKa.assignTexture(GKa,"normalMap",EKa.normalTexture)),GKa.normalScale=new eh(1,1),void 0!==EKa.normalTexture.scale)){const OKa=EKa.normalTexture.scale;GKa.normalScale.set(OKa,OKa)}return void 0!==EKa.occlusionTexture&&FKa!==KH&&(IKa.push(BKa.assignTexture(GKa,"aoMap",EKa.occlusionTexture)),void 0!==EKa.occlusionTexture.strength&&(GKa.aoMapIntensity=EKa.occlusionTexture.strength)),void 0!==EKa.emissiveFactor&&FKa!==KH&&(GKa.emissive=new pG().fromArray(EKa.emissiveFactor)),void 0!==EKa.emissiveTexture&&FKa!==KH&&IKa.push(BKa.assignTexture(GKa,"emissiveMap",EKa.emissiveTexture)),Promise.all(IKa).then(function(){let a;return a=FKa===XHa?DKa[XEa.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(GKa):new FKa(GKa),EKa.name&&(a.name=EKa.name),a.map&&(a.map.encoding=3001),a.emissiveMap&&(a.emissiveMap.encoding=3001),MIa(a,EKa),BKa.associations.set(a,{materials:AKa}),EKa.extensions&&LIa(DKa,a,EKa),a})}createUniqueName(PKa){const QKa=Csa.sanitizeNodeName(PKa||"");let RKa=QKa;for(let SKa=1;this.nodeNamesUsed[RKa];++SKa)RKa=QKa+"_"+SKa;return this.nodeNamesUsed[RKa]=!0,RKa}loadGeometries(TKa){const UKa=this,VKa=this.extensions,WKa=this.primitiveCache;function XKa(a){return VKa[XEa.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,UKa).then(function(b){return dMa(b,a,UKa)})}const YKa=[];for(let ZKa=0,$Ka=TKa.length;ZKa<$Ka;ZKa++){const _Ka=TKa[ZKa],aLa=OIa(_Ka),bLa=WKa[aLa];if(bLa)YKa.push(bLa.promise);else{let cLa;cLa=_Ka.extensions&&_Ka.extensions[XEa.KHR_DRACO_MESH_COMPRESSION]?XKa(_Ka):dMa(new IJ(),_Ka,UKa),WKa[aLa]={primitive:_Ka,promise:cLa},YKa.push(cLa)}}return Promise.all(YKa)}loadMesh(dLa){const eLa=this,fLa=this.json,gLa=this.extensions,hLa=fLa.meshes[dLa],iLa=hLa.primitives,jLa=[];for(let kLa=0,lLa=iLa.length;kLa<lLa;kLa++){const mLa=void 0===iLa[kLa].material?KIa(this.cache):this.getDependency("material",iLa[kLa].material);jLa.push(mLa)}return jLa.push(eLa.loadGeometries(iLa)),Promise.all(jLa).then(function(a){const b=a.slice(0,a.length-1),c=a[a.length-1],d=[];for(let e=0,f=c.length;e<f;e++){const g=c[e],h=iLa[e];let i;const j=b[e];if(4===h.mode||5===h.mode||6===h.mode|| void 0===h.mode)!0!==(i=!0===hLa.isSkinnedMesh?new f_(g,j):new rN(g,j)).isSkinnedMesh||i.geometry.attributes.skinWeight.normalized||i.normalizeSkinWeights(),5===h.mode?i.geometry=eMa(i.geometry,1):6===h.mode&&(i.geometry=eMa(i.geometry,2));else if(1===h.mode)i=new j2(g,j);else if(3===h.mode)i=new o1(g,j);else if(2===h.mode)i=new r2(g,j);else if(0===h.mode)i=new B2(g,j);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+h.mode);Object.keys(i.geometry.morphAttributes).length>0&&NIa(i,hLa),i.name=eLa.createUniqueName(hLa.name||"mesh_"+dLa),MIa(i,hLa),h.extensions&&LIa(gLa,i,h),eLa.assignFinalMaterial(i),d.push(i)}for(let k=0,l=d.length;k<l;k++)eLa.associations.set(d[k],{meshes:dLa,primitives:k});if(1===d.length)return d[0];const m=new LX();eLa.associations.set(m,{meshes:dLa});for(let n=0,o=d.length;n<o;n++)m.add(d[n]);return m})}loadCamera(nLa){let oLa;const pLa=this.json.cameras[nLa],qLa=pLa[pLa.type];if(!qLa){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return"perspective"===pLa.type?oLa=new jP(dh.radToDeg(qLa.yfov),qLa.aspectRatio||1,qLa.znear||1,qLa.zfar||20e5):"orthographic"===pLa.type&&(oLa=new hT(-qLa.xmag,qLa.xmag,qLa.ymag,-qLa.ymag,qLa.znear,qLa.zfar)),pLa.name&&(oLa.name=this.createUniqueName(pLa.name)),MIa(oLa,pLa),Promise.resolve(oLa)}loadSkin(rLa){const sLa=this.json.skins[rLa],tLa={joints:sLa.joints};return void 0===sLa.inverseBindMatrices?Promise.resolve(tLa):this.getDependency("accessor",sLa.inverseBindMatrices).then(function(a){return tLa.inverseBindMatrices=a,tLa})}loadAnimation(uLa){const vLa=this.json,wLa=vLa.animations[uLa],xLa=[],yLa=[],zLa=[],ALa=[],BLa=[];for(let CLa=0,DLa=wLa.channels.length;CLa<DLa;CLa++){const ELa=wLa.channels[CLa],FLa=wLa.samplers[ELa.sampler],GLa=ELa.target,HLa=void 0!==GLa.node?GLa.node:GLa.id,ILa=void 0!==wLa.parameters?wLa.parameters[FLa.input]:FLa.input,JLa=void 0!==wLa.parameters?wLa.parameters[FLa.output]:FLa.output;xLa.push(this.getDependency("node",HLa)),yLa.push(this.getDependency("accessor",ILa)),zLa.push(this.getDependency("accessor",JLa)),ALa.push(FLa),BLa.push(GLa)}return Promise.all([Promise.all(xLa),Promise.all(yLa),Promise.all(zLa),Promise.all(ALa),Promise.all(BLa)]).then(function(a){const b=a[0],c=a[1],d=a[2],e=a[3],f=a[4],g=[];for(let h=0,i=b.length;h<i;h++){const j=b[h],k=c[h],l=d[h],m=e[h],n=f[h];if(void 0!==j){j.updateMatrix(),j.matrixAutoUpdate=!0;let o;switch(HIa[n.path]){case HIa.weights:o=_ka;break;case HIa.rotation:o=pla;break;case HIa.position:case HIa.scale:default:o=sla;break}const p=j.name?j.name:j.uuid,q=void 0!==m.interpolation?IIa[m.interpolation]:2301,r=[];HIa[n.path]===HIa.weights?j.traverse(function(a){a.morphTargetInfluences&&r.push(a.name?a.name:a.uuid)}):r.push(p);let s=l.array;if(l.normalized){const t=QIa(s.constructor),u=new Float32Array(s.length);for(let v=0,w=s.length;v<w;v++)u[v]=s[v]*t;s=u}for(let x=0,y=r.length;x<y;x++){const z=new o(r[x]+"."+HIa[n.path],k.array,s,q);"CUBICSPLINE"===m.interpolation&&(z.createInterpolant=function(a){const b=this instanceof pla?wIa:kIa;return new b(this.times,this.values,this.getValueSize()/3,a)},z.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),g.push(z)}}}const A=wLa.name?wLa.name:"animation_"+uLa;return new tla(A,void 0,g)})}createNodeMesh(KLa){const LLa=this.json,MLa=this,NLa=LLa.nodes[KLa];return void 0===NLa.mesh?null:MLa.getDependency("mesh",NLa.mesh).then(function(a){const b=MLa._getNodeRef(MLa.meshCache,NLa.mesh,a);return void 0!==NLa.weights&&b.traverse(function(a){if(a.isMesh)for(let b=0,c=NLa.weights.length;b<c;b++)a.morphTargetInfluences[b]=NLa.weights[b]}),b})}loadNode(OLa){const PLa=this.json,QLa=this.extensions,RLa=this,SLa=PLa.nodes[OLa],TLa=SLa.name?RLa.createUniqueName(SLa.name):"";return(function(){const a=[],b=RLa._invokeOne(function(a){return a.createNodeMesh&&a.createNodeMesh(OLa)});return b&&a.push(b),void 0!==SLa.camera&&a.push(RLa.getDependency("camera",SLa.camera).then(function(a){return RLa._getNodeRef(RLa.cameraCache,SLa.camera,a)})),RLa._invokeAll(function(a){return a.createNodeAttachment&&a.createNodeAttachment(OLa)}).forEach(function(b){a.push(b)}),Promise.all(a)})().then(function(a){let b;if((b=!0===SLa.isBone?new y_():a.length>1?new LX():1===a.length?a[0]:new hC())!==a[0])for(let c=0,d=a.length;c<d;c++)b.add(a[c]);if(SLa.name&&(b.userData.name=SLa.name,b.name=TLa),MIa(b,SLa),SLa.extensions&&LIa(QLa,b,SLa),void 0!==SLa.matrix){const e=new dw();e.fromArray(SLa.matrix),b.applyMatrix4(e)}else void 0!==SLa.translation&&b.position.fromArray(SLa.translation),void 0!==SLa.rotation&&b.quaternion.fromArray(SLa.rotation),void 0!==SLa.scale&&b.scale.fromArray(SLa.scale);return RLa.associations.has(b)||RLa.associations.set(b,{}),RLa.associations.get(b).nodes=OLa,b})}loadScene(ULa){const VLa=this.json,WLa=this.extensions,XLa=this.json.scenes[ULa],YLa=this,ZLa=new LX();XLa.name&&(ZLa.name=YLa.createUniqueName(XLa.name)),MIa(ZLa,XLa),XLa.extensions&&LIa(WLa,ZLa,XLa);const $La=XLa.nodes||[],_La=[];for(let aMa=0,bMa=$La.length;aMa<bMa;aMa++)_La.push(cMa($La[aMa],ZLa,VLa,YLa));return Promise.all(_La).then(function(){return YLa.associations=(a=>{const b=new Map();for(const[c,d]of YLa.associations)(c instanceof TF||c instanceof Hk)&&b.set(c,d);return a.traverse(a=>{const c=YLa.associations.get(a);null!=c&&b.set(a,c)}),b})(ZLa),ZLa})}}function cMa(a,b,c,d){const e=c.nodes[a];return d.getDependency("node",a).then(function(a){if(void 0===e.skin)return a;let b;return d.getDependency("skin",e.skin).then(function(a){b=a;const c=[];for(let e=0,f=b.joints.length;e<f;e++)c.push(d.getDependency("node",b.joints[e]));return Promise.all(c)}).then(function(c){return a.traverse(function(a){if(a.isMesh){const d=[],e=[];for(let f=0,g=c.length;f<g;f++){const h=c[f];if(h){d.push(h);const i=new dw();void 0!==b.inverseBindMatrices&&i.fromArray(b.inverseBindMatrices.array,16*f),e.push(i)}else console.warn("THREE.GLTFLoader: Joint \"%s\" could not be found.",b.joints[f])}a.bind(new O_(d,e),a.matrixWorld)}}),a})}).then(function(a){b.add(a);const f=[];if(e.children){const g=e.children;for(let h=0,i=g.length;h<i;h++){const j=g[h];f.push(cMa(j,a,c,d))}}return Promise.all(f)})}function dMa(a,b,c){const d=b.attributes,e=[];function f(b,d){return c.getDependency("accessor",b).then(function(b){a.setAttribute(d,b)})}for(const g in d){const h=GIa[g]||g.toLowerCase();h in a.attributes||e.push(f(d[g],h))}if(void 0!==b.indices&&!a.index){const i=c.getDependency("accessor",b.indices).then(function(b){a.setIndex(b)});e.push(i)}return MIa(a,b),!function(a,b,c){const d=b.attributes,e=new ws();if(void 0!==d.POSITION){{const f=c.json.accessors[d.POSITION],g=f.min,h=f.max;if(void 0!==g&& void 0!==h){if(e.set(new Sp(g[0],g[1],g[2]),new Sp(h[0],h[1],h[2])),f.normalized){const i=QIa(CIa[f.componentType]);e.min.multiplyScalar(i),e.max.multiplyScalar(i)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}const j=b.targets;if(void 0!==j){const k=new Sp(),l=new Sp();for(let m=0,n=j.length;m<n;m++){const o=j[m];if(void 0!==o.POSITION){const p=c.json.accessors[o.POSITION],q=p.min,r=p.max;if(void 0!==q&& void 0!==r){if(l.setX(Math.max(Math.abs(q[0]),Math.abs(r[0]))),l.setY(Math.max(Math.abs(q[1]),Math.abs(r[1]))),l.setZ(Math.max(Math.abs(q[2]),Math.abs(r[2]))),p.normalized){const s=QIa(CIa[p.componentType]);l.multiplyScalar(s)}k.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}e.expandByVector(k)}a.boundingBox=e;const t=new au();e.getCenter(t.center),t.radius=e.min.distanceTo(e.max)/2,a.boundingSphere=t}}(a,b,c),Promise.all(e).then(function(){return void 0!==b.targets?(function(a,b,c){let d=!1,e=!1;for(let f=0,g=b.length;f<g;f++){const h=b[f];if(void 0!==h.POSITION&&(d=!0),void 0!==h.NORMAL&&(e=!0),d&&e)break}if(!d&&!e)return Promise.resolve(a);const i=[],j=[];for(let k=0,l=b.length;k<l;k++){const m=b[k];if(d){const n=void 0!==m.POSITION?c.getDependency("accessor",m.POSITION):a.attributes.position;i.push(n)}if(e){const o=void 0!==m.NORMAL?c.getDependency("accessor",m.NORMAL):a.attributes.normal;j.push(o)}}return Promise.all([Promise.all(i),Promise.all(j)]).then(function(b){const c=b[0],f=b[1];return d&&(a.morphAttributes.position=c),e&&(a.morphAttributes.normal=f),a.morphTargetsRelative=!0,a})})(a,b.targets,c):a})}function eMa(a,b){let c=a.getIndex();if(null===c){const d=[],e=a.getAttribute("position");if(void 0===e)return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),a;for(let f=0;f<e.count;f++)d.push(f);a.setIndex(d),c=a.getIndex()}const g=c.count-2,h=[];if(2===b)for(let i=1;i<=g;i++)h.push(c.getX(0)),h.push(c.getX(i)),h.push(c.getX(i+1));else for(let j=0;j<g;j++)j%2==0?(h.push(c.getX(j)),h.push(c.getX(j+1)),h.push(c.getX(j+2))):(h.push(c.getX(j+2)),h.push(c.getX(j+1)),h.push(c.getX(j)));h.length/3!==g&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const k=a.clone();return k.setIndex(h),k}var fMa=function(){var a=(0,y.useRef)(),b=(0,y.useState)(!0),c=b[0],d=b[1],e=(0,y.useState)(),f=e[0],g=e[1],h=(0,y.useState)(),i=h[0],j=h[1],k=(0,y.useState)(new Sp(-0.5,1.2,0)),l=k[0],m=(0,y.useState)(new Sp(20*Math.sin(0.2*Math.PI),10,20*Math.sin(0.2*Math.PI))),n=m[0],o=(0,y.useState)(new gZ()),p=o[0],q=(0,y.useState)(),r=q[0],s=q[1],t=(0,y.useCallback)(function(){var b=a.current;if(b&&f){var c=b.clientWidth,d=b.clientHeight;f.setSize(c,d)}},[f]);return(0,y.useEffect)(function(){var b=a.current;if(b&&!f){var c=b.clientWidth,e=b.clientHeight,h=new $Y({antialias:!0,alpha:!0});h.setPixelRatio(window.devicePixelRatio),h.setSize(c,e),h.outputEncoding=3001,b.appendChild(h.domElement),g(h);var i=0.005*e+4.8,k=new hT(-i,i,i,-i,0.01,50e3);k.position.copy(n),k.lookAt(l),j(k);var m=new dpa(13421772,1);p.add(m);var o,q,r,t,u,v=new oDa(k,h.domElement);v.autoRotate=!0,v.target=l,s(v),(o=p,q="./gaming.glb",t=(r={receiveShadow:!1,castShadow:!1}).receiveShadow,u=r.castShadow,new Promise(function(a,b){new pEa().load(q,function(b){var c=b.scene;c.name="gaming",c.position.y=0,c.receiveShadow=t,c.castShadow=u,o.add(c),c.traverse(function(a){a.isMesh&&(a.castShadow=u,a.receiveShadow=t)}),a(c)},void 0,function(a){b(a)})})).then(function(){y(),d(!1)});var w=null,x=0,y=function(){if(w=requestAnimationFrame(y),(x=x<=100?x+1:x)<=100){var a=n,b=Math.sqrt(1-Math.pow(x/120-1,4))*Math.PI*20;k.position.y=10,k.position.x=a.x*Math.cos(b)-a.z*Math.sin(b),k.position.z=a.z*Math.cos(b)+a.x*Math.sin(b),k.lookAt(l)}else v.update();h.render(p,k)};return function(){cancelAnimationFrame(w),h.dispose()}}},[]),(0,y.useEffect)(function(){return window.addEventListener("resize",t),function(){window.removeEventListener("resize",t,!1)}},[f,t]),(0,x.jsx)(Cd.xu,{ref:a,className:"gaming-setup",m:"auto",mt:["-20px","-60px","-120px"],mb:["-40px","-140px","-200px"],w:[280,480,640],h:[280,480,640],position:"relative",children:c&&(0,x.jsx)(yg.$,{size:"xl",position:"absolute",left:"50%",top:"50%",ml:"calc(0px - var(--spinner-size) / 2)",mt:"calc(0px - var(--spinner-size))"})})},gMa=function(a){var b=a.children,c=a.router;return(0,x.jsxs)(Cd.xu,{as:"main",pb:8,children:[(0,x.jsxs)(Ad.default,{children:[(0,x.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,x.jsx)("meta",{name:"description",content:"Didier Ganthier's homepage"}),(0,x.jsx)("meta",{name:"author",content:"Didier Ganthier"}),(0,x.jsx)("meta",{name:"author",content:"didierganthier"}),(0,x.jsx)("link",{rel:"apple-touch-icon",href:"image.png"}),(0,x.jsx)("link",{rel:"shortcut icon",href:"/favicon.ico",type:"image/x-icon"}),(0,x.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,x.jsx)("meta",{name:"twitter:site",content:"@didierganthier_"}),(0,x.jsx)("meta",{name:"twitter:creator",content:"@didierganthier_"}),(0,x.jsx)("meta",{name:"twitter:image",content:"/card.png"}),(0,x.jsx)("meta",{property:"og:site_name",content:"Didier Ganthier's Homepage"}),(0,x.jsx)("meta",{property:"og:type",content:"website"}),(0,x.jsx)("meta",{property:"og:image",content:"/card.png"}),(0,x.jsx)("title",{children:"Essohanam TAMBANA - Homepage"})]}),(0,x.jsx)(wg,{path:c.asPath}),(0,x.jsxs)(Cd.W2,{maxW:"container.md",pt:14,children:[(0,x.jsx)(xg,{children:(0,x.jsx)(fMa,{})}),b,(0,x.jsx)(function(){return(0,x.jsxs)(Cd.xu,{align:"center",opacity:0.4,fontSize:"sm",children:["\xa9 ",new Date().getFullYear()," Essohanam TAMBANA. All Rights Reserved."]})},{})]})]})},hMa=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];var d,e=[].concat(b),f=b[b.length-1];return(d=f,(0,A.Kn)(d)&&wd.every(function(a){return Object.prototype.hasOwnProperty.call(d,a)})&&e.length>1)?e=e.slice(0,e.length-1):f=xd,A.zG.apply(void 0,e.map(function(a){return function(b){return(0,A.mf)(a)?a(b):(function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return nb().apply(void 0,[{}].concat(b,[zd]))})(b,a)}}))(f)}({config:{initalColorMode:"dark",useSystemColorMode:!0},styles:{global:function(a){return{body:{bg:za("#f0e7db","#202023")(a)}}}},components:{Heading:{variants:{"section-title":{textDecoration:"underline",fontSize:20,textUnderlineOffset:6,textDecorationColor:"#525252",textDecorationThickness:4,marginTop:3,marginBottom:4}}},Link:{baseStyle:function(a){return{color:za("#3d7aed","#ff63c3")(a),textUnderlineOffset:3}}}},fonts:{heading:"'M PLUS Rounded 1c'"},colors:{glassTeal:"#88ccca"}});function iMa(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var jMa=function(a){var b=a.Component,c=a.pageProps,d=a.router;return(0,x.jsxs)(yd,{theme:hMa,children:[(0,x.jsx)(function(){return(0,x.jsx)(z.xB,{styles:"\n        @import url('https://fonts.googleapis.com/css2?family=M+PLUS+Rounded+1c:wght@300;700&display=swap');\n        "})},{}),(0,x.jsx)(gMa,{router:d,children:(0,x.jsx)(sg,{exitBeforeEnter:!0,initial:!0,children:(0,y.createElement)(b,function(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{},d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){iMa(a,b,c[b])})}return a}({},c,{key:d.route}))})})]})}},5809:function(a,b){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.imageConfigDefault=b.VALID_LOADERS=void 0,b.VALID_LOADERS=["default","imgix","cloudinary","akamai","custom",],b.imageConfigDefault={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",domains:[],disableStaticImages:!1,minimumCacheTTL:60,formats:["image/webp"]}},5152:function(a,b,c){a.exports=c(638)},9008:function(a,b,c){a.exports=c(5443)},5675:function(a,b,c){a.exports=c(8045)},1664:function(a,b,c){a.exports=c(8418)},9590:function(a){var b="undefined"!=typeof Element,c="function"==typeof Map,d="function"==typeof Set,e="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function f(a,g){if(a===g)return!0;if(a&&g&&"object"==typeof a&&"object"==typeof g){var h,i,j,k;if(a.constructor!==g.constructor)return!1;if(Array.isArray(a)){if((h=a.length)!=g.length)return!1;for(i=h;0!=i--;)if(!f(a[i],g[i]))return!1;return!0}if(c&&a instanceof Map&&g instanceof Map){if(a.size!==g.size)return!1;for(k=a.entries();!(i=k.next()).done;)if(!g.has(i.value[0]))return!1;for(k=a.entries();!(i=k.next()).done;)if(!f(i.value[1],g.get(i.value[0])))return!1;return!0}if(d&&a instanceof Set&&g instanceof Set){if(a.size!==g.size)return!1;for(k=a.entries();!(i=k.next()).done;)if(!g.has(i.value[0]))return!1;return!0}if(e&&ArrayBuffer.isView(a)&&ArrayBuffer.isView(g)){if((h=a.length)!=g.length)return!1;for(i=h;0!=i--;)if(a[i]!==g[i])return!1;return!0}if(a.constructor===RegExp)return a.source===g.source&&a.flags===g.flags;if(a.valueOf!==Object.prototype.valueOf)return a.valueOf()===g.valueOf();if(a.toString!==Object.prototype.toString)return a.toString()===g.toString();if((h=(j=Object.keys(a)).length)!==Object.keys(g).length)return!1;for(i=h;0!=i--;)if(!Object.prototype.hasOwnProperty.call(g,j[i]))return!1;if(b&&a instanceof Element)return!1;for(i=h;0!=i--;)if(("_owner"!==j[i]&&"__v"!==j[i]&&"__o"!==j[i]||!a.$$typeof)&&!f(a[j[i]],g[j[i]]))return!1;return!0}return a!=a&&g!=g}a.exports=function(a,b){try{return f(a,b)}catch(c){if((c.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw c}}},9921:function(a,b){"use strict";var c="function"==typeof Symbol&&Symbol.for,d=c?Symbol.for("react.element"):60103,e=c?Symbol.for("react.portal"):60106,f=c?Symbol.for("react.fragment"):60107,g=c?Symbol.for("react.strict_mode"):60108,h=c?Symbol.for("react.profiler"):60114,i=c?Symbol.for("react.provider"):60109,j=c?Symbol.for("react.context"):60110,k=c?Symbol.for("react.async_mode"):60111,l=c?Symbol.for("react.concurrent_mode"):60111,m=c?Symbol.for("react.forward_ref"):60112,n=c?Symbol.for("react.suspense"):60113,o=c?Symbol.for("react.suspense_list"):60120,p=c?Symbol.for("react.memo"):60115,q=c?Symbol.for("react.lazy"):60116,r=c?Symbol.for("react.block"):60121,s=c?Symbol.for("react.fundamental"):60117,t=c?Symbol.for("react.responder"):60118,u=c?Symbol.for("react.scope"):60119;function v(a){if("object"==typeof a&&null!==a){var b=a.$$typeof;switch(b){case d:switch(a=a.type){case k:case l:case f:case h:case g:case n:return a;default:switch(a=a&&a.$$typeof){case j:case m:case q:case p:case i:return a;default:return b}}case e:return b}}}function w(a){return v(a)===l}b.AsyncMode=k,b.ConcurrentMode=l,b.ContextConsumer=j,b.ContextProvider=i,b.Element=d,b.ForwardRef=m,b.Fragment=f,b.Lazy=q,b.Memo=p,b.Portal=e,b.Profiler=h,b.StrictMode=g,b.Suspense=n,b.isAsyncMode=function(a){return w(a)||v(a)===k},b.isConcurrentMode=w,b.isContextConsumer=function(a){return v(a)===j},b.isContextProvider=function(a){return v(a)===i},b.isElement=function(a){return"object"==typeof a&&null!==a&&a.$$typeof===d},b.isForwardRef=function(a){return v(a)===m},b.isFragment=function(a){return v(a)===f},b.isLazy=function(a){return v(a)===q},b.isMemo=function(a){return v(a)===p},b.isPortal=function(a){return v(a)===e},b.isProfiler=function(a){return v(a)===h},b.isStrictMode=function(a){return v(a)===g},b.isSuspense=function(a){return v(a)===n},b.isValidElementType=function(a){return"string"==typeof a||"function"==typeof a||a===f||a===l||a===h||a===g||a===n||a===o||"object"==typeof a&&null!==a&&(a.$$typeof===q||a.$$typeof===p||a.$$typeof===i||a.$$typeof===j||a.$$typeof===m||a.$$typeof===s||a.$$typeof===t||a.$$typeof===u||a.$$typeof===r)},b.typeOf=v},9864:function(a,b,c){"use strict";a.exports=c(9921)},1742:function(a){a.exports=function(){var a=document.getSelection();if(!a.rangeCount)return function(){};for(var b=document.activeElement,c=[],d=0;d<a.rangeCount;d++)c.push(a.getRangeAt(d));switch(b.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":b.blur();break;default:b=null;break}return a.removeAllRanges(),function(){"Caret"===a.type&&a.removeAllRanges(),a.rangeCount||c.forEach(function(b){a.addRange(b)}),b&&b.focus()}}},655:function(a,b,c){"use strict";c.d(b,{ZT:function(){return e},pi:function(){return f},"_T":function(){return g},XA:function(){return h},CR:function(){return i},ev:function(){return j}});var d=function(a,b){return(d=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(a,b)};function e(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function c(){this.constructor=a}d(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c())}var f=function(){return(f=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)};function g(a,b){var c={};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&0>b.indexOf(d)&&(c[d]=a[d]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols)for(var e=0,d=Object.getOwnPropertySymbols(a);e<d.length;e++)0>b.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(a,d[e])&&(c[d[e]]=a[d[e]]);return c}function h(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw new TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")}function i(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(h){e={error:h}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g}function j(a,b,c){if(c||2===arguments.length)for(var d,e=0,f=b.length;e<f;e++)!d&&e in b||(d||(d=Array.prototype.slice.call(b,0,e)),d[e]=b[e]);return a.concat(d||Array.prototype.slice.call(b))}function k(a){return this instanceof k?(this.v=a,this):new k(a)}},7462:function(a,b,c){"use strict";function d(){return(d=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}c.d(b,{Z:function(){return d}})},5364:function(a,b,c){"use strict";c.d(b,{p:function(){return d}});var d=(0,c(7294).createContext)({})},240:function(a,b,c){"use strict";c.d(b,{O:function(){return d}});var d=(0,c(7294).createContext)(null)},3319:function(a,b,c){"use strict";c.d(b,{E:function(){return eg}});var d,e,f=c(655),g=c(7294),h=function(a){return{isEnabled:function(b){return a.some(function(a){return!!b[a]})}}},i={measureLayout:h(["layout","layoutId","drag"]),animation:h(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView",]),exit:h(["exit"]),drag:h(["drag","dragControls"]),focus:h(["whileFocus"]),hover:h(["whileHover","onHoverStart","onHoverEnd"]),tap:h(["whileTap","onTap","onTapStart","onTapCancel"]),pan:h(["onPan","onPanStart","onPanSessionStart","onPanEnd",]),inView:h(["whileInView","onViewportEnter","onViewportLeave",])},j=(0,g.createContext)({strict:!1}),k=Object.keys(i),l=k.length,m=(0,g.createContext)({transformPagePoint:function(a){return a},isStatic:!1}),n=(0,g.createContext)({}),o=c(240),p="undefined"!=typeof window,q=p?g.useLayoutEffect:g.useEffect;function r(a){return"object"==typeof a&&Object.prototype.hasOwnProperty.call(a,"current")}function s(a){return Array.isArray(a)}function t(a){return"string"==typeof a||s(a)}function u(a,b,c,d,e){var f;return void 0===d&&(d={}),void 0===e&&(e={}),"function"==typeof b&&(b=b(null!=c?c:a.custom,d,e)),"string"==typeof b&&(b=null===(f=a.variants)|| void 0===f?void 0:f[b]),"function"==typeof b&&(b=b(null!=c?c:a.custom,d,e)),b}function v(a,b,c){var d,e,f=a.getProps();return u(f,b,null!=c?c:f.custom,(d={},a.forEachValue(function(a,b){return d[b]=a.get()}),d),(e={},a.forEachValue(function(a,b){return e[b]=a.getVelocity()}),e))}function w(a){var b;return"function"==typeof(null===(b=a.animate)|| void 0===b?void 0:b.start)||t(a.initial)||t(a.animate)||t(a.whileHover)||t(a.whileDrag)||t(a.whileTap)||t(a.whileFocus)||t(a.exit)}function x(a){return Boolean(w(a)||a.variants)}function y(a){return Array.isArray(a)?a.join(" "):a}var z=c(6681),A=c(9073);const B=(a,b,c)=>-c*a+c*b+a;function C(a,b){return b?a*(1000/b):0}function D(a,b){-1===a.indexOf(b)&&a.push(b)}function E(a,b){var c=a.indexOf(b);c> -1&&a.splice(c,1)}var F=function(){function a(){this.subscriptions=[]}return a.prototype.add=function(a){var b=this;return D(this.subscriptions,a),function(){return E(b.subscriptions,a)}},a.prototype.notify=function(a,b,c){var d=this.subscriptions.length;if(d)if(1===d)this.subscriptions[0](a,b,c);else for(var e=0;e<d;e++){var f=this.subscriptions[e];f&&f(a,b,c)}},a.prototype.getSize=function(){return this.subscriptions.length},a.prototype.clear=function(){this.subscriptions.length=0},a}(),G=function(){function a(a){var b=this;this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new F(),this.velocityUpdateSubscribers=new F(),this.renderSubscribers=new F(),this.canTrackVelocity=!1,this.updateAndNotify=function(a,c){void 0===c&&(c=!0),b.prev=b.current,b.current=a;var d=(0,A.$B)(),e=d.delta,f=d.timestamp;b.lastUpdated!==f&&(b.timeDelta=e,b.lastUpdated=f,A.ZP.postRender(b.scheduleVelocityCheck)),b.prev!==b.current&&b.updateSubscribers.notify(b.current),b.velocityUpdateSubscribers.getSize()&&b.velocityUpdateSubscribers.notify(b.getVelocity()),c&&b.renderSubscribers.notify(b.current)},this.scheduleVelocityCheck=function(){return A.ZP.postRender(b.velocityCheck)},this.velocityCheck=function(a){a.timestamp!==b.lastUpdated&&(b.prev=b.current,b.velocityUpdateSubscribers.notify(b.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=a,this.canTrackVelocity=!isNaN(parseFloat(this.current))}return a.prototype.onChange=function(a){return this.updateSubscribers.add(a)},a.prototype.clearListeners=function(){this.updateSubscribers.clear()},a.prototype.onRenderRequest=function(a){return a(this.get()),this.renderSubscribers.add(a)},a.prototype.attach=function(a){this.passiveEffect=a},a.prototype.set=function(a,b){void 0===b&&(b=!0),b&&this.passiveEffect?this.passiveEffect(a,this.updateAndNotify):this.updateAndNotify(a,b)},a.prototype.get=function(){return this.current},a.prototype.getPrevious=function(){return this.prev},a.prototype.getVelocity=function(){return this.canTrackVelocity?C(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0},a.prototype.start=function(a){var b=this;return this.stop(),new Promise(function(c){b.hasAnimated=!0,b.stopAnimation=a(c)}).then(function(){return b.clearAnimation()})},a.prototype.stop=function(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()},a.prototype.isAnimating=function(){return!!this.stopAnimation},a.prototype.clearAnimation=function(){this.stopAnimation=null},a.prototype.destroy=function(){this.updateSubscribers.clear(),this.renderSubscribers.clear(),this.stop()},a}();function H(a){return new G(a)}var I=function(a){return Boolean(null!==a&&"object"==typeof a&&a.getVelocity)},J=function(){},K=function(){};const L=(a,b,c)=>Math.min(Math.max(c,a),b),M=0.001;function N(a,b){return a*Math.sqrt(1-b*b)}const O=["duration","bounce"],P=["stiffness","damping","mass"];function Q(a,b){return b.some(b=>void 0!==a[b])}function R(a){var{from:b=0,to:c=1,restSpeed:d=2,restDelta:e}=a,g=(0,f._T)(a,["from","to","restSpeed","restDelta"]);const h={done:!1,value:b};let{stiffness:i,damping:j,mass:k,velocity:l,duration:m,isResolvedFromDuration:n}=function(a){let b=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},a);if(!Q(a,P)&&Q(a,O)){const c=function({duration:a=800,bounce:b=0.25,velocity:c=0,mass:d=1}){let e,f;J(a<=10e3,"Spring duration must be 10 seconds or less");let g=1-b;g=L(0.05,1,g),a=L(0.01,10,a/1000),g<1?(e=b=>{const d=b*g,e=d*a,f=d-c,h=N(b,g),i=Math.exp(-e);return M-f/h*i},f=b=>{const d=b*g,f=d*a,h=f*c+c,i=Math.pow(g,2)*Math.pow(b,2)*a,j=Math.exp(-f),k=N(Math.pow(b,2),g),l=-e(b)+M>0?-1:1;return l*((h-i)*j)/k}):(e=b=>{const d=Math.exp(-b*a),e=(b-c)*a+1;return-M+d*e},f=b=>{const d=Math.exp(-b*a),e=(c-b)*(a*a);return d*e});const h=5/a,i=function(a,b,c){let d=c;for(let e=1;e<12;e++)d-=a(d)/b(d);return d}(e,f,h);if(a*=1000,isNaN(i))return{stiffness:100,damping:10,duration:a};{const j=Math.pow(i,2)*d;return{stiffness:j,damping:2*g*Math.sqrt(d*j),duration:a}}}(a);(b=Object.assign(Object.assign(Object.assign({},b),c),{velocity:0,mass:1})).isResolvedFromDuration=!0}return b}(g),o=S,p=S;function q(){const a=l?-(l/1000):0,d=c-b,f=j/(2*Math.sqrt(i*k)),g=Math.sqrt(i/k)/1000;if(void 0===e&&(e=Math.min(Math.abs(c-b)/100,0.4)),f<1){const h=N(g,f);o=b=>{const e=Math.exp(-f*g*b);return c-e*((a+f*g*d)/h*Math.sin(h*b)+d*Math.cos(h*b))},p=b=>{const c=Math.exp(-f*g*b);return f*g*c*(Math.sin(h*b)*(a+f*g*d)/h+d*Math.cos(h*b))-c*(Math.cos(h*b)*(a+f*g*d)-h*d*Math.sin(h*b))}}else if(1===f)o=b=>c-Math.exp(-g*b)*(d+(a+g*d)*b);else{const m=g*Math.sqrt(f*f-1);o=b=>{const e=Math.exp(-f*g*b),h=Math.min(m*b,300);return c-e*((a+f*g*d)*Math.sinh(h)+m*d*Math.cosh(h))/m}}}return q(),{next:a=>{const b=o(a);if(n)h.done=a>=m;else{const f=1000*p(a),g=Math.abs(f)<=d,i=Math.abs(c-b)<=e;h.done=g&&i}return h.value=h.done?c:b,h},flipTarget:()=>{l=-l,[b,c]=[c,b],q()}}}R.needsInterpolation=(a,b)=>"string"==typeof a||"string"==typeof b;const S=a=>0,T=(a,b,c)=>{const d=b-a;return 0===d?1:(c-a)/d},U=(a,b)=>c=>Math.max(Math.min(c,b),a),V=a=>a%1?Number(a.toFixed(5)):a,W=/(-)?([\d]*\.?[\d])+/g,X=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))/gi,Y=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))$/i;function Z(a){return"string"==typeof a}const $={test:a=>"number"==typeof a,parse:parseFloat,transform:a=>a},_=Object.assign(Object.assign({},$),{transform:U(0,1)}),aa=Object.assign(Object.assign({},$),{default:1}),ba=(a,b)=>c=>Boolean(Z(c)&&Y.test(c)&&c.startsWith(a)||b&&Object.prototype.hasOwnProperty.call(c,b)),ca=(a,b,c)=>d=>{if(!Z(d))return d;const[e,f,g,h]=d.match(W);return{[a]:parseFloat(e),[b]:parseFloat(f),[c]:parseFloat(g),alpha:void 0!==h?parseFloat(h):1}},da=U(0,255),ea=Object.assign(Object.assign({},$),{transform:a=>Math.round(da(a))}),fa={test:ba("rgb","red"),parse:ca("red","green","blue"),transform:({red:a,green:b,blue:c,alpha:d=1})=>"rgba("+ea.transform(a)+", "+ea.transform(b)+", "+ea.transform(c)+", "+V(_.transform(d))+")"},ga={test:ba("#"),parse:function(a){let b="",c="",d="",e="";return a.length>5?(b=a.substr(1,2),c=a.substr(3,2),d=a.substr(5,2),e=a.substr(7,2)):(b=a.substr(1,1),c=a.substr(2,1),d=a.substr(3,1),e=a.substr(4,1),b+=b,c+=c,d+=d,e+=e),{red:parseInt(b,16),green:parseInt(c,16),blue:parseInt(d,16),alpha:e?parseInt(e,16)/255:1}},transform:fa.transform},ha=a=>({test:b=>Z(b)&&b.endsWith(a)&&1===b.split(" ").length,parse:parseFloat,transform:b=>`${b}${a}`}),ia=ha("deg"),ja=ha("%"),ka=ha("px"),la=ha("vh"),ma=ha("vw"),na=Object.assign(Object.assign({},ja),{parse:a=>ja.parse(a)/100,transform:a=>ja.transform(100*a)}),oa={test:ba("hsl","hue"),parse:ca("hue","saturation","lightness"),transform:({hue:a,saturation:b,lightness:c,alpha:d=1})=>"hsla("+Math.round(a)+", "+ja.transform(V(b))+", "+ja.transform(V(c))+", "+V(_.transform(d))+")"};function pa(a,b,c){return(c<0&&(c+=1),c>1&&(c-=1),c<1/6)?a+(b-a)*6*c:c<0.5?b:c<2/3?a+(b-a)*(2/3-c)*6:a}function qa({hue:a,saturation:b,lightness:c,alpha:d}){a/=360,b/=100,c/=100;let e=0,f=0,g=0;if(b){const h=c<0.5?c*(1+b):c+b-c*b,i=2*c-h;e=pa(i,h,a+1/3),f=pa(i,h,a),g=pa(i,h,a-1/3)}else e=f=g=c;return{red:Math.round(255*e),green:Math.round(255*f),blue:Math.round(255*g),alpha:d}}const ra=(a,b,c)=>{const d=a*a;return Math.sqrt(Math.max(0,c*(b*b-d)+d))},sa=[ga,fa,oa],ta=a=>sa.find(b=>b.test(a)),ua=a=>`'${a}' is not an animatable color. Use the equivalent color code instead.`,va=(a,b)=>{let c=ta(a),d=ta(b);K(!!c,ua(a)),K(!!d,ua(b));let e=c.parse(a),f=d.parse(b);c===oa&&(e=qa(e),c=fa),d===oa&&(f=qa(f),d=fa);const g=Object.assign({},e);return a=>{for(const b in g)"alpha"!==b&&(g[b]=ra(e[b],f[b],a));return g.alpha=B(e.alpha,f.alpha,a),c.transform(g)}},wa={test:a=>fa.test(a)||ga.test(a)||oa.test(a),parse:a=>fa.test(a)?fa.parse(a):oa.test(a)?oa.parse(a):ga.parse(a),transform:a=>Z(a)?a:a.hasOwnProperty("red")?fa.transform(a):oa.transform(a)},xa="${c}",ya="${n}";function za(a){"number"==typeof a&&(a=`${a}`);const b=[];let c=0;const d=a.match(X);d&&(c=d.length,a=a.replace(X,xa),b.push(...d.map(wa.parse)));const e=a.match(W);return e&&(a=a.replace(W,ya),b.push(...e.map($.parse))),{values:b,numColors:c,tokenised:a}}function Aa(a){return za(a).values}function Ba(a){const{values:b,numColors:c,tokenised:d}=za(a),e=b.length;return a=>{let b=d;for(let f=0;f<e;f++)b=b.replace(f<c?xa:ya,f<c?wa.transform(a[f]):V(a[f]));return b}}const Ca=a=>"number"==typeof a?0:a,Da={test:function(a){var b,c,d,e;return isNaN(a)&&Z(a)&&(null!==(c=null===(b=a.match(W))|| void 0===b?void 0:b.length)&& void 0!==c?c:0)+(null!==(e=null===(d=a.match(X))|| void 0===d?void 0:d.length)&& void 0!==e?e:0)>0},parse:Aa,createTransformer:Ba,getAnimatableNone:function(a){const b=Aa(a),c=Ba(a);return c(b.map(Ca))}},Ea=a=>"number"==typeof a,Fa=(a,b)=>c=>b(a(c)),Ga=(...a)=>a.reduce(Fa);function Ha(a,b){return Ea(a)?c=>B(a,b,c):wa.test(a)?va(a,b):La(a,b)}const Ia=(a,b)=>{const c=[...a],d=c.length,e=a.map((a,c)=>Ha(a,b[c]));return a=>{for(let b=0;b<d;b++)c[b]=e[b](a);return c}},Ja=(a,b)=>{const c=Object.assign(Object.assign({},a),b),d={};for(const e in c)void 0!==a[e]&& void 0!==b[e]&&(d[e]=Ha(a[e],b[e]));return a=>{for(const b in d)c[b]=d[b](a);return c}};function Ka(a){const b=Da.parse(a),c=b.length;let d=0,e=0,f=0;for(let g=0;g<c;g++)d||"number"==typeof b[g]?d++:void 0!==b[g].hue?f++:e++;return{parsed:b,numNumbers:d,numRGB:e,numHSL:f}}const La=(a,b)=>{const c=Da.createTransformer(b),d=Ka(a),e=Ka(b),f=d.numHSL===e.numHSL&&d.numRGB===e.numRGB&&d.numNumbers>=e.numNumbers;return f?Ga(Ia(d.parsed,e.parsed),c):(J(!0,`Complex values '${a}' and '${b}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),c=>`${c>0?b:a}`)},Ma=(a,b)=>c=>B(a,b,c);function Na(a,b,{clamp:c=!0,ease:d,mixer:e}={}){const f=a.length;K(f===b.length,"Both input and output ranges must be the same length"),K(!d||!Array.isArray(d)||d.length===f-1,"Array of easing functions must be of length `input.length - 1`, as it applies to the transitions **between** the defined values."),a[0]>a[f-1]&&(a=[].concat(a),b=[].concat(b),a.reverse(),b.reverse());const g=function(a,b,c){var d;const e=[],f=c||("number"==typeof(d=a[0])?Ma:"string"==typeof d?wa.test(d)?va:La:Array.isArray(d)?Ia:"object"==typeof d?Ja:void 0),g=a.length-1;for(let h=0;h<g;h++){let i=f(a[h],a[h+1]);if(b){const j=Array.isArray(b)?b[h]:b;i=Ga(j,i)}e.push(i)}return e}(b,d,e),h=2===f?function([a,b],[c]){return d=>c(T(a,b,d))}(a,g):function(a,b){const c=a.length,d=c-1;return e=>{let f=0,g=!1;if(e<=a[0]?g=!0:e>=a[d]&&(f=d-1,g=!0),!g){let h=1;for(;h<c&& !(a[h]>e)&&h!==d;h++);f=h-1}const i=T(a[f],a[f+1],e);return b[f](i)}}(a,g);return c?b=>h(L(a[0],a[f-1],b)):h}const Oa=a=>b=>1-a(1-b),Pa=a=>b=>b<=0.5?a(2*b)/2:(2-a(2*(1-b)))/2,Qa=a=>b=>b*b*((a+1)*b-a),Ra=4/11,Sa=8/11,Ta=a=>a,Ua=a=>Math.pow(a,2),Va=Oa(Ua),Wa=Pa(Ua),Xa=a=>1-Math.sin(Math.acos(a)),Ya=Oa(Xa),Za=Pa(Ya),$a=Qa(1.525),_a=Oa($a),ab=Pa($a),bb=(a=>{const b=Qa(1.525);return a=>(a*=2)<1?0.5*b(a):0.5*(2-Math.pow(2,-10*(a-1)))})(1.525),cb=4356/361,db=35442/1805,eb=16061/1805,fb=a=>{if(1===a||0===a)return a;const b=a*a;return a<Ra?7.5625*b:a<Sa?9.075*b-9.9*a+3.4:a<0.9?cb*b-db*a+eb:10.8*a*a-20.52*a+10.72},gb=Oa(fb);function hb({from:a=0,to:b=1,ease:c,offset:d,duration:e=300}){var f,g;const h={done:!1,value:a},i=Array.isArray(b)?b:[a,b],j=(f=d&&d.length===i.length?d:function(a){const b=a.length;return a.map((a,c)=>0!==c?c/(b-1):0)}(i),g=e,f.map(a=>a*g));function k(){var a,b;return Na(j,i,{ease:Array.isArray(c)?c:(a=i,b=c,a.map(()=>b||Wa).splice(0,a.length-1))})}let l=k();return{next:a=>(h.value=l(a),h.done=a>=e,h),flipTarget:()=>{i.reverse(),l=k()}}}const ib={keyframes:hb,spring:R,decay:function({velocity:a=0,from:b=0,power:c=0.8,timeConstant:d=350,restDelta:e=0.5,modifyTarget:f}){const g={done:!1,value:b};let h=c*a;const i=b+h,j=void 0===f?i:f(i);return j!==i&&(h=j-b),{next:a=>{const b=-h*Math.exp(-a/d);return g.done=!(b>e||b< -e),g.value=g.done?j:j+b,g},flipTarget:()=>{}}}},jb=1/60*1000,kb="undefined"!=typeof performance?()=>performance.now():()=>Date.now(),lb="undefined"!=typeof window?a=>window.requestAnimationFrame(a):a=>setTimeout(()=>a(kb()),jb);let mb=!0,nb=!1,ob=!1;const pb={delta:0,timestamp:0},qb=["read","update","preRender","render","postRender",],rb=qb.reduce((a,b)=>(a[b]=(function(a){let b=[],c=[],d=0,e=!1,f=!1;const g=new WeakSet(),h={schedule:(a,f=!1,h=!1)=>{const i=h&&e,j=i?b:c;return f&&g.add(a),-1===j.indexOf(a)&&(j.push(a),i&&e&&(d=b.length)),a},cancel:a=>{const b=c.indexOf(a);-1!==b&&c.splice(b,1),g.delete(a)},process:i=>{if(e){f=!0;return}if(e=!0,[b,c]=[c,b],c.length=0,d=b.length)for(let j=0;j<d;j++){const k=b[j];k(i),g.has(k)&&(h.schedule(k),a())}e=!1,f&&(f=!1,h.process(i))}};return h})(()=>nb=!0),a),{}),sb=qb.reduce((a,b)=>{const c=rb[b];return a[b]=(a,b=!1,d=!1)=>(nb||wb(),c.schedule(a,b,d)),a},{}),tb=qb.reduce((a,b)=>(a[b]=rb[b].cancel,a),{});qb.reduce((a,b)=>(a[b]=()=>rb[b].process(pb),a),{});const ub=a=>rb[a].process(pb),vb=a=>{nb=!1,pb.delta=mb?jb:Math.max(Math.min(a-pb.timestamp,40),1),pb.timestamp=a,ob=!0,qb.forEach(ub),ob=!1,nb&&(mb=!1,lb(vb))},wb=()=>{nb=!0,mb=!0,ob||lb(vb)},xb=()=>pb;var yb=sb;function zb(a,b,c=0){return a-b-c}const Ab=a=>{const b=({delta:b})=>a(b);return{start:()=>yb.update(b,!0),stop:()=>tb.update(b)}};function Bb(a){var b,c,{from:d,autoplay:e=!0,driver:g=Ab,elapsed:h=0,repeat:i=0,repeatType:j="loop",repeatDelay:k=0,onPlay:l,onStop:m,onComplete:n,onRepeat:o,onUpdate:p}=a,q=(0,f._T)(a,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let{to:r}=q,s,t=0,u=q.duration,v,w=!1,x=!0,y;const z=function(a){if(Array.isArray(a.to))return hb;if(ib[a.type])return ib[a.type];const b=new Set(Object.keys(a));return b.has("ease")||b.has("duration")&&!b.has("dampingRatio")?hb:b.has("dampingRatio")||b.has("stiffness")||b.has("mass")||b.has("damping")||b.has("restSpeed")||b.has("restDelta")?R:hb}(q);(null===(c=(b=z).needsInterpolation)|| void 0===c?void 0:c.call(b,d,r))&&(y=Na([0,100],[d,r],{clamp:!1}),d=0,r=100);const A=z(Object.assign(Object.assign({},q),{from:d,to:r}));return e&&(null==l||l(),(s=g(function(a){if(x||(a=-a),h+=a,!w){const b=A.next(Math.max(0,h));v=b.value,y&&(v=y(v)),w=x?b.done:h<=0}if(null==p||p(v),w)if(0===t&&(null!=u||(u=h)),t<i){var c,d,e;c=h,d=u,e=k,(x?c>=d+e:c<= -e)&&(t++,"reverse"===j?h=(function(a,b,c=0,d=!0){return d?zb(b+ -a,b,c):b-(a-b)+c})(h,u,k,x=t%2==0):(h=zb(h,u,k),"mirror"===j&&A.flipTarget()),w=!1,o&&o())}else s.stop(),n&&n()})).start()),{stop:()=>{null==m||m(),s.stop()}}}var Cb=function(a){return 1000*a};const Db=(a,b)=>1-3*b+3*a,Eb=(a,b)=>3*b-6*a,Fb=a=>3*a,Gb=(a,b,c)=>((Db(b,c)*a+Eb(b,c))*a+Fb(b))*a,Hb=(a,b,c)=>3*Db(b,c)*a*a+2*Eb(b,c)*a+Fb(b);var Ib={linear:Ta,easeIn:Ua,easeInOut:Wa,easeOut:Va,circIn:Xa,circInOut:Za,circOut:Ya,backIn:$a,backInOut:ab,backOut:_a,anticipate:bb,bounceIn:gb,bounceInOut:a=>a<0.5?0.5*(1-fb(1-2*a)):0.5*fb(2*a-1)+0.5,bounceOut:fb},Jb=function(a){if(Array.isArray(a)){K(4===a.length,"Cubic bezier arrays must contain four numerical values.");var b=(0,f.CR)(a,4),c=b[0],d=b[1],e=b[2],g=b[3];return(function(a,b,c,d){if(a===b&&c===d)return Ta;const e=new Float32Array(11);for(let f=0;f<11;++f)e[f]=Gb(0.1*f,a,c);return f=>0===f||1===f?f:Gb(function(b){let d=0,f=1;const g=10;for(;f!==g&&e[f]<=b;++f)d+=0.1;--f;const h=(b-e[f])/(e[f+1]-e[f]),i=d+0.1*h,j=Hb(i,a,c);return j>=0.001?(function(a,b,c,d){for(let e=0;e<8;++e){const f=Hb(b,c,d);if(0===f)return b;const g=Gb(b,c,d)-a;b-=g/f}return b})(b,i,a,c):0===j?i:(function(a,b,c,d,e){let f,g,h=0;do(f=Gb(g=b+(c-b)/2,d,e)-a)>0?c=g:b=g;while(Math.abs(f)>0.0000001&& ++h<10)return g})(b,d,d+0.1,a,c)}(f),b,d)})(c,d,e,g)}return"string"==typeof a?(K(void 0!==Ib[a],"Invalid easing type '".concat(a,"'")),Ib[a]):a},Kb=function(a,b){return"zIndex"!==a&&(!!("number"==typeof b||Array.isArray(b))|| !!("string"==typeof b&&Da.test(b))&&!b.startsWith("url("))},Lb=function(a){return Array.isArray(a)},Mb=function(){return{type:"spring",stiffness:500,damping:25,restSpeed:10}},Nb=function(a){return{type:"spring",stiffness:550,damping:0===a?2*Math.sqrt(550):30,restSpeed:10}},Ob=function(){return{type:"keyframes",ease:"linear",duration:0.3}},Pb={x:Mb,y:Mb,z:Mb,rotate:Mb,rotateX:Mb,rotateY:Mb,rotateZ:Mb,scaleX:Nb,scaleY:Nb,scale:Nb,opacity:Ob,backgroundColor:Ob,color:Ob,default:Nb},Qb=function(a,b){var c;return c=Lb(b)?function(a){return{type:"keyframes",duration:0.8,values:a}}:Pb[a]||Pb.default,(0,f.pi)({to:b},c(b))};const Rb=new Set(["brightness","contrast","saturate","opacity"]);function Sb(a){let[b,c]=a.slice(0,-1).split("(");if("drop-shadow"===b)return a;const[d]=c.match(W)||[];if(!d)return a;const e=c.replace(d,"");let f=Rb.has(b)?1:0;return d!==c&&(f*=100),b+"("+f+e+")"}const Tb=/([a-z-]*)\(.*?\)/g,Ub=Object.assign(Object.assign({},Da),{getAnimatableNone:a=>{const b=a.match(Tb);return b?b.map(Sb).join(" "):a}});var Vb=(0,f.pi)((0,f.pi)({},$),{transform:Math.round}),Wb={borderWidth:ka,borderTopWidth:ka,borderRightWidth:ka,borderBottomWidth:ka,borderLeftWidth:ka,borderRadius:ka,radius:ka,borderTopLeftRadius:ka,borderTopRightRadius:ka,borderBottomRightRadius:ka,borderBottomLeftRadius:ka,width:ka,maxWidth:ka,height:ka,maxHeight:ka,size:ka,top:ka,right:ka,bottom:ka,left:ka,padding:ka,paddingTop:ka,paddingRight:ka,paddingBottom:ka,paddingLeft:ka,margin:ka,marginTop:ka,marginRight:ka,marginBottom:ka,marginLeft:ka,rotate:ia,rotateX:ia,rotateY:ia,rotateZ:ia,scale:aa,scaleX:aa,scaleY:aa,scaleZ:aa,skew:ia,skewX:ia,skewY:ia,distance:ka,translateX:ka,translateY:ka,translateZ:ka,x:ka,y:ka,z:ka,perspective:ka,transformPerspective:ka,opacity:_,originX:na,originY:na,originZ:ka,zIndex:Vb,fillOpacity:_,strokeOpacity:_,numOctaves:Vb},Xb=(0,f.pi)((0,f.pi)({},Wb),{color:wa,backgroundColor:wa,outlineColor:wa,fill:wa,stroke:wa,borderColor:wa,borderTopColor:wa,borderRightColor:wa,borderBottomColor:wa,borderLeftColor:wa,filter:Ub,WebkitFilter:Ub}),Yb=function(a){return Xb[a]};function Zb(a,b){var c,d=Yb(a);return d!==Ub&&(d=Da),null===(c=d.getAnimatableNone)|| void 0===c?void 0:c.call(d,b)}var $b={current:!1},_b=function(a){return Lb(a)?a[a.length-1]||0:a},ac=!1;function bc(a){return 0===a||"string"==typeof a&&0===parseFloat(a)&& -1===a.indexOf(" ")}function cc(a){return"number"==typeof a?0:Zb("",a)}function dc(a,b){return a[b]||a.default||a}function ec(a,b,c,d){return void 0===d&&(d={}),$b.current&&(d={type:!1}),b.start(function(e){var g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v=(g=a,h=b,i=c,j=d,k=e,n=null!==(l=(m=dc(j,g)).from)&& void 0!==l?l:h.get(),o=Kb(g,i),"none"===n&&o&&"string"==typeof i?n=Zb(g,i):bc(n)&&"string"==typeof i?n=cc(i):!Array.isArray(i)&&bc(i)&&"string"==typeof n&&(i=cc(n)),p=Kb(g,n),J(p===o,"You are trying to animate ".concat(g," from \"").concat(n,"\" to \"").concat(i,"\". ").concat(n," is not an animatable value - to enable this animation set ").concat(n," to a value animatable to ").concat(i," via the `style` property.")),p&&o&& !1!==m.type?function(){var a,b,c,d,e,j,l,o,p,q,r,s,t,u,v,w,x={from:n,to:i,velocity:h.getVelocity(),onComplete:k,onUpdate:function(a){return h.set(a)}};return"inertia"===m.type||"decay"===m.type?(function({from:a=0,velocity:b=0,min:c,max:d,power:e=0.8,timeConstant:f=750,bounceStiffness:g=500,bounceDamping:h=10,restDelta:i=1,modifyTarget:j,driver:k,onUpdate:l,onComplete:m,onStop:n}){let o;function p(a){return void 0!==c&&a<c|| void 0!==d&&a>d}function q(a){return void 0===c?d:void 0===d?c:Math.abs(c-a)<Math.abs(d-a)?c:d}function r(a){null==o||o.stop(),o=Bb(Object.assign(Object.assign({},a),{driver:k,onUpdate:b=>{var c;null==l||l(b),null===(c=a.onUpdate)|| void 0===c||c.call(a,b)},onComplete:m,onStop:n}))}function s(a){r(Object.assign({type:"spring",stiffness:g,damping:h,restDelta:i},a))}if(p(a))s({from:a,velocity:b,to:q(a)});else{let t=e*b+a;void 0!==j&&(t=j(t));const u=q(t),v=u===c?-1:1;let w,x;const y=a=>{w=x,x=a,b=C(a-w,xb().delta),(1===v&&a>u|| -1===v&&a<u)&&s({from:a,to:u,velocity:b})};r({type:"decay",from:a,velocity:b,timeConstant:f,power:e,restDelta:i,modifyTarget:j,onUpdate:p(t)?y:void 0})}return{stop:()=>null==o?void 0:o.stop()}})((0,f.pi)((0,f.pi)({},x),m)):Bb((0,f.pi)((0,f.pi)({},(a=m,b=x,c=g,Array.isArray(b.to)&&(null!==(d=a.duration)&& void 0!==d||(a.duration=0.8)),e=b,Array.isArray(e.to)&&null===e.to[0]&&(e.to=(0,f.ev)([],(0,f.CR)(e.to),!1),e.to[0]=e.from),(j=a).when,j.delay,j.delayChildren,j.staggerChildren,j.staggerDirection,j.repeat,j.repeatType,j.repeatDelay,j.from,l=(0,f._T)(j,["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from"]),Object.keys(l).length||(a=(0,f.pi)((0,f.pi)({},a),Qb(c,b.to))),(0,f.pi)((0,f.pi)({},b),(q=(o=a).ease,r=o.times,s=o.yoyo,t=o.flip,u=o.loop,v=(0,f._T)(o,["ease","times","yoyo","flip","loop"]),w=(0,f.pi)({},v),r&&(w.offset=r),v.duration&&(w.duration=Cb(v.duration)),v.repeatDelay&&(w.repeatDelay=Cb(v.repeatDelay)),q&&(p=q,w.ease=Array.isArray(p)&&"number"!=typeof p[0]?q.map(Jb):Jb(q)),"tween"===v.type&&(w.type="keyframes"),(s||u||t)&&(J(!ac,"yoyo, loop and flip have been removed from the API. Replace with repeat and repeatType options."),ac=!0,s?w.repeatType="reverse":u?w.repeatType="loop":t&&(w.repeatType="mirror"),w.repeat=u||s||t||v.repeat),"spring"!==v.type&&(w.type="keyframes"),w)))),{onUpdate:function(a){var b;x.onUpdate(a),null===(b=m.onUpdate)|| void 0===b||b.call(m,a)},onComplete:function(){var a;x.onComplete(),null===(a=m.onComplete)|| void 0===a||a.call(m)}}))}:function(){var a,b,c=_b(i);return h.set(c),k(),null===(a=null==m?void 0:m.onUpdate)|| void 0===a||a.call(m,c),null===(b=null==m?void 0:m.onComplete)|| void 0===b||b.call(m),{stop:function(){}}}),w=null!==(u=null!==(t=(dc(s=d,a)||{}).delay)&& void 0!==t?t:s.delay)&& void 0!==u?u:0,x=function(){return r=v()};return w?q=setTimeout(x,Cb(w)):x(),function(){clearTimeout(q),null==r||r.stop()}})}var fc=["TopLeft","TopRight","BottomLeft","BottomRight"],gc=fc.length;function hc(a,b){var c;return null!==(c=a[b])&& void 0!==c?c:a.borderRadius}var ic=kc(0,0.5,Ya),jc=kc(0.5,0.95,Ta);function kc(a,b,c){return function(d){return d<a?0:d>b?1:c(T(a,b,d))}}function lc(a,b){a.min=b.min,a.max=b.max}function mc(a,b){lc(a.x,b.x),lc(a.y,b.y)}function nc(a){return void 0===a||1===a}function oc(a){var b=a.scale,c=a.scaleX,d=a.scaleY;return!nc(b)||!nc(c)||!nc(d)}function pc(a){return oc(a)||qc(a.x)||qc(a.y)||a.z||a.rotate||a.rotateX||a.rotateY}function qc(a){return a&&"0%"!==a}function rc(a,b,c){return c+b*(a-c)}function sc(a,b,c,d,e){return void 0!==e&&(a=rc(a,e,d)),rc(a,c,d)+b}function tc(a,b,c,d,e){void 0===b&&(b=0),void 0===c&&(c=1),a.min=sc(a.min,b,c,d,e),a.max=sc(a.max,b,c,d,e)}function uc(a,b){var c=b.x,d=b.y;tc(a.x,c.translate,c.scale,c.originPoint),tc(a.y,d.translate,d.scale,d.originPoint)}function vc(a,b){a.min=a.min+b,a.max=a.max+b}function wc(a,b,c){var d=(0,f.CR)(c,3),e=d[0],g=d[1],h=d[2],i=void 0!==b[h]?b[h]:0.5,j=B(a.min,a.max,i);tc(a,b[e],b[g],j,b.scale)}var xc=["x","scaleX","originX"],yc=["y","scaleY","originY"];function zc(a,b){wc(a.x,b,xc),wc(a.y,b,yc)}const Ac=a=>a.hasOwnProperty("x")&&a.hasOwnProperty("y"),Bc=a=>Ac(a)&&a.hasOwnProperty("z"),Cc=(a,b)=>Math.abs(a-b);function Dc(a,b){if(Ea(a)&&Ea(b))return Cc(a,b);if(Ac(a)&&Ac(b)){const c=Cc(a.x,b.x),d=Cc(a.y,b.y),e=Bc(a)&&Bc(b)?Cc(a.z,b.z):0;return Math.sqrt(Math.pow(c,2)+Math.pow(d,2)+Math.pow(e,2))}}function Ec(a){return a.max-a.min}function Fc(a,b,c){return void 0===b&&(b=0),void 0===c&&(c=0.01),Dc(a,b)<c}function Gc(a,b,c,d){void 0===d&&(d=0.5),a.origin=d,a.originPoint=B(b.min,b.max,a.origin),a.scale=Ec(c)/Ec(b),(Fc(a.scale,1,0.0001)||isNaN(a.scale))&&(a.scale=1),a.translate=B(c.min,c.max,a.origin)-a.originPoint,(Fc(a.translate)||isNaN(a.translate))&&(a.translate=0)}function Hc(a,b,c,d){Gc(a.x,b.x,c.x,null==d?void 0:d.originX),Gc(a.y,b.y,c.y,null==d?void 0:d.originY)}function Ic(a,b,c){a.min=c.min+b.min,a.max=a.min+Ec(b)}function Jc(a,b,c){a.min=b.min-c.min,a.max=a.min+Ec(b)}function Kc(a,b,c){Jc(a.x,b.x,c.x),Jc(a.y,b.y,c.y)}function Lc(a,b,c,d,e){return a=rc(a-=b,1/c,d),void 0!==e&&(a=rc(a,1/e,d)),a}function Mc(a,b,c,d,e){var g=(0,f.CR)(c,3),h=g[0],i=g[1],j=g[2];!function(a,b,c,d,e,f,g){if(void 0===b&&(b=0),void 0===c&&(c=1),void 0===d&&(d=0.5),void 0===f&&(f=a),void 0===g&&(g=a),ja.test(b)&&(b=parseFloat(b),b=B(g.min,g.max,b/100)-g.min),"number"==typeof b){var h=B(f.min,f.max,d);a===f&&(h-=b),a.min=Lc(a.min,b,c,h,e),a.max=Lc(a.max,b,c,h,e)}}(a,b[h],b[i],b[j],b.scale,d,e)}var Nc=["x","scaleX","originX"],Oc=["y","scaleY","originY"];function Pc(a,b,c,d){Mc(a.x,b,Nc,null==c?void 0:c.x,null==d?void 0:d.x),Mc(a.y,b,Oc,null==c?void 0:c.y,null==d?void 0:d.y)}var Qc=function(){return{translate:0,scale:1,origin:0,originPoint:0}},Rc=function(){return{x:Qc(),y:Qc()}},Sc=function(){return{min:0,max:0}},Tc=function(){return{x:Sc(),y:Sc()}};function Uc(a){return 0===a.translate&&1===a.scale}function Vc(a){return Uc(a.x)&&Uc(a.y)}function Wc(a,b){return a.x.min===b.x.min&&a.x.max===b.x.max&&a.y.min===b.y.min&&a.y.max===b.y.max}var Xc=function(){function a(){this.members=[]}return a.prototype.add=function(a){D(this.members,a),a.scheduleRender()},a.prototype.remove=function(a){if(E(this.members,a),a===this.prevLead&&(this.prevLead=void 0),a===this.lead){var b=this.members[this.members.length-1];b&&this.promote(b)}},a.prototype.relegate=function(a){var b,c=this.members.findIndex(function(b){return a===b});if(0===c)return!1;for(var d=c;d>=0;d--){var e=this.members[d];if(!1!==e.isPresent){b=e;break}}return!!b&&(this.promote(b),!0)},a.prototype.promote=function(a,b){var c,d=this.lead;a!==d&&(this.prevLead=d,this.lead=a,a.show(),d)&&(d.instance&&d.scheduleRender(),a.scheduleRender(),a.resumeFrom=d,b&&(a.resumeFrom.preserveOpacity=!0),d.snapshot&&(a.snapshot=d.snapshot,a.snapshot.latestValues=d.animationValues||d.latestValues,a.snapshot.isShared=!0),(null===(c=a.root)|| void 0===c?void 0:c.isUpdating)&&(a.isLayoutDirty=!0),!1===a.options.crossfade&&d.hide())},a.prototype.exitAnimationComplete=function(){this.members.forEach(function(a){var b,c,d,e,f;null===(c=(b=a.options).onExitComplete)|| void 0===c||c.call(b),null===(f=null===(d=a.resumingFrom)|| void 0===d?void 0:(e=d.options).onExitComplete)|| void 0===f||f.call(e)})},a.prototype.scheduleRender=function(){this.members.forEach(function(a){a.instance&&a.scheduleRender(!1)})},a.prototype.removeLeadSnapshot=function(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)},a}(),Yc={};function Zc(a,b,c){var d=a.x.translate/b.x,e=a.y.translate/b.y,f="translate3d(".concat(d,"px, ").concat(e,"px, 0) ");if(c){var g=c.rotate,h=c.rotateX,i=c.rotateY;g&&(f+="rotate(".concat(g,"deg) ")),h&&(f+="rotateX(".concat(h,"deg) ")),i&&(f+="rotateY(".concat(i,"deg) "))}return"translate3d(0px, 0px, 0) scale(1, 1)"===(f+="scale(".concat(a.x.scale,", ").concat(a.y.scale,")"))?"none":f}function $c(a){return[a("x"),a("y")]}var _c=["","X","Y","Z"],ad=["transformPerspective","x","y","z"];function bd(a,b){return ad.indexOf(a)-ad.indexOf(b)}["translate","scale","rotate","skew"].forEach(function(a){return _c.forEach(function(b){return ad.push(a+b)})});var cd=new Set(ad);function dd(a){return cd.has(a)}var ed=new Set(["originX","originY","originZ"]);function fd(a){return ed.has(a)}var gd=function(){function a(){this.children=[],this.isDirty=!1}return a.prototype.add=function(a){D(this.children,a),this.isDirty=!0},a.prototype.remove=function(a){E(this.children,a),this.isDirty=!0},a.prototype.forEach=function(a){this.isDirty&&this.children.sort(function(a,b){return a.depth-b.depth}),this.isDirty=!1,this.children.forEach(a)},a}();function hd(a){var b,c=I(a)?a.get():a;return Boolean((b=c)&&"object"==typeof b&&b.mix&&b.toValue)?c.toValue():c}var id={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function jd(a){var b=a.attachResizeListener,c=a.defaultParent,d=a.measureScroll,e=a.resetTransform;return(function(){function a(a,b,d){var e=this;void 0===b&&(b={}),void 0===d&&(d=null==c?void 0:c()),this.children=new Set(),this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map(),this.potentialNodes=new Map(),this.checkUpdateFailed=function(){e.isUpdating&&(e.isUpdating=!1,e.clearAllSnapshots())},this.updateProjection=function(){e.nodes.forEach(qd),e.nodes.forEach(rd)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map(),this.id=a,this.latestValues=b,this.root=d?d.root||d:this,this.path=d?(0,f.ev)((0,f.ev)([],(0,f.CR)(d.path),!1),[d],!1):[],this.parent=d,this.depth=d?d.depth+1:0,a&&this.root.registerPotentialNode(a,this);for(var g=0;g<this.path.length;g++)this.path[g].shouldResetTransform=!0;this.root===this&&(this.nodes=new gd())}return a.prototype.addEventListener=function(a,b){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new F()),this.eventHandlers.get(a).add(b)},a.prototype.notifyListeners=function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];var d=this.eventHandlers.get(a);null==d||d.notify.apply(d,(0,f.ev)([],(0,f.CR)(b),!1))},a.prototype.hasListeners=function(a){return this.eventHandlers.has(a)},a.prototype.registerPotentialNode=function(a,b){this.potentialNodes.set(a,b)},a.prototype.mount=function(a,c){var d,e,g=this;if(void 0===c&&(c=!1),!this.instance){this.isSVG=a instanceof SVGElement&&"svg"!==a.tagName,this.instance=a;var h=this.options,i=h.layoutId,j=h.layout,k=h.visualElement;if(k&&!k.getInstance()&&k.mount(a),this.root.nodes.add(this),null===(d=this.parent)|| void 0===d||d.children.add(this),this.id&&this.root.potentialNodes.delete(this.id),c&&(j||i)&&(this.isLayoutDirty=!0),b){var l=function(){return g.root.updateBlockedByResize=!1};b(a,function(){g.root.updateBlockedByResize=!0,clearTimeout(e),e=setTimeout(l,250),id.hasAnimatedSinceResize&&(id.hasAnimatedSinceResize=!1,g.nodes.forEach(pd))})}i&&this.root.registerSharedNode(i,this),!1!==this.options.animate&&k&&(i||j)&&this.addEventListener("didUpdate",function(a){var b,c,d,e,h,i=a.delta,j=a.hasLayoutChanged,l=a.hasRelativeTargetChanged,m=a.layout;if(g.isTreeAnimationBlocked()){g.target=void 0,g.relativeTarget=void 0;return}var n=null!==(c=null!==(b=g.options.transition)&& void 0!==b?b:k.getDefaultTransition())&& void 0!==c?c:yd,o=k.getProps().onLayoutAnimationComplete,p=!g.targetLayout||!Wc(g.targetLayout,m)||l,q=!j&&l;(null===(d=g.resumeFrom)|| void 0===d?void 0:d.instance)||q||j&&(p||!g.currentAnimation)?(g.resumeFrom&&(g.resumingFrom=g.resumeFrom,g.resumingFrom.resumingFrom=void 0),g.setAnimationOrigin(i,q),g.startAnimation((0,f.pi)((0,f.pi)({},dc(n,"layout")),{onComplete:o}))):g.isLead()&&(null===(h=(e=g.options).onExitComplete)|| void 0===h||h.call(e)),g.targetLayout=m})}},a.prototype.unmount=function(){var a,b;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),null===(a=this.getStack())|| void 0===a||a.remove(this),null===(b=this.parent)|| void 0===b||b.children.delete(this),this.instance=void 0,A.qY.preRender(this.updateProjection)},a.prototype.blockUpdate=function(){this.updateManuallyBlocked=!0},a.prototype.unblockUpdate=function(){this.updateManuallyBlocked=!1},a.prototype.isUpdateBlocked=function(){return this.updateManuallyBlocked||this.updateBlockedByResize},a.prototype.isTreeAnimationBlocked=function(){var a;return this.isAnimationBlocked||(null===(a=this.parent)|| void 0===a?void 0:a.isTreeAnimationBlocked())||!1},a.prototype.startUpdate=function(){var a;this.isUpdateBlocked()||(this.isUpdating=!0,null===(a=this.nodes)|| void 0===a||a.forEach(sd))},a.prototype.willUpdate=function(a){var b,c,d;if(void 0===a&&(a=!0),this.root.isUpdateBlocked()){null===(c=(b=this.options).onExitComplete)|| void 0===c||c.call(b);return}if(this.root.isUpdating||this.root.startUpdate(),!this.isLayoutDirty){this.isLayoutDirty=!0;for(var e=0;e<this.path.length;e++){var f=this.path[e];f.shouldResetTransform=!0,f.updateScroll()}var g=this.options,h=g.layoutId,i=g.layout;if(void 0!==h||i){var j=null===(d=this.options.visualElement)|| void 0===d?void 0:d.getProps().transformTemplate;this.prevTransformTemplateValue=null==j?void 0:j(this.latestValues,""),this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}}},a.prototype.didUpdate=function(){if(this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(nd);return}this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(zd),this.potentialNodes.clear()),this.nodes.forEach(od),this.nodes.forEach(kd),this.nodes.forEach(ld),this.clearAllSnapshots(),A.iW.update(),A.iW.preRender(),A.iW.render())},a.prototype.clearAllSnapshots=function(){this.nodes.forEach(md),this.sharedNodes.forEach(td)},a.prototype.scheduleUpdateProjection=function(){A.ZP.preRender(this.updateProjection,!1,!0)},a.prototype.scheduleCheckAfterUnmount=function(){var a=this;A.ZP.postRender(function(){a.isLayoutDirty?a.root.didUpdate():a.root.checkUpdateFailed()})},a.prototype.updateSnapshot=function(){if(!this.snapshot&&this.instance){var a=this.measure(),b=this.removeTransform(this.removeElementScroll(a));Bd(b),this.snapshot={measured:a,layout:b,latestValues:{}}}},a.prototype.updateLayout=function(){var a;if(this.instance){if(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(var b=0;b<this.path.length;b++)this.path[b].updateScroll();var c=this.measure();Bd(c);var d=this.layout;this.layout={measured:c,actual:this.removeElementScroll(c)},this.layoutCorrected=Tc(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.actual),null===(a=this.options.visualElement)|| void 0===a||a.notifyLayoutMeasure(this.layout.actual,null==d?void 0:d.actual)}},a.prototype.updateScroll=function(){this.options.layoutScroll&&this.instance&&(this.scroll=d(this.instance))},a.prototype.resetTransform=function(){var a;if(e){var b=this.isLayoutDirty||this.shouldResetTransform,c=this.projectionDelta&&!Vc(this.projectionDelta),d=null===(a=this.options.visualElement)|| void 0===a?void 0:a.getProps().transformTemplate,f=null==d?void 0:d(this.latestValues,""),g=f!==this.prevTransformTemplateValue;b&&(c||pc(this.latestValues)||g)&&(e(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}},a.prototype.measure=function(){var a=this.options.visualElement;if(!a)return Tc();var b=a.measureViewportBox(),c=this.root.scroll;return c&&(vc(b.x,c.x),vc(b.y,c.y)),b},a.prototype.removeElementScroll=function(a){var b=Tc();mc(b,a);for(var c=0;c<this.path.length;c++){var d=this.path[c],e=d.scroll,f=d.options;d!==this.root&&e&&f.layoutScroll&&(vc(b.x,e.x),vc(b.y,e.y))}return b},a.prototype.applyTransform=function(a,b){void 0===b&&(b=!1);var c=Tc();mc(c,a);for(var d=0;d<this.path.length;d++){var e=this.path[d];!b&&e.options.layoutScroll&&e.scroll&&e!==e.root&&zc(c,{x:-e.scroll.x,y:-e.scroll.y}),pc(e.latestValues)&&zc(c,e.latestValues)}return pc(this.latestValues)&&zc(c,this.latestValues),c},a.prototype.removeTransform=function(a){var b,c=Tc();mc(c,a);for(var d=0;d<this.path.length;d++){var e=this.path[d];if(e.instance&&pc(e.latestValues)){oc(e.latestValues)&&e.updateSnapshot();var f=Tc();mc(f,e.measure()),Pc(c,e.latestValues,null===(b=e.snapshot)|| void 0===b?void 0:b.layout,f)}}return pc(this.latestValues)&&Pc(c,this.latestValues),c},a.prototype.setTargetDelta=function(a){this.targetDelta=a,this.root.scheduleUpdateProjection()},a.prototype.setOptions=function(a){var b;this.options=(0,f.pi)((0,f.pi)((0,f.pi)({},this.options),a),{crossfade:null===(b=a.crossfade)|| void 0===b||b})},a.prototype.clearMeasurements=function(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1},a.prototype.resolveTargetDelta=function(){var a,b,c,d,e=this.options,f=e.layout,g=e.layoutId;!!this.layout&&!!(f||g)&&(!this.targetDelta&&!this.relativeTarget&&(this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&this.relativeParent.layout&&(this.relativeTarget=Tc(),this.relativeTargetOrigin=Tc(),Kc(this.relativeTargetOrigin,this.layout.actual,this.relativeParent.layout.actual),mc(this.relativeTarget,this.relativeTargetOrigin))),(this.relativeTarget||this.targetDelta)&&((this.target||(this.target=Tc(),this.targetWithTransforms=Tc()),this.relativeTarget&&this.relativeTargetOrigin&&(null===(d=this.relativeParent)|| void 0===d?void 0:d.target))?(a=this.target,b=this.relativeTarget,c=this.relativeParent.target,Ic(a.x,b.x,c.x),Ic(a.y,b.y,c.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.actual):mc(this.target,this.layout.actual),uc(this.target,this.targetDelta)):mc(this.target,this.layout.actual),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&Boolean(this.relativeParent.resumingFrom)===Boolean(this.resumingFrom)&&!this.relativeParent.options.layoutScroll&&this.relativeParent.target&&(this.relativeTarget=Tc(),this.relativeTargetOrigin=Tc(),Kc(this.relativeTargetOrigin,this.target,this.relativeParent.target),mc(this.relativeTarget,this.relativeTargetOrigin)))))},a.prototype.getClosestProjectingParent=function(){if(!(!this.parent||pc(this.parent.latestValues)))if((this.parent.relativeTarget||this.parent.targetDelta)&&this.parent.layout)return this.parent;else return this.parent.getClosestProjectingParent()},a.prototype.calcProjection=function(){var a,b=this.options,c=b.layout,d=b.layoutId;if(this.isTreeAnimating=Boolean((null===(a=this.parent)|| void 0===a?void 0:a.isTreeAnimating)||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),this.layout&&(c||d)){var e=this.getLead();mc(this.layoutCorrected,this.layout.actual),(function(a,b,c,d){void 0===d&&(d=!1);var e,f,g,h,i=c.length;if(i){b.x=b.y=1;for(var j=0;j<i;j++)h=(g=c[j]).projectionDelta,(null===(f=null===(e=g.instance)|| void 0===e?void 0:e.style)|| void 0===f?void 0:f.display)!=="contents"&&(d&&g.options.layoutScroll&&g.scroll&&g!==g.root&&zc(a,{x:-g.scroll.x,y:-g.scroll.y}),h&&(b.x*=h.x.scale,b.y*=h.y.scale,uc(a,h)),d&&pc(g.latestValues)&&zc(a,g.latestValues))}})(this.layoutCorrected,this.treeScale,this.path,Boolean(this.resumingFrom)||this!==e);var f=e.target;if(f){this.projectionDelta||(this.projectionDelta=Rc(),this.projectionDeltaWithTransform=Rc());var g=this.treeScale.x,h=this.treeScale.y,i=this.projectionTransform;Hc(this.projectionDelta,this.layoutCorrected,f,this.latestValues),this.projectionTransform=Zc(this.projectionDelta,this.treeScale),(this.projectionTransform!==i||this.treeScale.x!==g||this.treeScale.y!==h)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",f))}}},a.prototype.hide=function(){this.isVisible=!1},a.prototype.show=function(){this.isVisible=!0},a.prototype.scheduleRender=function(a){var b,c,d;void 0===a&&(a=!0),null===(c=(b=this.options).scheduleRender)|| void 0===c||c.call(b),a&&(null===(d=this.getStack())|| void 0===d||d.scheduleRender()),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)},a.prototype.setAnimationOrigin=function(a,b){var c,d=this;void 0===b&&(b=!1);var e=this.snapshot,g=(null==e?void 0:e.latestValues)||{},h=(0,f.pi)({},this.latestValues),i=Rc();this.relativeTarget=this.relativeTargetOrigin=void 0,this.attemptToResolveRelativeTarget=!b;var j=Tc(),k=null==e?void 0:e.isShared,l=1>=((null===(c=this.getStack())|| void 0===c?void 0:c.members.length)||0),m=Boolean(k&&!l&& !0===this.options.crossfade&&!this.path.some(xd));this.mixTargetDelta=function(b){var c,e=b/1000;ud(i.x,a.x,e),ud(i.y,a.y,e),d.setTargetDelta(i),d.relativeTarget&&d.relativeTargetOrigin&&d.layout&&(null===(c=d.relativeParent)|| void 0===c?void 0:c.layout)&&(Kc(j,d.layout.actual,d.relativeParent.layout.actual),wd(d.relativeTarget,d.relativeTargetOrigin,j,e)),k&&(d.animationValues=h,(function(a,b,c,d,e,f){var g,h,i,j;e?(a.opacity=B(0,null!==(g=c.opacity)&& void 0!==g?g:1,ic(d)),a.opacityExit=B(null!==(h=b.opacity)&& void 0!==h?h:1,0,jc(d))):f&&(a.opacity=B(null!==(i=b.opacity)&& void 0!==i?i:1,null!==(j=c.opacity)&& void 0!==j?j:1,d));for(var k=0;k<gc;k++){var l="border".concat(fc[k],"Radius"),m=hc(b,l),n=hc(c,l);if((void 0!==m|| void 0!==n)&&(m||(m=0),n||(n=0),"number"==typeof m&&"number"==typeof n)){var o=Math.max(B(m,n,d),0);a[l]=o}}(b.rotate||c.rotate)&&(a.rotate=B(b.rotate||0,c.rotate||0,d))})(h,g,d.latestValues,e,m,l)),d.root.scheduleUpdateProjection(),d.scheduleRender()},this.mixTargetDelta(0)},a.prototype.startAnimation=function(a){var b,c,d=this;null===(b=this.currentAnimation)|| void 0===b||b.stop(),this.resumingFrom&&(null===(c=this.resumingFrom.currentAnimation)|| void 0===c||c.stop()),this.pendingAnimation&&(A.qY.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=A.ZP.update(function(){var b,c;id.hasAnimatedSinceResize=!0,void 0===(b=(0,f.pi)((0,f.pi)({},a),{onUpdate:function(b){var c;d.mixTargetDelta(b),null===(c=a.onUpdate)|| void 0===c||c.call(a,b)},onComplete:function(){var b;null===(b=a.onComplete)|| void 0===b||b.call(a),d.completeAnimation()}}))&&(b={}),ec("",c=I(0)?0:H(0),1000,b),d.currentAnimation={stop:function(){return c.stop()},isAnimating:function(){return c.isAnimating()}},d.resumingFrom&&(d.resumingFrom.currentAnimation=d.currentAnimation),d.pendingAnimation=void 0})},a.prototype.completeAnimation=function(){var a;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),null===(a=this.getStack())|| void 0===a||a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")},a.prototype.finishAnimation=function(){var a;this.currentAnimation&&(null===(a=this.mixTargetDelta)|| void 0===a||a.call(this,1000),this.currentAnimation.stop()),this.completeAnimation()},a.prototype.applyTransformsToTarget=function(){var a=this.getLead(),b=a.targetWithTransforms,c=a.target,d=a.layout,e=a.latestValues;b&&c&&d&&(mc(b,c),zc(b,e),Hc(this.projectionDeltaWithTransform,this.layoutCorrected,b,e))},a.prototype.registerSharedNode=function(a,b){var c,d,e;this.sharedNodes.has(a)||this.sharedNodes.set(a,new Xc()),this.sharedNodes.get(a).add(b),b.promote({transition:null===(c=b.options.initialPromotionConfig)|| void 0===c?void 0:c.transition,preserveFollowOpacity:null===(e=null===(d=b.options.initialPromotionConfig)|| void 0===d?void 0:d.shouldPreserveFollowOpacity)|| void 0===e?void 0:e.call(d,b)})},a.prototype.isLead=function(){var a=this.getStack();return!a||a.lead===this},a.prototype.getLead=function(){var a;return this.options.layoutId?(null===(a=this.getStack())|| void 0===a?void 0:a.lead)||this:this},a.prototype.getPrevLead=function(){var a;return this.options.layoutId?null===(a=this.getStack())|| void 0===a?void 0:a.prevLead:void 0},a.prototype.getStack=function(){var a=this.options.layoutId;if(a)return this.root.sharedNodes.get(a)},a.prototype.promote=function(a){var b=void 0===a?{}:a,c=b.needsReset,d=b.transition,e=b.preserveFollowOpacity,f=this.getStack();f&&f.promote(this,e),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})},a.prototype.relegate=function(){var a=this.getStack();return!!a&&a.relegate(this)},a.prototype.resetRotation=function(){var a=this.options.visualElement;if(a){for(var b=!1,c={},d=0;d<_c.length;d++){var e="rotate"+_c[d];a.getStaticValue(e)&&(b=!0,c[e]=a.getStaticValue(e),a.setStaticValue(e,0))}if(b){for(var e in null==a||a.syncRender(),c)a.setStaticValue(e,c[e]);a.scheduleRender()}}},a.prototype.getProjectionStyles=function(a){var b,c,d,e,f,g;void 0===a&&(a={});var h={};if(!this.instance||this.isSVG)return h;if(!this.isVisible)return{visibility:"hidden"};h.visibility="";var i=null===(b=this.options.visualElement)|| void 0===b?void 0:b.getProps().transformTemplate;if(this.needsReset)return this.needsReset=!1,h.opacity="",h.pointerEvents=hd(a.pointerEvents)||"",h.transform=i?i(this.latestValues,""):"none",h;var j=this.getLead();if(!this.projectionDelta||!this.layout||!j.target){var k={};return this.options.layoutId&&(k.opacity=null!==(c=this.latestValues.opacity)&& void 0!==c?c:1,k.pointerEvents=hd(a.pointerEvents)||""),this.hasProjected&&!pc(this.latestValues)&&(k.transform=i?i({},""):"none",this.hasProjected=!1),k}var l=j.animationValues||j.latestValues;this.applyTransformsToTarget(),h.transform=Zc(this.projectionDeltaWithTransform,this.treeScale,l),i&&(h.transform=i(l,h.transform));var m=this.projectionDelta,n=m.x,o=m.y;for(var p in h.transformOrigin="".concat(100*n.origin,"% ").concat(100*o.origin,"% 0"),j.animationValues?h.opacity=j===this?null!==(e=null!==(d=l.opacity)&& void 0!==d?d:this.latestValues.opacity)&& void 0!==e?e:1:this.preserveOpacity?this.latestValues.opacity:l.opacityExit:h.opacity=j===this?null!==(f=l.opacity)&& void 0!==f?f:"":null!==(g=l.opacityExit)&& void 0!==g?g:0,Yc)if(void 0!==l[p]){var q=Yc[p],r=q.correct,s=q.applyTo,t=r(l[p],j);if(s)for(var u=s.length,v=0;v<u;v++)h[s[v]]=t;else h[p]=t}return this.options.layoutId&&(h.pointerEvents=j===this?hd(a.pointerEvents)||"":"none"),h},a.prototype.clearSnapshot=function(){this.resumeFrom=this.snapshot=void 0},a.prototype.resetTree=function(){this.root.nodes.forEach(function(a){var b;return null===(b=a.currentAnimation)|| void 0===b?void 0:b.stop()}),this.root.nodes.forEach(nd),this.root.sharedNodes.clear()},a})()}function kd(a){a.updateLayout()}function ld(a){var b,c,d,e,f=null!==(c=null===(b=a.resumeFrom)|| void 0===b?void 0:b.snapshot)&& void 0!==c?c:a.snapshot;if(a.isLead()&&a.layout&&f&&a.hasListeners("didUpdate")){var g=a.layout,h=g.actual,i=g.measured;"size"===a.options.animationType?$c(function(a){var b=f.isShared?f.measured[a]:f.layout[a],c=Ec(b);b.min=h[a].min,b.max=b.min+c}):"position"===a.options.animationType&&$c(function(a){var b=f.isShared?f.measured[a]:f.layout[a],c=Ec(h[a]);b.max=b.min+c});var j=Rc();Hc(j,h,f.layout);var k=Rc();f.isShared?Hc(k,a.applyTransform(i,!0),f.measured):Hc(k,h,f.layout);var l=!Vc(j),m=!1;if(!a.resumeFrom&&(a.relativeParent=a.getClosestProjectingParent(),a.relativeParent&&!a.relativeParent.resumeFrom)){var n=a.relativeParent,o=n.snapshot,p=n.layout;if(o&&p){var q=Tc();Kc(q,f.layout,o.layout);var r=Tc();Kc(r,h,p.actual),Wc(q,r)||(m=!0)}}a.notifyListeners("didUpdate",{layout:h,snapshot:f,delta:k,layoutDelta:j,hasLayoutChanged:l,hasRelativeTargetChanged:m})}else a.isLead()&&(null===(e=(d=a.options).onExitComplete)|| void 0===e||e.call(d));a.options.transition=void 0}function md(a){a.clearSnapshot()}function nd(a){a.clearMeasurements()}function od(a){a.resetTransform()}function pd(a){a.finishAnimation(),a.targetDelta=a.relativeTarget=a.target=void 0}function qd(a){a.resolveTargetDelta()}function rd(a){a.calcProjection()}function sd(a){a.resetRotation()}function td(a){a.removeLeadSnapshot()}function ud(a,b,c){a.translate=B(b.translate,0,c),a.scale=B(b.scale,1,c),a.origin=b.origin,a.originPoint=b.originPoint}function vd(a,b,c,d){a.min=B(b.min,c.min,d),a.max=B(b.max,c.max,d)}function wd(a,b,c,d){vd(a.x,b.x,c.x,d),vd(a.y,b.y,c.y,d)}function xd(a){return a.animationValues&& void 0!==a.animationValues.opacityExit}var yd={duration:0.45,ease:[0.4,0,0.1,1]};function zd(a,b){for(var c=a.root,d=a.path.length-1;d>=0;d--)if(Boolean(a.path[d].instance)){c=a.path[d];break}var e=(c&&c!==a.root?c.instance:document).querySelector("[data-projection-id=\"".concat(b,"\"]"));e&&a.mount(e,!0)}function Ad(a){a.min=Math.round(a.min),a.max=Math.round(a.max)}function Bd(a){Ad(a.x),Ad(a.y)}var Cd=1,Dd=c(5364),Ed=(0,g.createContext)({}),Fd=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return(0,f.ZT)(b,a),b.prototype.getSnapshotBeforeUpdate=function(){return this.updateProps(),null},b.prototype.componentDidUpdate=function(){},b.prototype.updateProps=function(){var a=this.props,b=a.visualElement,c=a.props;b&&b.setProps(c)},b.prototype.render=function(){return this.props.children},b}(g.Component),Gd=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","svg","switch","symbol","text","tspan","use","view",];function Hd(a){return!("string"!=typeof a||a.includes("-"))&&!!(Gd.indexOf(a)> -1||/[A-Z]/.test(a))}function Id(a,b){var c=b.layout,d=b.layoutId;return dd(a)||fd(a)||(c|| void 0!==d)&&(!!Yc[a]||"opacity"===a)}var Jd={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"};function Kd(a){return a.startsWith("--")}function Ld(a,b,c,d){var e,f,g,h,i,j=a.style,k=a.vars,l=a.transform,m=a.transformKeys,n=a.transformOrigin;m.length=0;var o=!1,p=!1,q=!0;for(var r in b){var s=b[r];if(Kd(r)){k[r]=s;continue}var t,u,v=Wb[r],w=(t=s,(u=v)&&"number"==typeof t?u.transform(t):t);if(dd(r)){if(o=!0,l[r]=w,m.push(r),!q)continue;s!==(null!==(i=v.default)&& void 0!==i?i:0)&&(q=!1)}else fd(r)?(n[r]=w,p=!0):j[r]=w}o?j.transform=(function(a,b,c,d){var e=a.transform,f=a.transformKeys,g=b.enableHardwareAcceleration,h=b.allowTransformNone,i="";f.sort(bd);for(var j=!1,k=f.length,l=0;l<k;l++){var m=f[l];i+="".concat(Jd[m]||m,"(").concat(e[m],") "),"z"===m&&(j=!0)}return!j&&(void 0===g||g)?i+="translateZ(0)":i=i.trim(),d?i=d(e,c?"":i):(void 0===h||h)&&c&&(i="none"),i})(a,c,q,d):d&&(j.transform=d({},"")),p&&(j.transformOrigin=(f=(e=n).originX,g=e.originY,h=e.originZ,"".concat(void 0===f?"50%":f," ").concat(void 0===g?"50%":g," ").concat(void 0===h?0:h)))}var Md=function(){return{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}};function Nd(a,b,c){for(var d in b)I(b[d])||Id(d,c)||(a[d]=b[d])}function Od(a,b,c){var d,e,h,i,j,k,l,m,n={},o=(d=a,e=b,h=c,Nd(i={},d.style||{},d),Object.assign(i,(j=d,k=e,l=h,m=j.transformTemplate,(0,g.useMemo)(function(){var a=Md();Ld(a,k,{enableHardwareAcceleration:!l},m);var b=a.vars,c=a.style;return(0,f.pi)((0,f.pi)({},b),c)},[k]))),d.transformValues&&(i=d.transformValues(i)),i);return Boolean(a.drag)&& !1!==a.dragListener&&(n.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=!0===a.drag?"none":"pan-".concat("x"===a.drag?"y":"x")),n.style=o,n}var Pd=new Set(["initial","animate","exit","style","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","layoutDependency","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","dragSnapToOrigin","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","whileDrag","onPan","onPanStart","onPanEnd","onPanSessionStart","onTap","onTapStart","onTapCancel","onHoverStart","onHoverEnd","whileFocus","whileTap","whileHover","whileInView","onViewportEnter","onViewportLeave","viewport","layoutScroll",]);function Qd(a){return Pd.has(a)}var Rd=function(a){return!Qd(a)};try{var Sd=require("@emotion/is-prop-valid").default;Rd=function(a){return a.startsWith("on")?!Qd(a):Sd(a)}}catch(Td){}function Ud(a,b,c){return"string"==typeof a?a:ka.transform(b+c*a)}var Vd={offset:"stroke-dashoffset",array:"stroke-dasharray"},Wd={offset:"strokeDashoffset",array:"strokeDasharray"};function Xd(a,b,c,d){var e,g,h,i,j,k,l,m,n,o,p,q,r,s=b.attrX,t=b.attrY,u=b.originX,v=b.originY,w=b.pathLength,x=b.pathSpacing,y=b.pathOffset;Ld(a,(0,f._T)(b,["attrX","attrY","originX","originY","pathLength","pathSpacing","pathOffset"]),c,d),a.attrs=a.style,a.style={};var z=a.attrs,A=a.style,B=a.dimensions;z.transform&&(B&&(A.transform=z.transform),delete z.transform),B&&(void 0!==u|| void 0!==v||A.transform)&&(A.transformOrigin=(e=B,g=void 0!==u?u:0.5,h=void 0!==v?v:0.5,i=Ud(g,e.x,e.width),j=Ud(h,e.y,e.height),"".concat(i," ").concat(j))),void 0!==s&&(z.x=s),void 0!==t&&(z.y=t),void 0!==w&&(k=z,l=w,o=!1,void 0===(m=void 0===x?1:x)&&(m=1),void 0===(n=void 0===y?0:y)&&(n=0),void 0===o&&(o=!0),k.pathLength=1,k[(p=o?Vd:Wd).offset]=ka.transform(-n),q=ka.transform(l),r=ka.transform(m),k[p.array]="".concat(q," ").concat(r))}var Yd=function(){return(0,f.pi)((0,f.pi)({},Md()),{attrs:{}})};function Zd(a,b){var c=(0,g.useMemo)(function(){var c=Yd();return Xd(c,b,{enableHardwareAcceleration:!1},a.transformTemplate),(0,f.pi)((0,f.pi)({},c.attrs),{style:(0,f.pi)({},c.style)})},[b]);if(a.style){var d={};Nd(d,a.style,a),c.style=(0,f.pi)((0,f.pi)({},d),c.style)}return c}var $d=/([a-z])([A-Z])/g,_d=function(a){return a.replace($d,"$1-$2").toLowerCase()};function ae(a,b,c,d){var e=b.style,f=b.vars;for(var g in Object.assign(a.style,e,d&&d.getProjectionStyles(c)),f)a.style.setProperty(g,f[g])}var be=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength",]);function ce(a,b){for(var c in ae(a,b),b.attrs)a.setAttribute(be.has(c)?c:_d(c),b.attrs[c])}function de(a){var b=a.style,c={};for(var d in b)(I(b[d])||Id(d,a))&&(c[d]=b[d]);return c}function ee(a){var b=de(a);for(var c in a)I(a[c])&&(b["x"===c||"y"===c?"attr"+c.toUpperCase():c]=a[c]);return b}function fe(a){return"object"==typeof a&&"function"==typeof a.start}function ge(a,b,c,d){var e=a.scrapeMotionValuesFromProps,f=a.createRenderState,g=a.onMount,h={latestValues:ie(b,c,d,e),renderState:f()};return g&&(h.mount=function(a){return g(b,a,h)}),h}var he=function(a){return function(b,c){var d=(0,g.useContext)(n),e=(0,g.useContext)(o.O);return c?ge(a,b,d,e):(0,z.h)(function(){return ge(a,b,d,e)})}};function ie(a,b,c,d){var e={},g=(null==c?void 0:c.initial)=== !1,h=d(a);for(var i in h)e[i]=hd(h[i]);var j=a.initial,k=a.animate,l=w(a),m=x(a);b&&m&&!l&& !1!==a.inherit&&(null!=j||(j=b.initial),null!=k||(k=b.animate));var n=g|| !1===j,o=n?k:j;return o&&"boolean"!=typeof o&&!fe(o)&&(Array.isArray(o)?o:[o]).forEach(function(b){var c=u(a,b);if(c){var d=c.transitionEnd;c.transition;var g=(0,f._T)(c,["transitionEnd","transition"]);for(var h in g){var i=g[h];if(Array.isArray(i)){var j=n?i.length-1:0;i=i[j]}null!==i&&(e[h]=i)}for(var h in d)e[h]=d[h]}}),e}var je,ke={useVisualState:he({scrapeMotionValuesFromProps:ee,createRenderState:Yd,onMount:function(a,b,c){var d=c.renderState,e=c.latestValues;try{d.dimensions="function"==typeof b.getBBox?b.getBBox():b.getBoundingClientRect()}catch(f){d.dimensions={x:0,y:0,width:0,height:0}}Xd(d,e,{enableHardwareAcceleration:!1},a.transformTemplate),ce(b,d)}})},le={useVisualState:he({scrapeMotionValuesFromProps:de,createRenderState:Md})};function me(a,b,c,d){return a.addEventListener(b,c,d),function(){return a.removeEventListener(b,c,d)}}function ne(a,b,c,d){(0,g.useEffect)(function(){var e=a.current;if(c&&e)return me(e,b,c,d)},[a,b,c,d])}function oe(a){return"undefined"!=typeof PointerEvent&&a instanceof PointerEvent?!("mouse"!==a.pointerType):a instanceof MouseEvent}function pe(a){return!!a.touches}(je=d||(d={})).Animate="animate",je.Hover="whileHover",je.Tap="whileTap",je.Drag="whileDrag",je.Focus="whileFocus",je.InView="whileInView",je.Exit="exit";var qe={pageX:0,pageY:0};function re(a,b){var c,d,e,f,g;return void 0===b&&(b="page"),{point:pe(a)?(c=a,void 0===(d=b)&&(d="page"),{x:(e=c.touches[0]||c.changedTouches[0]||qe)[d+"X"],y:e[d+"Y"]}):(f=a,void 0===(g=b)&&(g="page"),{x:f[g+"X"],y:f[g+"Y"]})}}var se=function(a,b){void 0===b&&(b=!1);var c,d=function(b){return a(b,re(b))};return b?(c=d,function(a){var b=a instanceof MouseEvent;(!b||b&&0===a.button)&&c(a)}):d},te={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},ue={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function ve(a){return p&&null===window.onpointerdown?a:p&&null===window.ontouchstart?ue[a]:p&&null===window.onmousedown?te[a]:a}function we(a,b,c,d){return me(a,ve(b),se(c,"pointerdown"===b),d)}function xe(a,b,c,d){return ne(a,ve(b),c&&se(c,"pointerdown"===b),d)}function ye(a){var b=null;return function(){return null===b&&(b=a,function(){b=null})}}var ze=ye("dragHorizontal"),Ae=ye("dragVertical");function Be(a){var b=!1;if("y"===a)b=Ae();else if("x"===a)b=ze();else{var c=ze(),d=Ae();c&&d?b=function(){c(),d()}:(c&&c(),d&&d())}return b}function Ce(){var a=Be(!0);return!a||(a(),!1)}function De(a,b,c){return function(e,f){var g;!oe(e)||Ce()||(null===(g=a.animationState)|| void 0===g||g.setActive(d.Hover,b),null==c||c(e,f))}}var Ee=function(a,b){return!!b&&(a===b||Ee(a,b.parentElement))},Fe=c(5411),Ge=new WeakMap(),He=new WeakMap(),Ie=function(a){var b;null===(b=Ge.get(a.target))|| void 0===b||b(a)},Je=function(a){a.forEach(Ie)},Ke={some:0,all:1};function Le(a,b,c,e){var h=e.root,i=e.margin,j=e.amount,k=void 0===j?"some":j,l=e.once;(0,g.useEffect)(function(){if(a){var e,g,j,m,n,o,p,q,r,s,t={root:null==h?void 0:h.current,rootMargin:i,threshold:"number"==typeof k?k:Ke[k]},u=function(a){var e,f=a.isIntersecting;if(b.isInView!==f){if(b.isInView=f,l&&!f&&b.hasEnteredView)return;f&&(b.hasEnteredView=!0),null===(e=c.animationState)|| void 0===e||e.setActive(d.InView,f);var g=c.getProps(),h=f?g.onViewportEnter:g.onViewportLeave;null==h||h(a)}};return e=c.getInstance(),g=t,j=u,n=(m=g).root,o=(0,f._T)(m,["root"]),p=n||document,He.has(p)||He.set(p,{}),(q=He.get(p))[r=JSON.stringify(o)]||(q[r]=new IntersectionObserver(Je,(0,f.pi)({root:n},o))),s=q[r],Ge.set(e,j),s.observe(e),function(){Ge.delete(e),s.unobserve(e)}}},[a,h,i,k])}function Me(a,b,c){(0,g.useEffect)(function(){a&&requestAnimationFrame(function(){var a;b.hasEnteredView=!0;var e=c.getProps().onViewportEnter;null==e||e(null),null===(a=c.animationState)|| void 0===a||a.setActive(d.InView,!0)})},[a])}var Ne=function(a){return function(b){return a(b),null}},Oe={inView:Ne(function(a){var b=a.visualElement,c=a.whileInView,d=a.onViewportEnter,e=a.onViewportLeave,f=a.viewport,h=void 0===f?{}:f,i=(0,g.useRef)({hasEnteredView:!1,isInView:!1}),j=Boolean(c||d||e);h.once&&i.current.hasEnteredView&&(j=!1),("undefined"==typeof IntersectionObserver?Me:Le)(j,i.current,b,h)}),tap:Ne(function(a){var b=a.onTap,c=a.onTapStart,e=a.onTapCancel,f=a.whileTap,h=a.visualElement,i=(0,g.useRef)(!1),j=(0,g.useRef)(null);function k(){var a;null===(a=j.current)|| void 0===a||a.call(j),j.current=null}function l(){var a;return k(),i.current=!1,null===(a=h.animationState)|| void 0===a||a.setActive(d.Tap,!1),!Ce()}function m(a,c){l()&&(Ee(h.getInstance(),a.target)?null==b||b(a,c):null==e||e(a,c))}function n(a,b){l()&&(null==e||e(a,b))}xe(h,"pointerdown",b||c||e||f?function(a,b){var e;k(),i.current||(i.current=!0,j.current=Ga(we(window,"pointerup",m),we(window,"pointercancel",n)),null===(e=h.animationState)|| void 0===e||e.setActive(d.Tap,!0),null==c||c(a,b))}:void 0),(0,Fe.z)(k)}),focus:Ne(function(a){var b=a.whileFocus,c=a.visualElement;ne(c,"focus",b?function(){var a;null===(a=c.animationState)|| void 0===a||a.setActive(d.Focus,!0)}:void 0),ne(c,"blur",b?function(){var a;null===(a=c.animationState)|| void 0===a||a.setActive(d.Focus,!1)}:void 0)}),hover:Ne(function(a){var b=a.onHoverStart,c=a.onHoverEnd,d=a.whileHover,e=a.visualElement;xe(e,"pointerenter",b||d?De(e,!0,b):void 0),xe(e,"pointerleave",c||d?De(e,!1,c):void 0)})};function Pe(){var a=(0,g.useContext)(o.O);if(null===a)return[!0,null];var b=a.isPresent,c=a.onExitComplete,d=a.register,e=Re();(0,g.useEffect)(function(){return d(e)},[]);var f=function(){return null==c?void 0:c(e)};return!b&&c?[!1,f]:[!0]}var Qe=0,Re=function(){return(0,z.h)(function(){return Qe++})};function Se(a,b){if(!Array.isArray(b))return!1;var c=b.length;if(c!==a.length)return!1;for(var d=0;d<c;d++)if(b[d]!==a[d])return!1;return!0}var Te=function(a){return function(b){return b.test(a)}},Ue=[$,ka,ja,ia,ma,la,{test:function(a){return"auto"===a},parse:function(a){return a}}],Ve=function(a){return Ue.find(Te(a))},We=(0,f.ev)((0,f.ev)([],(0,f.CR)(Ue),!1),[wa,Da],!1);function Xe(a,b,c){a.hasValue(b)?a.getValue(b).set(c):a.addValue(b,H(c))}function Ye(a,b){if(b)return(b[a]||b.default||b).from}function Ze(a,b,c){var d;void 0===c&&(c={});var e=v(a,b,c.custom),g=(e||{}).transition,h=void 0===g?a.getDefaultTransition()||{}:g;c.transitionOverride&&(h=c.transitionOverride);var i=e?function(){return $e(a,e,c)}:function(){return Promise.resolve()},j=(null===(d=a.variantChildren)|| void 0===d?void 0:d.size)?function(d){void 0===d&&(d=0);var e=h.delayChildren,f=void 0===e?0:e,g=h.staggerChildren,i=h.staggerDirection;return _e(a,b,f+d,g,i,c)}:function(){return Promise.resolve()},k=h.when;if(!k)return Promise.all([i(),j(c.delay)]);var l=(0,f.CR)("beforeChildren"===k?[i,j]:[j,i],2),m=l[0],n=l[1];return m().then(n)}function $e(a,b,c){var d,e=void 0===c?{}:c,g=e.delay,h=void 0===g?0:g,i=e.transitionOverride,j=e.type,k=a.makeTargetAnimatable(b),l=k.transition,m=void 0===l?a.getDefaultTransition():l,n=k.transitionEnd,o=(0,f._T)(k,["transition","transitionEnd"]);i&&(m=i);var p=[],q=j&&(null===(d=a.animationState)|| void 0===d?void 0:d.getState()[j]);for(var r in o){var s=a.getValue(r),t=o[r];if(!(!s|| void 0===t||q&&bf(q,r))){var u=ec(r,s,t,(0,f.pi)({delay:h},m));p.push(u)}}return Promise.all(p).then(function(){n&&(function(a,b){var c=v(a,b),d=c?a.makeTargetAnimatable(c,!1):{},e=d.transitionEnd,g=void 0===e?{}:e;d.transition;var h=(0,f._T)(d,["transitionEnd","transition"]);for(var i in h=(0,f.pi)((0,f.pi)({},h),g)){var j=_b(h[i]);Xe(a,i,j)}})(a,n)})}function _e(a,b,c,d,e,g){void 0===c&&(c=0),void 0===d&&(d=0),void 0===e&&(e=1);var h=[],i=(a.variantChildren.size-1)*d,j=1===e?function(a){return void 0===a&&(a=0),a*d}:function(a){return void 0===a&&(a=0),i-a*d};return Array.from(a.variantChildren).sort(af).forEach(function(a,d){h.push(Ze(a,b,(0,f.pi)((0,f.pi)({},g),{delay:c+j(d)})).then(function(){return a.notifyAnimationComplete(b)}))}),Promise.all(h)}function af(a,b){return a.sortNodePosition(b)}function bf(a,b){var c=a.protectedKeys,d=a.needsAnimating,e=c.hasOwnProperty(b)&& !0!==d[b];return d[b]=!1,e}var cf=[d.Animate,d.InView,d.Focus,d.Hover,d.Tap,d.Drag,d.Exit,],df=(0,f.ev)([],(0,f.CR)(cf),!1).reverse(),ef=cf.length;function ff(a){return void 0===a&&(a=!1),{isActive:a,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}var gf={animation:Ne(function(a){var b=a.visualElement,c=a.animate;b.animationState||(b.animationState=(function(a){var b,c,e=(c=a,function(a){return Promise.all(a.map(function(a){var b=a.animation,d=a.options;return(function(a,b,c){if(void 0===c&&(c={}),a.notifyAnimationStart(b),Array.isArray(b)){var d,e=b.map(function(b){return Ze(a,b,c)});d=Promise.all(e)}else if("string"==typeof b)d=Ze(a,b,c);else{var f="function"==typeof b?v(a,b,c.custom):b;d=$e(a,f,c)}return d.then(function(){return a.notifyAnimationComplete(b)})})(c,b,d)}))}),g=((b={})[d.Animate]=ff(!0),b[d.InView]=ff(),b[d.Hover]=ff(),b[d.Tap]=ff(),b[d.Drag]=ff(),b[d.Focus]=ff(),b[d.Exit]=ff(),b),h={},i=!0,j=function(b,c){var d=v(a,c);if(d){d.transition;var e=d.transitionEnd,g=(0,f._T)(d,["transition","transitionEnd"]);b=(0,f.pi)((0,f.pi)((0,f.pi)({},b),g),e)}return b};function k(b,c){for(var d,k=a.getProps(),l=a.getVariantContext(!0)||{},m=[],n=new Set(),o={},p=1/0,q=function(e){var h=df[e],q=g[h],r=null!==(d=k[h])&& void 0!==d?d:l[h],u=t(r),v=h===c?q.isActive:null;!1===v&&(p=e);var w=r===l[h]&&r!==k[h]&&u;if(w&&i&&a.manuallyAnimateOnMount&&(w=!1),q.protectedKeys=(0,f.pi)({},o),!q.isActive&&null===v|| !r&&!q.prevProp||fe(r)||"boolean"==typeof r)return"continue";var x,y,z=(x=q.prevProp,"string"==typeof(y=r)?y!==x:!!s(y)&&!Se(y,x)),A=z||h===c&&q.isActive&&!w&&u||e>p&&u,B=Array.isArray(r)?r:[r],C=B.reduce(j,{});!1===v&&(C={});var D=q.prevResolvedValues,E=void 0===D?{}:D,F=(0,f.pi)((0,f.pi)({},E),C),G=function(a){A=!0,n.delete(a),q.needsAnimating[a]=!0};for(var H in F){var I=C[H],J=E[H];o.hasOwnProperty(H)||(I!==J?Lb(I)&&Lb(J)?!Se(I,J)||z?G(H):q.protectedKeys[H]=!0:void 0!==I?G(H):n.add(H):void 0!==I&&n.has(H)?G(H):q.protectedKeys[H]=!0)}q.prevProp=r,q.prevResolvedValues=C,q.isActive&&(o=(0,f.pi)((0,f.pi)({},o),C)),i&&a.blockInitialAnimation&&(A=!1),A&&!w&&m.push.apply(m,(0,f.ev)([],(0,f.CR)(B.map(function(a){return{animation:a,options:(0,f.pi)({type:h},b)}})),!1))},r=0;r<ef;r++)q(r);if(h=(0,f.pi)({},o),n.size){var u={};n.forEach(function(b){var c=a.getBaseTarget(b);void 0!==c&&(u[b]=c)}),m.push({animation:u})}var v=Boolean(m.length);return i&& !1===k.initial&&!a.manuallyAnimateOnMount&&(v=!1),i=!1,v?e(m):Promise.resolve()}return{isAnimated:function(a){return void 0!==h[a]},animateChanges:k,setActive:function(b,c,d){var e;return g[b].isActive===c?Promise.resolve():(null===(e=a.variantChildren)|| void 0===e||e.forEach(function(a){var d;return null===(d=a.animationState)|| void 0===d?void 0:d.setActive(b,c)}),g[b].isActive=c,k(d,b))},setAnimateFunction:function(b){e=b(a)},getState:function(){return g}}})(b)),fe(c)&&(0,g.useEffect)(function(){return c.subscribe(b)},[c])}),exit:Ne(function(a){var b=a.custom,c=a.visualElement,e=(0,f.CR)(Pe(),2),h=e[0],i=e[1],j=(0,g.useContext)(o.O);(0,g.useEffect)(function(){var a,e;c.isPresent=h;var f=null===(a=c.animationState)|| void 0===a?void 0:a.setActive(d.Exit,!h,{custom:null!==(e=null==j?void 0:j.custom)&& void 0!==e?e:b});h||null==f||f.then(i)},[h])})},hf=function(){function a(a,b,c){var d=this,e=(void 0===c?{}:c).transformPagePoint;if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=function(){if(d.lastMoveEvent&&d.lastMoveEventInfo){var a=lf(d.lastMoveEventInfo,d.history),b=null!==d.startEvent,c=Dc(a.offset,{x:0,y:0})>=3;if(b||c){var e=a.point,g=(0,A.$B)().timestamp;d.history.push((0,f.pi)((0,f.pi)({},e),{timestamp:g}));var h=d.handlers,i=h.onStart,j=h.onMove;b||(i&&i(d.lastMoveEvent,a),d.startEvent=d.lastMoveEvent),j&&j(d.lastMoveEvent,a)}}},this.handlePointerMove=function(a,b){if(d.lastMoveEvent=a,d.lastMoveEventInfo=jf(b,d.transformPagePoint),oe(a)&&0===a.buttons){d.handlePointerUp(a,b);return}A.ZP.update(d.updatePoint,!0)},this.handlePointerUp=function(a,b){d.end();var c=d.handlers,e=c.onEnd,f=c.onSessionEnd,g=lf(jf(b,d.transformPagePoint),d.history);d.startEvent&&e&&e(a,g),f&&f(a,g)},!pe(a)||!(a.touches.length>1)){this.handlers=b,this.transformPagePoint=e;var g=jf(re(a),this.transformPagePoint),h=g.point,i=(0,A.$B)().timestamp;this.history=[(0,f.pi)((0,f.pi)({},h),{timestamp:i})];var j=b.onSessionStart;j&&j(a,lf(g,this.history)),this.removeListeners=Ga(we(window,"pointermove",this.handlePointerMove),we(window,"pointerup",this.handlePointerUp),we(window,"pointercancel",this.handlePointerUp))}}return a.prototype.updateHandlers=function(a){this.handlers=a},a.prototype.end=function(){this.removeListeners&&this.removeListeners(),A.qY.update(this.updatePoint)},a}();function jf(a,b){return b?{point:b(a.point)}:a}function kf(a,b){return{x:a.x-b.x,y:a.y-b.y}}function lf(a,b){var c=a.point;return{point:c,delta:kf(c,nf(b)),offset:kf(c,mf(b)),velocity:of(b,0.1)}}function mf(a){return a[0]}function nf(a){return a[a.length-1]}function of(a,b){if(a.length<2)return{x:0,y:0};for(var c=a.length-1,d=null,e=nf(a);c>=0;){if(d=a[c],e.timestamp-d.timestamp>Cb(b))break;c--}if(!d)return{x:0,y:0};var f=(e.timestamp-d.timestamp)/1000;if(0===f)return{x:0,y:0};var g={x:(e.x-d.x)/f,y:(e.y-d.y)/f};return g.x===1/0&&(g.x=0),g.y===1/0&&(g.y=0),g}function pf(a,b,c){return{min:void 0!==b?a.min+b:void 0,max:void 0!==c?a.max+c-(a.max-a.min):void 0}}function qf(a,b){var c,d=b.min-a.min,e=b.max-a.max;return b.max-b.min<a.max-a.min&&(d=(c=(0,f.CR)([e,d],2))[0],e=c[1]),{min:d,max:e}}function rf(a,b,c){return{min:sf(a,b),max:sf(a,c)}}function sf(a,b){var c;return"number"==typeof a?a:null!==(c=a[b])&& void 0!==c?c:0}function tf(a){var b=a.top,c=a.left,d=a.right,e=a.bottom;return{x:{min:c,max:d},y:{min:b,max:e}}}function uf(a,b){return tf(function(a,b){if(!b)return a;var c=b({x:a.left,y:a.top}),d=b({x:a.right,y:a.bottom});return{top:c.y,left:c.x,bottom:d.y,right:d.x}}(a.getBoundingClientRect(),b))}var vf=new WeakMap(),wf=function(){function a(a){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Tc(),this.visualElement=a}return a.prototype.start=function(a,b){var c=this,e=(void 0===b?{}:b).snapToCursor,f=void 0!==e&&e;if(!1!==this.visualElement.isPresent){var g=function(a){c.stopAnimation(),f&&c.snapToCursor(re(a,"page").point)},h=function(a,b){var e,f=c.getProps(),g=f.drag,h=f.dragPropagation,i=f.onDragStart;(!g||h||(c.openGlobalLock&&c.openGlobalLock(),c.openGlobalLock=Be(g),c.openGlobalLock))&&(c.isDragging=!0,c.currentDirection=null,c.resolveConstraints(),c.visualElement.projection&&(c.visualElement.projection.isAnimationBlocked=!0,c.visualElement.projection.target=void 0),$c(function(a){var b,d,e=c.getAxisMotionValue(a).get()||0;if(ja.test(e)){var f=null===(d=null===(b=c.visualElement.projection)|| void 0===b?void 0:b.layout)|| void 0===d?void 0:d.actual[a];f&&(e=Ec(f)*(parseFloat(e)/100))}c.originPoint[a]=e}),null==i||i(a,b),null===(e=c.visualElement.animationState)|| void 0===e||e.setActive(d.Drag,!0))},i=function(a,b){var d=c.getProps(),e=d.dragPropagation,f=d.dragDirectionLock,g=d.onDirectionLock,h=d.onDrag;if(e||c.openGlobalLock){var i=b.offset;if(f&&null===c.currentDirection){c.currentDirection=yf(i),null!==c.currentDirection&&(null==g||g(c.currentDirection));return}c.updateAxis("x",b.point,i),c.updateAxis("y",b.point,i),c.visualElement.syncRender(),null==h||h(a,b)}},j=function(a,b){return c.stop(a,b)};this.panSession=new hf(a,{onSessionStart:g,onStart:h,onMove:i,onSessionEnd:j},{transformPagePoint:this.visualElement.getTransformPagePoint()})}},a.prototype.stop=function(a,b){var c=this.isDragging;if(this.cancel(),c){var d=b.velocity;this.startAnimation(d);var e=this.getProps().onDragEnd;null==e||e(a,b)}},a.prototype.cancel=function(){var a,b;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),null===(a=this.panSession)|| void 0===a||a.end(),this.panSession=void 0,!this.getProps().dragPropagation&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),null===(b=this.visualElement.animationState)|| void 0===b||b.setActive(d.Drag,!1)},a.prototype.updateAxis=function(a,b,c){var d=this.getProps().drag;if(c&&xf(a,d,this.currentDirection)){var e,f,g,h,i,j=this.getAxisMotionValue(a),k=this.originPoint[a]+c[a];this.constraints&&this.constraints[a]&&(k=(e=k,f=this.constraints[a],g=this.elastic[a],h=f.min,i=f.max,void 0!==h&&e<h?e=g?B(h,e,g.min):Math.max(e,h):void 0!==i&&e>i&&(e=g?B(i,e,g.max):Math.min(e,i)),e)),j.set(k)}},a.prototype.resolveConstraints=function(){var a,b,c,d,e,f,g,h=this,i=this.getProps(),j=i.dragConstraints,k=i.dragElastic,l=(this.visualElement.projection||{}).layout,m=this.constraints;j&&r(j)?this.constraints||(this.constraints=this.resolveRefConstraints()):j&&l?this.constraints=(a=l.actual,c=(b=j).top,d=b.left,e=b.bottom,f=b.right,{x:pf(a.x,d,f),y:pf(a.y,c,e)}):this.constraints=!1,void 0===(g=k)&&(g=0.35),!1===g?g=0:!0===g&&(g=0.35),this.elastic={x:rf(g,"left","right"),y:rf(g,"top","bottom")},m!==this.constraints&&l&&this.constraints&&!this.hasMutatedConstraints&&$c(function(a){if(h.getAxisMotionValue(a)){var b,c,d;h.constraints[a]=(b=l.actual[a],d={},void 0!==(c=h.constraints[a]).min&&(d.min=c.min-b.min),void 0!==c.max&&(d.max=c.max-b.min),d)}})},a.prototype.resolveRefConstraints=function(){var a=this.getProps(),b=a.dragConstraints,c=a.onMeasureDragConstraints;if(!b||!r(b))return!1;var d=b.current;K(null!==d,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");var e=this.visualElement.projection;if(!e||!e.layout)return!1;var f,g,h,i,j,k,l=(f=d,g=e.root,h=uf(f,this.visualElement.getTransformPagePoint()),(i=g.scroll)&&(vc(h.x,i.x),vc(h.y,i.y)),h),m=(j=e.layout.actual,k=l,{x:qf(j.x,k.x),y:qf(j.y,k.y)});if(c){var n,o,p,q=c((o=(n=m).x,p=n.y,{top:p.min,right:o.max,bottom:p.max,left:o.min}));this.hasMutatedConstraints=!!q,q&&(m=tf(q))}return m},a.prototype.startAnimation=function(a){var b=this,c=this.getProps(),d=c.drag,e=c.dragMomentum,g=c.dragElastic,h=c.dragTransition,i=c.dragSnapToOrigin,j=c.onDragTransitionEnd,k=this.constraints||{},l=$c(function(c){var j;if(xf(c,d,b.currentDirection)){var l=null!==(j=null==k?void 0:k[c])&& void 0!==j?j:{};i&&(l={min:0,max:0});var m=(0,f.pi)((0,f.pi)({type:"inertia",velocity:e?a[c]:0,bounceStiffness:g?200:10e5,bounceDamping:g?40:10e6,timeConstant:750,restDelta:1,restSpeed:10},h),l);return b.startAxisValueAnimation(c,m)}});return Promise.all(l).then(j)},a.prototype.startAxisValueAnimation=function(a,b){var c=this.getAxisMotionValue(a);return ec(a,c,0,b)},a.prototype.stopAnimation=function(){var a=this;$c(function(b){return a.getAxisMotionValue(b).stop()})},a.prototype.getAxisMotionValue=function(a){var b,c,d="_drag"+a.toUpperCase();return this.visualElement.getProps()[d]||this.visualElement.getValue(a,null!==(c=null===(b=this.visualElement.getProps().initial)|| void 0===b?void 0:b[a])&& void 0!==c?c:0)},a.prototype.snapToCursor=function(a){var b=this;$c(function(c){if(xf(c,b.getProps().drag,b.currentDirection)){var d=b.visualElement.projection,e=b.getAxisMotionValue(c);if(d&&d.layout){var f=d.layout.actual[c],g=f.min,h=f.max;e.set(a[c]-B(g,h,0.5))}}})},a.prototype.scalePositionWithinConstraints=function(){var a,b=this,c=this.getProps(),d=c.drag,e=c.dragConstraints,f=this.visualElement.projection;if(r(e)&&f&&this.constraints){this.stopAnimation();var g={x:0,y:0};$c(function(a){var c=b.getAxisMotionValue(a);if(c){var d,e,f,h,i,j=c.get();g[a]=(d={min:j,max:j},e=b.constraints[a],f=0.5,h=Ec(d),i=Ec(e),i>h?f=T(e.min,e.max-h,d.min):h>i&&(f=T(d.min,d.max-i,e.min)),L(0,1,f))}});var h=this.visualElement.getProps().transformTemplate;this.visualElement.getInstance().style.transform=h?h({},""):"none",null===(a=f.root)|| void 0===a||a.updateScroll(),f.updateLayout(),this.resolveConstraints(),$c(function(a){if(xf(a,d,null)){var c=b.getAxisMotionValue(a),e=b.constraints[a],f=e.min,h=e.max;c.set(B(f,h,g[a]))}})}},a.prototype.addListeners=function(){var a,b=this;vf.set(this.visualElement,this);var c=we(this.visualElement.getInstance(),"pointerdown",function(a){var c=b.getProps(),d=c.drag,e=c.dragListener;d&&(void 0===e||e)&&b.start(a)}),d=function(){r(b.getProps().dragConstraints)&&(b.constraints=b.resolveRefConstraints())},e=this.visualElement.projection,f=e.addEventListener("measure",d);e&&!e.layout&&(null===(a=e.root)|| void 0===a||a.updateScroll(),e.updateLayout()),d();var g=me(window,"resize",function(){b.scalePositionWithinConstraints()});return e.addEventListener("didUpdate",function(a){var c=a.delta,d=a.hasLayoutChanged;b.isDragging&&d&&($c(function(a){var d=b.getAxisMotionValue(a);d&&(b.originPoint[a]+=c[a].translate,d.set(d.get()+c[a].translate))}),b.visualElement.syncRender())}),function(){g(),c(),f()}},a.prototype.getProps=function(){var a=this.visualElement.getProps(),b=a.drag,c=a.dragDirectionLock,d=a.dragPropagation,e=a.dragConstraints,g=a.dragElastic,h=a.dragMomentum;return(0,f.pi)((0,f.pi)({},a),{drag:void 0!==b&&b,dragDirectionLock:void 0!==c&&c,dragPropagation:void 0!==d&&d,dragConstraints:void 0!==e&&e,dragElastic:void 0===g?0.35:g,dragMomentum:void 0===h||h})},a}();function xf(a,b,c){return(!0===b||b===a)&&(null===c||c===a)}function yf(a,b){void 0===b&&(b=10);var c=null;return Math.abs(a.y)>b?c="y":Math.abs(a.x)>b&&(c="x"),c}var zf={pan:Ne(function(a){var b=a.onPan,c=a.onPanStart,d=a.onPanEnd,e=a.onPanSessionStart,f=a.visualElement,h=(0,g.useRef)(null),i=(0,g.useContext)(m).transformPagePoint,j={onSessionStart:e,onStart:c,onMove:b,onEnd:function(a,b){h.current=null,d&&d(a,b)}};(0,g.useEffect)(function(){null!==h.current&&h.current.updateHandlers(j)}),xe(f,"pointerdown",(b||c||d||e)&&function(a){h.current=new hf(a,j,{transformPagePoint:i})}),(0,Fe.z)(function(){return h.current&&h.current.end()})}),drag:Ne(function(a){var b=a.dragControls,c=a.visualElement,d=(0,z.h)(function(){return new wf(c)});(0,g.useEffect)(function(){return b&&b.subscribe(d)},[d,b]),(0,g.useEffect)(function(){return d.addListeners()},[d])})},Af=["LayoutMeasure","BeforeLayoutMeasure","LayoutUpdate","ViewportBoxUpdate","Update","Render","AnimationComplete","LayoutAnimationComplete","AnimationStart","SetAxisTarget","Unmount",],Bf=function(a){var b=a.treeType,c=void 0===b?"":b,d=a.build,e=a.getBaseTarget,g=a.makeTargetAnimatable,h=a.measureViewportBox,i=a.render,j=a.readValueFromInstance,k=a.removeValueFromRenderState,l=a.sortNodePosition,m=a.scrapeMotionValuesFromProps;return function(a,b){var n,o,p=a.parent,q=a.props,r=a.presenceId,s=a.blockInitialAnimation,u=a.visualState;void 0===b&&(b={});var v=!1,y=u.latestValues,z=u.renderState,B=function(){var a=Af.map(function(){return new F()}),b={},c={clearAllListeners:function(){return a.forEach(function(a){return a.clear()})},updatePropListeners:function(a){Af.forEach(function(d){var e,f="on"+d,g=a[f];null===(e=b[d])|| void 0===e||e.call(b),g&&(b[d]=c[f](g))})}};return a.forEach(function(a,b){c["on"+Af[b]]=function(b){return a.add(b)},c["notify"+Af[b]]=function(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];a.notify.apply(a,(0,f.ev)([],(0,f.CR)(b),!1))}}),c}(),C=new Map(),D=new Map(),E={},G=(0,f.pi)({},y);function J(){n&&v&&(K(),i(n,z,q.style,R.projection))}function K(){d(R,z,y,b,q)}function L(){B.notifyUpdate(y)}var M=m(q);for(var N in M){var O=M[N];void 0!==y[N]&&I(O)&&O.set(y[N],!1)}var P=w(q),Q=x(q),R=(0,f.pi)((0,f.pi)({treeType:c,current:null,depth:p?p.depth+1:0,parent:p,children:new Set(),presenceId:r,variantChildren:Q?new Set():void 0,isVisible:void 0,manuallyAnimateOnMount:Boolean(null==p?void 0:p.isMounted()),blockInitialAnimation:s,isMounted:function(){return Boolean(n)},mount:function(a){v=!0,n=R.current=a,R.projection&&R.projection.mount(a),Q&&p&&!P&&(o=null==p?void 0:p.addVariantChild(R)),null==p||p.children.add(R),R.setProps(q)},unmount:function(){var a;null===(a=R.projection)|| void 0===a||a.unmount(),A.qY.update(L),A.qY.render(J),D.forEach(function(a){return a()}),null==o||o(),null==p||p.children.delete(R),B.clearAllListeners(),n=void 0,v=!1},addVariantChild:function(a){var b,c=R.getClosestVariantNode();if(c)return null===(b=c.variantChildren)|| void 0===b||b.add(a),function(){return c.variantChildren.delete(a)}},sortNodePosition:function(a){return l&&c===a.treeType?l(R.getInstance(),a.getInstance()):0},getClosestVariantNode:function(){return Q?R:null==p?void 0:p.getClosestVariantNode()},getLayoutId:function(){return q.layoutId},getInstance:function(){return n},getStaticValue:function(a){return y[a]},setStaticValue:function(a,b){return y[a]=b},getLatestValues:function(){return y},setVisibility:function(a){R.isVisible!==a&&(R.isVisible=a,R.scheduleRender())},makeTargetAnimatable:function(a,b){return void 0===b&&(b=!0),g(R,a,q,b)},measureViewportBox:function(){return h(n,q)},addValue:function(a,b){var c,d,e,f;R.hasValue(a)&&R.removeValue(a),C.set(a,b),y[a]=b.get(),c=a,e=(d=b).onChange(function(a){y[c]=a,q.onUpdate&&A.ZP.update(L,!1,!0)}),f=d.onRenderRequest(R.scheduleRender),D.set(c,function(){e(),f()})},removeValue:function(a){var b;C.delete(a),null===(b=D.get(a))|| void 0===b||b(),D.delete(a),delete y[a],k(a,z)},hasValue:function(a){return C.has(a)},getValue:function(a,b){var c=C.get(a);return void 0===c&& void 0!==b&&(c=H(b),R.addValue(a,c)),c},forEachValue:function(a){return C.forEach(a)},readValue:function(a){var c;return null!==(c=y[a])&& void 0!==c?c:j(n,a,b)},setBaseTarget:function(a,b){G[a]=b},getBaseTarget:function(a){if(e){var b=e(q,a);if(void 0!==b&&!I(b))return b}return G[a]}},B),{build:function(){return K(),z},scheduleRender:function(){A.ZP.render(J,!1,!0)},syncRender:J,setProps:function(a){q=a,B.updatePropListeners(a),E=(function(a,b,c){var d;for(var e in b){var f=b[e],g=c[e];if(I(f))a.addValue(e,f);else if(I(g))a.addValue(e,H(f));else if(g!==f)if(a.hasValue(e)){var h=a.getValue(e);h.hasAnimated||h.set(f)}else a.addValue(e,H(null!==(d=a.getStaticValue(e))&& void 0!==d?d:f))}for(var e in c)void 0===b[e]&&a.removeValue(e);return b})(R,m(q),E)},getProps:function(){return q},getVariant:function(a){var b;return null===(b=q.variants)|| void 0===b?void 0:b[a]},getDefaultTransition:function(){return q.transition},getTransformPagePoint:function(){return q.transformPagePoint},getVariantContext:function(a){if(void 0===a&&(a=!1),a)return null==p?void 0:p.getVariantContext();if(!P){var b=(null==p?void 0:p.getVariantContext())||{};return void 0!==q.initial&&(b.initial=q.initial),b}for(var c={},d=0;d<Df;d++){var e=Cf[d],f=q[e];(t(f)|| !1===f)&&(c[e]=f)}return c}});return R}},Cf=(0,f.ev)(["initial"],(0,f.CR)(cf),!1),Df=Cf.length;function Ef(a){return"string"==typeof a&&a.startsWith("var(--")}var Ff=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Gf(a,b,c){void 0===c&&(c=1),K(c<=4,"Max CSS variable fallback depth detected in property \"".concat(a,"\". This may indicate a circular fallback dependency."));var d=(0,f.CR)(function(a){var b=Ff.exec(a);if(!b)return[,];var c=(0,f.CR)(b,3),d=c[1],e=c[2];return[d,e]}(a),2),e=d[0],g=d[1];if(e){var h=window.getComputedStyle(b).getPropertyValue(e);return h?h.trim():Ef(g)?Gf(g,b,c+1):g}}var Hf,If=new Set(["width","height","top","left","right","bottom","x","y",]),Jf=function(a){return If.has(a)},Kf=function(a,b){a.set(b,!1),a.set(b)},Lf=function(a){return a===$||a===ka};(Hf=e||(e={})).width="width",Hf.height="height",Hf.left="left",Hf.right="right",Hf.top="top",Hf.bottom="bottom";var Mf=function(a,b){return parseFloat(a.split(", ")[b])},Nf=function(a,b){return function(c,d){var e=d.transform;if("none"===e||!e)return 0;var f=e.match(/^matrix3d\((.+)\)$/);if(f)return Mf(f[1],b);var g=e.match(/^matrix\((.+)\)$/);return g?Mf(g[1],a):0}},Of=new Set(["x","y","z"]),Pf=ad.filter(function(a){return!Of.has(a)}),Qf={width:function(a,b){var c=a.x,d=b.paddingLeft,e=b.paddingRight;return c.max-c.min-parseFloat(void 0===d?"0":d)-parseFloat(void 0===e?"0":e)},height:function(a,b){var c=a.y,d=b.paddingTop,e=b.paddingBottom;return c.max-c.min-parseFloat(void 0===d?"0":d)-parseFloat(void 0===e?"0":e)},top:function(a,b){return parseFloat(b.top)},left:function(a,b){return parseFloat(b.left)},bottom:function(a,b){var c=a.y;return parseFloat(b.top)+(c.max-c.min)},right:function(a,b){var c=a.x;return parseFloat(b.left)+(c.max-c.min)},x:Nf(4,13),y:Nf(5,14)},Rf=function(a,b,c){var d=b.measureViewportBox(),e=getComputedStyle(b.getInstance()),f=e.display,g={};"none"===f&&b.setStaticValue("display",a.display||"block"),c.forEach(function(a){g[a]=Qf[a](d,e)}),b.syncRender();var h=b.measureViewportBox();return c.forEach(function(c){Kf(b.getValue(c),g[c]),a[c]=Qf[c](h,e)}),a},Sf=function(a,b,c,d){void 0===c&&(c={}),void 0===d&&(d={}),b=(0,f.pi)({},b),d=(0,f.pi)({},d);var e=Object.keys(b).filter(Jf),g=[],h=!1,i=[];if(e.forEach(function(e){var f,j=a.getValue(e);if(a.hasValue(e)){var k,l,m=c[e],n=Ve(m),o=b[e];if(Lb(o)){var p=o.length,q=null===o[0]?1:0;n=Ve(m=o[q]);for(var r=q;r<p;r++)f?K(Ve(o[r])===f,"All keyframes must be of the same type"):K((f=Ve(o[r]))===n||Lf(n)&&Lf(f),"Keyframes must be of the same dimension as the current value")}else f=Ve(o);if(n!==f)if(Lf(n)&&Lf(f)){var s=j.get();"string"==typeof s&&j.set(parseFloat(s)),"string"==typeof o?b[e]=parseFloat(o):Array.isArray(o)&&f===ka&&(b[e]=o.map(parseFloat))}else(null==n?void 0:n.transform)&&(null==f?void 0:f.transform)&&(0===m||0===o)?0===m?j.set(f.transform(m)):b[e]=n.transform(o):(h||(k=a,l=[],Pf.forEach(function(a){var b=k.getValue(a);void 0!==b&&(l.push([a,b.get()]),b.set(a.startsWith("scale")?1:0))}),l.length&&k.syncRender(),g=l,h=!0),i.push(e),d[e]=void 0!==d[e]?d[e]:b[e],Kf(j,o))}}),!i.length)return{target:b,transitionEnd:d};var j=Rf(b,a,i);return g.length&&g.forEach(function(b){var c=(0,f.CR)(b,2),d=c[0],e=c[1];a.getValue(d).set(e)}),a.syncRender(),{target:j,transitionEnd:d}},Tf=function(a,b,c,d){var e,g,h,i,j,k=function(a,b,c){var d,e=(0,f._T)(b,[]),g=a.getInstance();if(!(g instanceof Element))return{target:e,transitionEnd:c};for(var h in c&&(c=(0,f.pi)({},c)),a.forEachValue(function(a){var b=a.get();if(Ef(b)){var c=Gf(b,g);c&&a.set(c)}}),e){var i=e[h];if(Ef(i)){var j=Gf(i,g);!!j&&(e[h]=j,c&&(null!==(d=c[h])&& void 0!==d||(c[h]=i)))}}return{target:e,transitionEnd:c}}(a,b,d);return b=k.target,d=k.transitionEnd,e=a,g=b,h=c,i=d,(j=g,Object.keys(j).some(Jf))?Sf(e,g,h,i):{target:g,transitionEnd:i}},Uf={treeType:"dom",readValueFromInstance:function(a,b){if(dd(b)){var c=Yb(b);return c?c.default||0:0}var d,e=(d=a,window.getComputedStyle(d));return(Kd(b)?e.getPropertyValue(b):e[b])||0},sortNodePosition:function(a,b){return 2&a.compareDocumentPosition(b)?1:-1},getBaseTarget:function(a,b){var c;return null===(c=a.style)|| void 0===c?void 0:c[b]},measureViewportBox:function(a,b){return uf(a,b.transformPagePoint)},resetTransform:function(a,b,c){var d=c.transformTemplate;b.style.transform=d?d({},""):"none",a.scheduleRender()},restoreTransform:function(a,b){a.style.transform=b.style.transform},removeValueFromRenderState:function(a,b){var c=b.vars,d=b.style;delete c[a],delete d[a]},makeTargetAnimatable:function(a,b,c,d){var e=c.transformValues;void 0===d&&(d=!0);var g=b.transition,h=b.transitionEnd,i=(0,f._T)(b,["transition","transitionEnd"]),j=function(a,b,c){var d,e,f={};for(var g in a)f[g]=null!==(d=Ye(g,b))&& void 0!==d?d:null===(e=c.getValue(g))|| void 0===e?void 0:e.get();return f}(i,g||{},a);if(e&&(h&&(h=e(h)),i&&(i=e(i)),j&&(j=e(j))),d){!function(a,b,c){var d,e,f,g,h=Object.keys(b).filter(function(b){return!a.hasValue(b)}),i=h.length;if(i)for(var j=0;j<i;j++){var k,l,m,n=h[j],o=b[n],p=null;Array.isArray(o)&&(p=o[0]),null===p&&(p=null!==(e=null!==(d=c[n])&& void 0!==d?d:a.readValue(n))&& void 0!==e?e:b[n]),null!=p&&("string"==typeof p&&(k=p,/^\-?\d*\.?\d+$/.test(k)||(l=p,/^0[^.\s]+$/.test(l)))?p=parseFloat(p):(m=p,!We.find(Te(m))&&Da.test(o)&&(p=Zb(n,o))),a.addValue(n,H(p)),null!==(f=(g=c)[n])&& void 0!==f||(g[n]=p),a.setBaseTarget(n,p))}}(a,i,j);var k=Tf(a,i,j,h);h=k.transitionEnd,i=k.target}return(0,f.pi)({transition:g,transitionEnd:h},i)},scrapeMotionValuesFromProps:de,build:function(a,b,c,d,e){void 0!==a.isVisible&&(b.style.visibility=a.isVisible?"visible":"hidden"),Ld(b,c,d,e.transformTemplate)},render:ae},Vf=Bf(Uf),Wf=Bf((0,f.pi)((0,f.pi)({},Uf),{getBaseTarget:function(a,b){return a[b]},readValueFromInstance:function(a,b){var c;return dd(b)?(null===(c=Yb(b))|| void 0===c?void 0:c.default)||0:(b=be.has(b)?b:_d(b),a.getAttribute(b))},scrapeMotionValuesFromProps:ee,build:function(a,b,c,d,e){Xd(b,c,d,e.transformTemplate)},render:ce}));function Xf(a,b){return b.max===b.min?0:a/(b.max-b.min)*100}var Yf={correct:function(a,b){if(!b.target)return a;if("string"==typeof a){if(!ka.test(a))return a;a=parseFloat(a)}var c=Xf(a,b.target.x),d=Xf(a,b.target.y);return"".concat(c,"% ").concat(d,"%")}},Zf="_$css",$f=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return(0,f.ZT)(b,a),b.prototype.componentDidMount=function(){var a,b=this,c=this.props,d=c.visualElement,e=c.layoutGroup,g=c.switchLayoutGroup,h=c.layoutId,i=d.projection;a=_f,Object.assign(Yc,a),i&&((null==e?void 0:e.group)&&e.group.add(i),(null==g?void 0:g.register)&&h&&g.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",function(){b.safeToRemove()}),i.setOptions((0,f.pi)((0,f.pi)({},i.options),{onExitComplete:function(){return b.safeToRemove()}}))),id.hasEverUpdated=!0},b.prototype.getSnapshotBeforeUpdate=function(a){var b=this,c=this.props,d=c.layoutDependency,e=c.visualElement,f=c.drag,g=c.isPresent,h=e.projection;return!h||(h.isPresent=g,f||a.layoutDependency!==d|| void 0===d?h.willUpdate():this.safeToRemove(),a.isPresent===g||(g?h.promote():h.relegate()||A.ZP.postRender(function(){var a;(null===(a=h.getStack())|| void 0===a?void 0:a.members.length)||b.safeToRemove()}))),null},b.prototype.componentDidUpdate=function(){var a=this.props.visualElement.projection;a&&(a.root.didUpdate(),!a.currentAnimation&&a.isLead()&&this.safeToRemove())},b.prototype.componentWillUnmount=function(){var a=this.props,b=a.visualElement,c=a.layoutGroup,d=a.switchLayoutGroup,e=b.projection;e&&(e.scheduleCheckAfterUnmount(),(null==c?void 0:c.group)&&c.group.remove(e),(null==d?void 0:d.deregister)&&d.deregister(e))},b.prototype.safeToRemove=function(){var a=this.props.safeToRemove;null==a||a()},b.prototype.render=function(){return null},b}(g.Component),_f={borderRadius:(0,f.pi)((0,f.pi)({},Yf),{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius",]}),borderTopLeftRadius:Yf,borderTopRightRadius:Yf,borderBottomLeftRadius:Yf,borderBottomRightRadius:Yf,boxShadow:{correct:function(a,b){var c=b.treeScale,d=b.projectionDelta,e=a.includes("var("),f=[];e&&(a=a.replace(Ff,function(a){return f.push(a),Zf}));var g=Da.parse(a);if(g.length>5)return a;var h=Da.createTransformer(a),i="number"!=typeof g[0]?1:0,j=d.x.scale*c.x,k=d.y.scale*c.y;g[0+i]/=j,g[1+i]/=k;var l=B(j,k,0.5);"number"==typeof g[2+i]&&(g[2+i]/=l),"number"==typeof g[3+i]&&(g[3+i]/=l);var m=h(g);if(e){var n=0;m=m.replace(Zf,function(){var a=f[n];return n++,a})}return m}}},ag=jd({attachResizeListener:function(a,b){return a.addEventListener("resize",b,{passive:!0}),function(){return a.removeEventListener("resize",b)}},measureScroll:function(){return{x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}}}),bg={current:void 0},cg=jd({measureScroll:function(a){return{x:a.scrollLeft,y:a.scrollTop}},defaultParent:function(){if(!bg.current){var a=new ag(0,{});a.mount(window),a.setOptions({layoutScroll:!0}),bg.current=a}return bg.current},resetTransform:function(a,b){a.style.transform=null!=b?b:"none"}}),dg=(0,f.pi)((0,f.pi)((0,f.pi)((0,f.pi)({},gf),Oe),zf),{measureLayout:function(a){var b=(0,f.CR)(Pe(),2),c=b[0],d=b[1],e=(0,g.useContext)(Dd.p);return g.createElement($f,(0,f.pi)({},a,{layoutGroup:e,switchLayoutGroup:(0,g.useContext)(Ed),isPresent:c,safeToRemove:d}))}}),eg=function(a){function b(b,c){var d,e,h,s,u,v,x;return void 0===c&&(c={}),e=(d=a(b,c)).preloadedFeatures,h=d.createVisualElement,s=d.projectionNodeConstructor,u=d.useRender,v=d.useVisualState,x=d.Component,e&&(function(a){for(var b in a)null!==a[b]&&("projectionNodeConstructor"===b?i.projectionNodeConstructor=a[b]:i[b].Component=a[b])})(e),(0,g.forwardRef)(function(a,b){var c,d,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y=(K=a.layoutId,(L=null===(J=(0,g.useContext)(Dd.p))|| void 0===J?void 0:J.id)&& void 0!==K?L+"-"+K:K);a=(0,f.pi)((0,f.pi)({},a),{layoutId:Y});var Z,$,_,aa=(0,g.useContext)(m),ba=null,ca=($=(Z=function(a,b){if(w(a)){var c=a.initial,d=a.animate;return{initial:!1===c||t(c)?c:void 0,animate:t(d)?d:void 0}}return!1!==a.inherit?b:{}}(a,(0,g.useContext)(n))).initial,_=Z.animate,(0,g.useMemo)(function(){return{initial:$,animate:_}},[y($),y(_)])),da=aa.isStatic?void 0:(0,z.h)(function(){if(id.hasEverUpdated)return Cd++}),ea=v(a,aa.isStatic);return!aa.isStatic&&p&&(M=x,N=ea,O=(0,f.pi)((0,f.pi)({},aa),a),P=h,Q=(0,g.useContext)(j),R=(0,g.useContext)(n).visualElement,S=(0,g.useContext)(o.O),T=(0,g.useRef)(void 0),P||(P=Q.renderer),!T.current&&P&&(T.current=P(M,{visualState:N,parent:R,props:O,presenceId:null==S?void 0:S.id,blockInitialAnimation:(null==S?void 0:S.initial)=== !1})),U=T.current,q(function(){null==U||U.syncRender()}),(0,g.useEffect)(function(){var a;null===(a=null==U?void 0:U.animationState)|| void 0===a||a.animateChanges()}),q(function(){return function(){return null==U?void 0:U.notifyUnmount()}},[]),ca.visualElement=U,c=da,d=a,A=ca.visualElement,B=s||i.projectionNodeConstructor,D=d.layoutId,E=d.layout,F=d.drag,G=d.dragConstraints,H=d.layoutScroll,I=(0,g.useContext)(Ed),!B||!A||(null==A?void 0:A.projection)||(A.projection=new B(c,A.getLatestValues(),null===(C=A.parent)|| void 0===C?void 0:C.projection),A.projection.setOptions({layoutId:D,layout:E,alwaysMeasureLayout:Boolean(F)||G&&r(G),visualElement:A,scheduleRender:function(){return A.scheduleRender()},animationType:"string"==typeof E?E:"both",initialPromotionConfig:I,layoutScroll:H})),ba=(function(a,b,c){var d=[];if((0,g.useContext)(j),!b)return null;for(var e=0;e<l;e++){var h=k[e],m=i[h],n=m.isEnabled,o=m.Component;n(a)&&o&&d.push(g.createElement(o,(0,f.pi)({key:h},a,{visualElement:b})))}return d})(a,ca.visualElement,e)),g.createElement(Fd,{visualElement:ca.visualElement,props:(0,f.pi)((0,f.pi)({},aa),a)},ba,g.createElement(n.Provider,{value:ca},u(x,a,da,(V=ea,W=ca.visualElement,X=b,(0,g.useCallback)(function(a){var b;a&&(null===(b=V.mount)|| void 0===b||b.call(V,a)),W&&(a?W.mount(a):W.unmount()),X&&("function"==typeof X?X(a):r(X)&&(X.current=a))},[W])),ea,aa.isStatic,ca.visualElement)))})}if("undefined"==typeof Proxy)return b;var c=new Map();return new Proxy(b,{get:function(a,d){return c.has(d)||c.set(d,b(d)),c.get(d)}})}(function(a,b){return(function(a,b,c,d,e){var h,i=b.forwardMotionProps,j=Hd(a)?ke:le;return(0,f.pi)((0,f.pi)({},j),{preloadedFeatures:c,useRender:(void 0===(h=void 0!==i&&i)&&(h=!1),function(a,b,c,d,e,i){var j=e.latestValues,k=(Hd(a)?Zd:Od)(b,j,i),l=function(a,b,c){var d={};for(var e in a)(Rd(e)|| !0===c&&Qd(e)|| !b&&!Qd(e)||a.draggable&&e.startsWith("onDrag"))&&(d[e]=a[e]);return d}(b,"string"==typeof a,h),m=(0,f.pi)((0,f.pi)((0,f.pi)({},l),k),{ref:d});return c&&(m["data-projection-id"]=c),(0,g.createElement)(a,m)}),createVisualElement:d,projectionNodeConstructor:e,Component:a})})(a,b,dg,function(a,b){return Hd(a)?Wf(b,{enableHardwareAcceleration:!1}):Vf(b,{enableHardwareAcceleration:!0})},cg)})},6681:function(a,b,c){"use strict";c.d(b,{h:function(){return e}});var d=c(7294);function e(a){var b=(0,d.useRef)(null);return null===b.current&&(b.current=a()),b.current}},5411:function(a,b,c){"use strict";c.d(b,{z:function(){return e}});var d=c(7294);function e(a){return(0,d.useEffect)(function(){return function(){return a()}},[])}},9073:function(a,b,c){"use strict";c.d(b,{qY:function(){return n},ZP:function(){return t},iW:function(){return o},"$B":function(){return s}});const d=1/60*1000,e="undefined"!=typeof performance?()=>performance.now():()=>Date.now(),f="undefined"!=typeof window?a=>window.requestAnimationFrame(a):a=>setTimeout(()=>a(e()),d);let g=!0,h=!1,i=!1;const j={delta:0,timestamp:0},k=["read","update","preRender","render","postRender",],l=k.reduce((a,b)=>(a[b]=(function(a){let b=[],c=[],d=0,e=!1,f=!1;const g=new WeakSet(),h={schedule:(a,f=!1,h=!1)=>{const i=h&&e,j=i?b:c;return f&&g.add(a),-1===j.indexOf(a)&&(j.push(a),i&&e&&(d=b.length)),a},cancel:a=>{const b=c.indexOf(a);-1!==b&&c.splice(b,1),g.delete(a)},process:i=>{if(e){f=!0;return}if(e=!0,[b,c]=[c,b],c.length=0,d=b.length)for(let j=0;j<d;j++){const k=b[j];k(i),g.has(k)&&(h.schedule(k),a())}e=!1,f&&(f=!1,h.process(i))}};return h})(()=>h=!0),a),{}),m=k.reduce((a,b)=>{const c=l[b];return a[b]=(a,b=!1,d=!1)=>(h||r(),c.schedule(a,b,d)),a},{}),n=k.reduce((a,b)=>(a[b]=l[b].cancel,a),{}),o=k.reduce((a,b)=>(a[b]=()=>l[b].process(j),a),{}),p=a=>l[a].process(j),q=a=>{h=!1,j.delta=g?d:Math.max(Math.min(a-j.timestamp,40),1),j.timestamp=a,i=!0,k.forEach(p),i=!1,h&&(g=!1,f(q))},r=()=>{h=!0,g=!0,i||f(q)},s=()=>j;var t=m}},function(a){var b=function(b){return a(a.s=b)};a.O(0,[774,179],function(){return b(1780),b(387)}),_N_E=a.O()}])